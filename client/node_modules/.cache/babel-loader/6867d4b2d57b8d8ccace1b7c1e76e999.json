{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Modal,Space,Radio,Row,Button}from\"antd\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Edit=function Edit(props){// eslint-disable-next-line\nvar _useState=useState(props.user),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUsers=_useState2[1];var _useState3=useState(props.user.firstName),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(props.user.lastName),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(props.user.email),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(props.user.isAdmin),_useState10=_slicedToArray(_useState9,2),role=_useState10[0],setRole=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),visible=_useState12[0],setVisible=_useState12[1];var postData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/v1/auth/edit\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({id:user.id,firstName:firstName,lastName:lastName,email:email,role:role})}).then(function(res){return res.json;});case 2:case\"end\":return _context.stop();}}},_callee);}));return function postData(){return _ref.apply(this,arguments);};}();var onCreate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setVisible(false);email.toString(email);email.toLowerCase();_context2.next=5;return postData();case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function onCreate(){return _ref2.apply(this,arguments);};}();var onCancel=function onCancel(){setVisible(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setVisible(true);},children:\"Edit User info & Role\"}),/*#__PURE__*/_jsxs(Modal,{visible:visible,title:\"Edit a users info\",okText:\"Update\",cancelText:\"Cancel\",onCancel:onCancel,onOk:onCreate,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"h5\",{children:[\"Edit Name :\",\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\",defaultValue:user.firstName,onChange:function onChange(e){return setFirstName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"ml-2 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\",defaultValue:user.lastName,onChange:function onChange(e){return setLastName(e.target.value);}})]})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(\"h5\",{children:[\"Edit Email :\",\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\",defaultValue:user.email,onChange:function onChange(e){return setEmail(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"h5\",{children:\"Edit Role : \"}),/*#__PURE__*/_jsx(Radio.Group,{buttonStyle:\"solid\",defaultValue:user.isAdmin,onChange:function onChange(e){return setRole(e.target.value);},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Radio.Button,{value:false,children:\"User\"}),/*#__PURE__*/_jsx(Radio.Button,{value:true,children:\"Admin\"})]})})]})]});};export default Edit;","map":{"version":3,"sources":["C:/Users/japot/Desktop/Peppermint/Peppermint/client/src/components/users/Edit.js"],"names":["React","useState","Modal","Space","Radio","Row","Button","Edit","props","user","setUsers","firstName","setFirstName","lastName","setLastName","email","setEmail","isAdmin","role","setRole","visible","setVisible","postData","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","id","then","res","json","onCreate","toString","toLowerCase","onCancel","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Modal, Space, Radio, Row, Button } from \"antd\";\r\n\r\nconst Edit = (props) => {\r\n  // eslint-disable-next-line\r\n  const [user, setUsers] = useState(props.user);\r\n  const [firstName, setFirstName] = useState(props.user.firstName);\r\n  const [lastName, setLastName] = useState(props.user.lastName);\r\n  const [email, setEmail] = useState(props.user.email);\r\n  const [role, setRole] = useState(props.user.isAdmin);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const postData = async () => {\r\n    await fetch(`/api/v1/auth/edit`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        id: user.id,\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        role,\r\n      }),\r\n    }).then((res) => res.json);\r\n  };\r\n\r\n  const onCreate = async () => {\r\n    setVisible(false);\r\n    email.toString(email);\r\n    email.toLowerCase();\r\n    await postData();\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          setVisible(true);\r\n        }}\r\n      >\r\n        Edit User info & Role\r\n      </Button>\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Edit a users info\"\r\n        okText=\"Update\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={onCreate}\r\n      >\r\n        <Row>\r\n          <h5>\r\n            Edit Name :{\" \"}\r\n            <div className=\"flex flex-row\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              defaultValue={user.firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"ml-2 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              defaultValue={user.lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n            />\r\n            </div>\r\n          </h5>\r\n        </Row>\r\n        <Row>\r\n          <h5>\r\n            Edit Email :{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              defaultValue={user.email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </h5>\r\n        </Row>\r\n          <h5>Edit Role : </h5>\r\n          <Radio.Group\r\n            buttonStyle=\"solid\"\r\n            defaultValue={user.isAdmin}\r\n            onChange={(e) => setRole(e.target.value)}\r\n          >\r\n            <Space>\r\n              <Radio.Button value={false}>User</Radio.Button>\r\n              <Radio.Button value={true}>Admin</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n"]},"metadata":{},"sourceType":"module"}