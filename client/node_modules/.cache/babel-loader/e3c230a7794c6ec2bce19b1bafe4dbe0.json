{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\japot\\\\Desktop\\\\Peppermint\\\\Peppermint\\\\client\\\\src\\\\pages\\\\auth\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Spin, Input, notification } from \"antd\";\nimport { LockOutlined, EyeInvisibleOutlined, EyeTwoTone } from \"@ant-design/icons\";\nimport logo from \"./logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const history = useHistory();\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [toggle, setToggle] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const errorNotification = async () => {\n    const args = await {\n      message: \"Login Error\",\n      description: [error],\n      duration: 3\n    };\n    await notification.open(args);\n  };\n\n  async function signin() {\n    try {\n      await fetch(`/api/v1/auth/login`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      }).then(res => res.json()).then(async data => {\n        console.log(data);\n\n        if (!data.error && data.auth === true) {\n          localStorage.setItem(\"user\", JSON.stringify(data.user));\n          setToggle(true);\n          setTimeout(() => {\n            history.push(\"/\");\n          }, 1000);\n        } else {\n          await setError(data.error); // setLoading(false)\n\n          await errorNotification();\n        }\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        spinning: toggle,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"sm:mx-auto sm:w-full sm:max-w-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            class: \"mx-auto h-24 w-auto\",\n            src: logo,\n            alt: \"logo hasnt loaded properly\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            class: \"mt-2 text-center text-3xl font-extrabold text-gray-900\",\n            children: \"Sign in to your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mt-4 sm:mx-auto sm:w-full sm:max-w-md\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"email\",\n                  class: \"block text-sm font-medium text-gray-700\",\n                  children: \"Email address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"mt-1\",\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    onChange: e => setEmail(e.target.value),\n                    placeholder: \"Email\",\n                    id: \"email\",\n                    name: \"email\",\n                    type: \"email\",\n                    autocomplete: \"email\",\n                    required: true,\n                    className: \"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"password\",\n                  class: \"block text-sm font-medium text-gray-700\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"mt-1\",\n                  children: /*#__PURE__*/_jsxDEV(Input.Password, {\n                    prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 31\n                    }, this),\n                    type: \"password\",\n                    placeholder: \"Password\",\n                    iconRender: visible => visible ? /*#__PURE__*/_jsxDEV(EyeTwoTone, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 35\n                    }, this) : /*#__PURE__*/_jsxDEV(EyeInvisibleOutlined, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 52\n                    }, this),\n                    onChange: e => setPassword(e.target.value),\n                    autocomplete: \"current-password\",\n                    required: true,\n                    className: \"px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setLoading(true);\n                    signin();\n                  },\n                  className: \"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n                  children: \"Sign in\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"bFPiv3OJ+xUapbhSbCBcrODdqeY=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/japot/Desktop/Peppermint/Peppermint/client/src/pages/auth/Login.js"],"names":["React","useState","useHistory","Spin","Input","notification","LockOutlined","EyeInvisibleOutlined","EyeTwoTone","logo","Login","history","password","setPassword","email","setEmail","loading","setLoading","toggle","setToggle","error","setError","errorNotification","args","message","description","duration","open","signin","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","auth","localStorage","setItem","user","setTimeout","push","e","target","value","visible"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Spin, Input, notification } from \"antd\";\r\nimport {\r\n  LockOutlined,\r\n  EyeInvisibleOutlined,\r\n  EyeTwoTone,\r\n} from \"@ant-design/icons\";\r\n\r\nimport logo from \"./logo.png\";\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [toggle, setToggle] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const errorNotification = async () => {\r\n    const args = await {\r\n      message: \"Login Error\",\r\n      description: [error],\r\n      duration: 3,\r\n    };\r\n    await notification.open(args);\r\n  };\r\n\r\n  async function signin() {\r\n    try {\r\n      await fetch(`/api/v1/auth/login`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email,\r\n          password,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then(async (data) => {\r\n          console.log(data);\r\n          if (!data.error && data.auth === true) {\r\n            localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n            setToggle(true);\r\n            setTimeout(() => {\r\n              history.push(\"/\");\r\n            }, 1000);\r\n          } else {\r\n            await setError(data.error)\r\n            // setLoading(false)\r\n            await errorNotification();\r\n\r\n          }\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div class=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n        <Spin spinning={toggle}>\r\n          <div class=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n            <img\r\n              class=\"mx-auto h-24 w-auto\"\r\n              src={logo}\r\n              alt=\"logo hasnt loaded properly\"\r\n            />\r\n            <h2 class=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">\r\n              Sign in to your account\r\n            </h2>\r\n          </div>\r\n\r\n          <div class=\"mt-4 sm:mx-auto sm:w-full sm:max-w-md\">\r\n            <div class=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n              <div class=\"space-y-6\">\r\n                <div>\r\n                  <label\r\n                    for=\"email\"\r\n                    class=\"block text-sm font-medium text-gray-700\"\r\n                  >\r\n                    Email address\r\n                  </label>\r\n                  <div class=\"mt-1\">\r\n                    <Input\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      placeholder=\"Email\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      type=\"email\"\r\n                      autocomplete=\"email\"\r\n                      required\r\n                      className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label\r\n                    for=\"password\"\r\n                    class=\"block text-sm font-medium text-gray-700\"\r\n                  >\r\n                    Password\r\n                  </label>\r\n                  <div class=\"mt-1\">\r\n                    <Input.Password\r\n                      prefix={<LockOutlined />}\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      iconRender={(visible) =>\r\n                        visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />\r\n                      }\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      autocomplete=\"current-password\"\r\n                      required\r\n                      className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <button\r\n                    onClick={() => {\r\n                      setLoading(true);\r\n                      signin();\r\n                    }}\r\n                    className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n                  >\r\n                    Sign in\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}