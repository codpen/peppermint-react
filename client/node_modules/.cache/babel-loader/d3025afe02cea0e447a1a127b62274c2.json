{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Active=function Active(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),n=_useState4[0],setN=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),visible=_useState6[0],setVisible=_useState6[1];useEffect(function(){function getNewsletter(){return _getNewsletter.apply(this,arguments);}function _getNewsletter(){_getNewsletter=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/api/v1/newsletter/get/active\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(res){setNews(res.newsletters.slice(0,3));});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return _getNewsletter.apply(this,arguments);}getNewsletter();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{\"aria-labelledby\":\"announcements-title\",children:/*#__PURE__*/_jsx(\"div\",{className:n?'rounded-lg bg-white overflow-hidden shadow':'hidden',children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-base font-medium text-gray-900\",id:\"announcements-title\",children:\"Announcements\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flow-root mt-6\",children:news?news.map(function(annoucment){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"-my-5 divide-y divide-gray-200\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative \",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-800\",children:/*#__PURE__*/_jsx(Link,{onClick:function onClick(){setVisible(true);console.log(annoucment);setN(annoucment);},className:\"hover:underline focus:outline-none\",children:annoucment.title})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-600 line-clamp-2\",children:annoucment.text})]}),/*#__PURE__*/_jsx(\"div\",{className:visible?\"fixed z-10 inset-0 overflow-y-auto\":\"hidden\",\"aria-labelledby\":\"modal-title\",role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-left sm:mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",id:\"modal-title\",children:n.title}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:n.text})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 sm:mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setVisible(false);},type:\"button\",className:\"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm\",children:\"Go back to dashboard\"})})]})]})})]})},annoucment._id)});}):/*#__PURE__*/_jsx(\"p\",{})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(Link,{to:\"\",className:\"hidden w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:\"View all\"})})]})})})});};export default Active;","map":{"version":3,"sources":["C:/Users/japot/Desktop/Peppermint/Peppermint/client/src/components/newsletter/Active.js"],"names":["React","useEffect","useState","Link","Active","news","setNews","n","setN","visible","setVisible","getNewsletter","fetch","method","headers","then","res","json","newsletters","slice","console","log","map","annoucment","title","text","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Active = () => {\r\n  const [news, setNews] = useState([]);\r\n  const [n, setN] = useState(\"\");\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function getNewsletter() {\r\n      try {\r\n        await fetch(`/api/v1/newsletter/get/active`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        })\r\n          .then((res) => res.json())\r\n          .then((res) => {\r\n            setNews(res.newsletters.slice(0, 3));\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n    getNewsletter();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <section aria-labelledby=\"announcements-title\">\r\n        <div className={n ? 'rounded-lg bg-white overflow-hidden shadow' : 'hidden' }>\r\n          <div className=\"p-6\">\r\n            <h2\r\n              className=\"text-base font-medium text-gray-900\"\r\n              id=\"announcements-title\"\r\n            >\r\n              Announcements\r\n            </h2>\r\n            <div className=\"flow-root mt-6\">\r\n              {news ? (\r\n                news.map((annoucment) => {\r\n                  return (\r\n                    <div>\r\n                      <ul\r\n                        className=\"-my-5 divide-y divide-gray-200\"\r\n                        key={annoucment._id}\r\n                      >\r\n                        <li className=\"py-5\">\r\n                          <div className=\"relative \">\r\n                            <h3 className=\"text-sm font-semibold text-gray-800\">\r\n                              <Link\r\n                                onClick={() => {\r\n                                  setVisible(true);\r\n                                  console.log(annoucment);\r\n                                  setN(annoucment);\r\n                                }}\r\n                                className=\"hover:underline focus:outline-none\"\r\n                              >\r\n                                {annoucment.title}\r\n                              </Link>\r\n                            </h3>\r\n                            <p className=\"mt-1 text-sm text-gray-600 line-clamp-2\">\r\n                              {annoucment.text}\r\n                            </p>\r\n                          </div>\r\n                          <div\r\n                            className={\r\n                              visible\r\n                                ? \"fixed z-10 inset-0 overflow-y-auto\"\r\n                                : \"hidden\"\r\n                            }\r\n                            aria-labelledby=\"modal-title\"\r\n                            role=\"dialog\"\r\n                            aria-modal=\"true\"\r\n                          >\r\n                            <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n                              <div\r\n                                className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\r\n                                aria-hidden=\"true\"\r\n                              ></div>\r\n\r\n                              <span\r\n                                className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\r\n                                aria-hidden=\"true\"\r\n                              >\r\n                                &#8203;\r\n                              </span>\r\n\r\n                              <div className=\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6\">\r\n                                <div>\r\n                                  <div className=\"mt-3 text-left sm:mt-5\">\r\n                                    <h3\r\n                                      className=\"text-lg leading-6 font-medium text-gray-900\"\r\n                                      id=\"modal-title\"\r\n                                    >\r\n                                      {n.title}\r\n                                    </h3>\r\n                                    <div className=\"mt-2\">\r\n                                      <p className=\"text-sm text-gray-500\">\r\n                                        {n.text}\r\n                                      </p>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"mt-5 sm:mt-6\">\r\n                                  <button\r\n                                    onClick={() => setVisible(false)}\r\n                                    type=\"button\"\r\n                                    className=\"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm\"\r\n                                  >\r\n                                    Go back to dashboard\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  );\r\n                })\r\n              ) : (\r\n                <p></p>\r\n              )}\r\n            </div>\r\n            <div className=\"mt-6\">\r\n              <Link\r\n                to=\"\"\r\n                className=\"hidden w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\r\n              >\r\n                View all\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Active;\r\n"]},"metadata":{},"sourceType":"module"}