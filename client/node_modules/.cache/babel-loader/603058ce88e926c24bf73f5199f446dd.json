{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Table=function Table(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tickets=_useState2[0],setTickets=_useState2[1];function getHistory(){return _getHistory.apply(this,arguments);}function _getHistory(){_getHistory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/v1/tickets/all\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(res){setTickets(res.tickets);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _getHistory.apply(this,arguments);}useEffect(function(){getHistory();},[]);var high=\"bg-red-100 text-red-800\";var low=\"bg-blue-100 text-blue-800\";var normal=\"bg-green-100 text-green-800\";console.log(tickets);return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10 -mt-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\" overflow-x-auto sm:-mx-6 lg:-mx-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Client\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Issue\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Engineer\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"relative px-6 py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Edit\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tickets?tickets.map(function(ticket){var p=ticket.priority;var badge;if(p===\"Low\"){badge=low;}if(p===\"normal\"){badge=normal;}if(p===\"High\"){badge=high;}return/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",children:ticket.name||\"\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:ticket.client.name||\"\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium \".concat(badge),children:ticket.priority||\"\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:ticket.issue||\"\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:ticket.assignedTo?ticket.assignedTo.firstName+' '+ticket.assignedTo.lastName:'not assigned'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:ticket.isComplete?'Completed':'Issued'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"tickets/\".concat(ticket._id),state:ticket},className:\"text-indigo-600 hover:text-indigo-900\",children:\"view\"})})]});}):\"\"})]})})})})})});};var Card=function Card(){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tickets=_useState4[0],setTickets=_useState4[1];function getHistory(){return _getHistory2.apply(this,arguments);}function _getHistory2(){_getHistory2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/api/v1/tickets/all\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(res){setTickets(res.tickets);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _getHistory2.apply(this,arguments);}useEffect(function(){getHistory();},[]);var high=\"bg-red-100 text-red-800\";var low=\"bg-blue-100 text-blue-800\";var normal=\"bg-green-100 text-green-800\";return/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto md:-mx-6 lg:-mx-8 mt-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-2 align-middle inline-block min-w-full md:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden md:rounded-lg\",children:tickets.map(function(ticket){var p=ticket.priority;var badge;if(p===\"Low\"){badge=low;}if(p===\"normal\"){badge=normal;}if(p===\"High\"){badge=high;}return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{class:\"w-full mb-2 border\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"px-4 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{class:\"font-semibold leading-tight text-2xl text-gray-800 hover:text-gray-800 ml-1\",children:ticket.name}),/*#__PURE__*/_jsxs(\"p\",{className:\" px-2\",children:[\"Client: \",ticket.client.name]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 m-1 rounded-full text-xs font-medium \".concat(badge),children:ticket.priority}),/*#__PURE__*/_jsx(\"p\",{class:\"text-gray-900 m-2\",children:ticket.issue}),/*#__PURE__*/_jsx(\"div\",{class:\"text-gray-700 text-sm font-bold p-2 m-2\",children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"tickets/\".concat(ticket._id),state:ticket},class:\"float-right\",children:\"View Full Ticket\"})})]})})});})})})});};var History=function History(){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden sm:block\",children:/*#__PURE__*/_jsx(Table,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:hidden\",children:/*#__PURE__*/_jsx(Card,{})})]});};export default History;","map":{"version":3,"sources":["C:/Users/japot/Desktop/Peppermint/Peppermint/client/src/pages/History.js"],"names":["React","useEffect","useState","Link","Table","tickets","setTickets","getHistory","fetch","method","headers","then","res","json","high","low","normal","console","log","map","ticket","p","priority","badge","name","client","issue","assignedTo","firstName","lastName","isComplete","pathname","_id","state","Card","History"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Table = () => {\r\n\r\n  const [tickets, setTickets] = useState([]);\r\n\r\n  async function getHistory() {\r\n    await fetch(`/api/v1/tickets/all`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setTickets(res.tickets);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getHistory();\r\n  }, []);\r\n\r\n  const high = \"bg-red-100 text-red-800\";\r\n  const low = \"bg-blue-100 text-blue-800\";\r\n  const normal = \"bg-green-100 text-green-800\";\r\n\r\n  console.log(tickets)\r\n\r\n  return (\r\n    <div className=\"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10 -mt-8\">\r\n      <div className=\"flex flex-col\">\r\n        <div className=\" overflow-x-auto sm:-mx-6 lg:-mx-8\">\r\n          <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\r\n            <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Name\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Client\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Priority\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Issue\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Engineer\r\n                    </th>\r\n                    <th\r\n                      scope=\"col\"\r\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                    >\r\n                      Status\r\n                    </th>\r\n                    <th scope=\"col\" className=\"relative px-6 py-3\">\r\n                      <span className=\"sr-only\">Edit</span>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {tickets\r\n                    ? tickets.map((ticket) => {\r\n                        let p = ticket.priority;\r\n                        let badge;\r\n\r\n                        if (p === \"Low\") {\r\n                          badge = low;\r\n                        }\r\n                        if (p === \"normal\") {\r\n                          badge = normal;\r\n                        }\r\n                        if (p === \"High\") {\r\n                          badge = high;\r\n                        }\r\n\r\n                        return (\r\n                          <tr className=\"bg-white\">\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                              {ticket.name || \"\"}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {ticket.client.name || \"\"}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              <span\r\n                                className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${badge}`}\r\n                              >\r\n                                {ticket.priority || \"\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {ticket.issue || \"\"}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {ticket.assignedTo ? ticket.assignedTo.firstName + (' ') + ticket.assignedTo.lastName : 'not assigned'}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                            {ticket.isComplete ? 'Completed' : 'Issued'}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                              <Link\r\n                                to={{\r\n                                  pathname: `tickets/${ticket._id}`,\r\n                                  state: ticket,\r\n                                }}\r\n                                className=\"text-indigo-600 hover:text-indigo-900\"\r\n                              >\r\n                                view\r\n                              </Link>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    : \"\"}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Card = () => {\r\n  const [tickets, setTickets] = useState([]);\r\n\r\n  async function getHistory() {\r\n    await fetch(`/api/v1/tickets/all`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setTickets(res.tickets);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getHistory();\r\n  }, []);\r\n\r\n  const high = \"bg-red-100 text-red-800\";\r\n  const low = \"bg-blue-100 text-blue-800\";\r\n  const normal = \"bg-green-100 text-green-800\";\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto md:-mx-6 lg:-mx-8 mt-10\">\r\n      <div className=\"py-2 align-middle inline-block min-w-full md:px-6 lg:px-8\">\r\n        <div className=\"overflow-hidden md:rounded-lg\">\r\n          {tickets.map((ticket) => {\r\n            let p = ticket.priority;\r\n            let badge;\r\n\r\n            if (p === \"Low\") {\r\n              badge = low;\r\n            }\r\n            if (p === \"normal\") {\r\n              badge = normal;\r\n            }\r\n            if (p === \"High\") {\r\n              badge = high;\r\n            }\r\n\r\n            return (\r\n              <div className=\"flex justify-start\">\r\n                <div class=\"w-full mb-2 border\">\r\n                  <div class=\"px-4 py-4\">\r\n                    <div>\r\n                      <h1 class=\"font-semibold leading-tight text-2xl text-gray-800 hover:text-gray-800 ml-1\">\r\n                        {ticket.name}\r\n                      </h1>\r\n                      <p className=\" px-2\">Client: {ticket.client.name}</p>\r\n                    </div>\r\n                    <span\r\n                      className={`inline-flex items-center px-2.5 py-0.5 m-1 rounded-full text-xs font-medium ${badge}`}\r\n                    >\r\n                      {ticket.priority}\r\n                    </span>\r\n                    <p class=\"text-gray-900 m-2\">{ticket.issue}</p>\r\n                    <div class=\"text-gray-700 text-sm font-bold p-2 m-2\">\r\n                      <Link\r\n                        to={{\r\n                          pathname: `tickets/${ticket._id}`,\r\n                          state: ticket,\r\n                        }}\r\n                        class=\"float-right\"\r\n                      >\r\n                        View Full Ticket\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst History = () => {\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      <div className=\"hidden sm:block\">\r\n        <Table />\r\n      </div>\r\n      <div className=\"sm:hidden\">\r\n        <Card />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n"]},"metadata":{},"sourceType":"module"}