{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\japot\\\\Desktop\\\\Peppermint\\\\Peppermint\\\\client\\\\src\\\\components\\\\home\\\\Files.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Space, Button } from \"antd\";\nimport fileDownload from \"js-file-download\";\nimport axios from \"axios\";\nimport { FileTwoTone, MinusCircleTwoTone, UploadOutlined } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Files = () => {\n  _s();\n\n  const [files, setFiles] = useState([]);\n\n  async function getFiles() {\n    await fetch(`/api/v1/auth/file/listFiles`, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(res => {\n      setFiles(res.files);\n    });\n  }\n\n  async function deleteFile(file) {\n    await fetch(`/api/v1/auth/file/del`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        file: file.id,\n        path: file.path\n      })\n    }).then(res => res.json()).then(res => {\n      setFiles(res.files);\n    });\n  }\n\n  function download(file) {\n    const url = `/api/v1/auth/file/download`;\n    let data = new FormData();\n    data.append(\"filepath\", file.path);\n    axios.post(url, data, {\n      responseType: \"blob\"\n    }).then(res => {\n      fileDownload(res.data, file.filename);\n    });\n  }\n\n  useEffect(() => {\n    getFiles();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flow-root p-5 mx-auto -mt-5 ml-1\",\n      children: files ? files.map(file => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Space, {\n                children: [/*#__PURE__*/_jsxDEV(FileTwoTone, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: file.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  ghost: true,\n                  style: {\n                    float: \"right\"\n                  },\n                  onClick: e => {\n                    e.stopPropagation();\n                    deleteFile(file);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(MinusCircleTwoTone, {\n                    twoToneColor: \"#FF0000\\t\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  ghost: true,\n                  onClick: async e => {\n                    e.stopPropagation();\n                    download(file);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(UploadOutlined, {\n                    style: {\n                      color: \"black\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, file._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No files found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Files, \"Q2RYUcr07MgGv5yVCV31YurpQrA=\");\n\n_c = Files;\nexport default Files;\n\nvar _c;\n\n$RefreshReg$(_c, \"Files\");","map":{"version":3,"sources":["C:/Users/japot/Desktop/Peppermint/Peppermint/client/src/components/home/Files.js"],"names":["React","useState","useEffect","Space","Button","fileDownload","axios","FileTwoTone","MinusCircleTwoTone","UploadOutlined","Files","files","setFiles","getFiles","fetch","method","headers","then","res","json","deleteFile","file","body","JSON","stringify","id","path","download","url","data","FormData","append","post","responseType","filename","map","float","e","stopPropagation","color","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,MAA9B;AACA,OAAOC,YAAP,MAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,WADF,EAEEC,kBAFF,EAGEC,cAHF,QAIO,mBAJP;;;AAMA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAElB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;;AAEA,iBAAeY,QAAf,GAA0B;AACxB,UAAMC,KAAK,CAAE,6BAAF,EAAgC;AACzCC,MAAAA,MAAM,EAAE,KADiC;AAEzCC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFgC,KAAhC,CAAL,CAMHC,IANG,CAMGC,GAAD,IAASA,GAAG,CAACC,IAAJ,EANX,EAOHF,IAPG,CAOGC,GAAD,IAAS;AACbN,MAAAA,QAAQ,CAACM,GAAG,CAACP,KAAL,CAAR;AACD,KATG,CAAN;AAUD;;AAED,iBAAeS,UAAf,CAA0BC,IAA1B,EAAgC;AAC9B,UAAMP,KAAK,CAAE,uBAAF,EAA0B;AACnCC,MAAAA,MAAM,EAAE,MAD2B;AAEnCC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAF0B;AAKnCM,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBH,QAAAA,IAAI,EAAEA,IAAI,CAACI,EADQ;AAEnBC,QAAAA,IAAI,EAAEL,IAAI,CAACK;AAFQ,OAAf;AAL6B,KAA1B,CAAL,CAUHT,IAVG,CAUGC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAVX,EAWHF,IAXG,CAWGC,GAAD,IAAS;AACbN,MAAAA,QAAQ,CAACM,GAAG,CAACP,KAAL,CAAR;AACD,KAbG,CAAN;AAcD;;AAED,WAASgB,QAAT,CAAkBN,IAAlB,EAAwB;AACtB,UAAMO,GAAG,GAAI,4BAAb;AACA,QAAIC,IAAI,GAAG,IAAIC,QAAJ,EAAX;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBV,IAAI,CAACK,IAA7B;AACApB,IAAAA,KAAK,CACF0B,IADH,CACQJ,GADR,EACaC,IADb,EACmB;AACfI,MAAAA,YAAY,EAAE;AADC,KADnB,EAIGhB,IAJH,CAISC,GAAD,IAAS;AACbb,MAAAA,YAAY,CAACa,GAAG,CAACW,IAAL,EAAWR,IAAI,CAACa,QAAhB,CAAZ;AACD,KANH;AAOD;;AAEDhC,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,QAAQ;AACT,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,kCAAf;AAAA,gBACCF,KAAK,GAAGA,KAAK,CAACwB,GAAN,CAAWd,IAAD,IAAU;AAC3B,4BACE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AAAA,mCACE;AAAA,qCACE,QAAC,KAAD;AAAA,wCACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA,4BAAOA,IAAI,CAACa;AAAZ;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,MAAD;AACE,kBAAA,KAAK,MADP;AAEE,kBAAA,KAAK,EAAE;AAAEE,oBAAAA,KAAK,EAAE;AAAT,mBAFT;AAGE,kBAAA,OAAO,EAAGC,CAAD,IAAO;AACdA,oBAAAA,CAAC,CAACC,eAAF;AACAlB,oBAAAA,UAAU,CAACC,IAAD,CAAV;AACD,mBANH;AAAA,yCAQE,QAAC,kBAAD;AAAoB,oBAAA,YAAY,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,wBAHF,eAaE,QAAC,MAAD;AACE,kBAAA,KAAK,MADP;AAEE,kBAAA,OAAO,EAAE,MAAOgB,CAAP,IAAa;AACpBA,oBAAAA,CAAC,CAACC,eAAF;AACAX,oBAAAA,QAAQ,CAACN,IAAD,CAAR;AACD,mBALH;AAAA,yCAOE,QAAC,cAAD;AAAgB,oBAAA,KAAK,EAAE;AAAEkB,sBAAAA,KAAK,EAAE;AAAT;AAAvB;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,wBAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,WAA6BlB,IAAI,CAACmB,GAAlC;AAAA;AAAA;AAAA;AAAA,gBADF;AA+BD,OAhCQ,CAAH,gBAiCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlCF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAyCD,CA5FD;;GAAM9B,K;;KAAAA,K;AA8FN,eAAeA,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Space, Button } from \"antd\";\r\nimport fileDownload from \"js-file-download\";\r\nimport axios from \"axios\";\r\nimport {\r\n  FileTwoTone,\r\n  MinusCircleTwoTone,\r\n  UploadOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nconst Files = () => {\r\n\r\n  const [files, setFiles] = useState([]);\r\n\r\n  async function getFiles() {\r\n    await fetch(`/api/v1/auth/file/listFiles`, {\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setFiles(res.files);\r\n      });\r\n  }\r\n\r\n  async function deleteFile(file) {\r\n    await fetch(`/api/v1/auth/file/del`, {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        file: file.id,\r\n        path: file.path,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        setFiles(res.files);\r\n      });\r\n  }\r\n\r\n  function download(file) {\r\n    const url = `/api/v1/auth/file/download`;\r\n    let data = new FormData();\r\n    data.append(\"filepath\", file.path);\r\n    axios\r\n      .post(url, data, {\r\n        responseType: \"blob\",\r\n      })\r\n      .then((res) => {\r\n        fileDownload(res.data, file.filename);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    getFiles();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flow-root p-5 mx-auto -mt-5 ml-1\">\r\n      {files ? files.map((file) => {\r\n        return (\r\n          <div className=\"w-full\" key={file._id}>\r\n            <ul>\r\n              <li>\r\n                <Space>\r\n                  <FileTwoTone />\r\n                  <span>{file.filename}</span>\r\n                  <Button\r\n                    ghost\r\n                    style={{ float: \"right\" }}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      deleteFile(file);\r\n                    }}\r\n                  >\r\n                    <MinusCircleTwoTone twoToneColor=\"#FF0000\t\" />\r\n                  </Button>\r\n                  <Button\r\n                    ghost\r\n                    onClick={async (e) => {\r\n                      e.stopPropagation();\r\n                      download(file);\r\n                    }}\r\n                  >\r\n                    <UploadOutlined style={{ color: \"black\" }} />\r\n                  </Button>\r\n                </Space>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        );\r\n      }) : (\r\n        <p>No files found</p>\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Files;\r\n"]},"metadata":{},"sourceType":"module"}