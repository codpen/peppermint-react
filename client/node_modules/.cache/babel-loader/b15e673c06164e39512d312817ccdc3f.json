{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/japot/Desktop/Peppermint/Peppermint/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Drawer,Button,Divider,Input,Radio,Space}from\"antd\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Edit=function Edit(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState(props.n.active),_useState4=_slicedToArray(_useState3,2),isActive=_useState4[0],setIsActive=_useState4[1];var _useState5=useState(props.n.title),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(props.n.text),_useState8=_slicedToArray(_useState7,2),text=_useState8[0],setText=_useState8[1];var onClose=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.stopPropagation();setVisible(false);_context.next=4;return postData();case 4:case\"end\":return _context.stop();}}},_callee);}));return function onClose(_x){return _ref.apply(this,arguments);};}();var postData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/api/v1/newsletter/update\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:props.n.id,text:text,title:title,active:isActive})}).then(function(res){return res.json();});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function postData(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){return setVisible(true);},children:[\"Edit\",/*#__PURE__*/_jsxs(Drawer,{width:640,placement:\"right\",onClose:onClose,visible:visible,children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Active : \",props.n.active.toString()]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Created By : \",props.n.createdBy?props.n.createdBy.firstName:'please reload']}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Title :\",\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",defaultValue:props.n.title,className:\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\",onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"h5\",{children:\"Detail\"}),/*#__PURE__*/_jsx(Input.TextArea,{defaultValue:props.n.text,rows:10,onChange:function onChange(e){return setText(e.target.value);}}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"h5\",{children:\"Select the button below to change visability \"}),/*#__PURE__*/_jsx(Radio.Group,{buttonStyle:\"solid\",value:isActive,onChange:function onChange(e){return setIsActive(e.target.value);},style:{textAlign:\"center\"},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Radio.Button,{value:true,children:\"Active\"}),/*#__PURE__*/_jsx(Radio.Button,{value:false,children:\"Hidden\"})]})})]})]})});};export default Edit;","map":{"version":3,"sources":["C:/Users/japot/Desktop/Peppermint/Peppermint/client/src/components/newsletter/Edit.js"],"names":["React","useState","Drawer","Button","Divider","Input","Radio","Space","Edit","props","visible","setVisible","n","active","isActive","setIsActive","title","setTitle","text","setText","onClose","e","stopPropagation","postData","fetch","method","headers","body","JSON","stringify","id","then","res","json","toString","createdBy","firstName","target","value","textAlign"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Drawer, Button, Divider, Input, Radio, Space } from \"antd\";\r\n\r\nconst Edit = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [isActive, setIsActive] = useState(props.n.active);\r\n  const [title, setTitle] = useState(props.n.title);\r\n  const [text, setText] = useState(props.n.text);\r\n\r\n  const onClose = async (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n    await postData();\r\n  };\r\n\r\n  const postData = async () => {\r\n    await fetch(`/api/v1/newsletter/update`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        id: props.n.id,\r\n        text,\r\n        title,\r\n        active: isActive,\r\n      }),\r\n    }).then((res) => res.json());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={() => setVisible(true)}>\r\n        Edit\r\n        <Drawer\r\n          width={640}\r\n          placement=\"right\"\r\n          onClose={onClose}\r\n          visible={visible}\r\n        >\r\n          <h4>Active : {props.n.active.toString()}</h4>\r\n          <h4>Created By : {props.n.createdBy ? props.n.createdBy.firstName : 'please reload'}</h4>\r\n          <Divider />\r\n          <h4>\r\n            Title :{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              defaultValue={props.n.title}\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </h4>\r\n          <Divider />\r\n          <h5>Detail</h5>\r\n          <Input.TextArea\r\n            defaultValue={props.n.text}\r\n            rows={10}\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n          <Divider />\r\n          <h5>Select the button below to change visability </h5>\r\n          <Radio.Group\r\n            buttonStyle=\"solid\"\r\n            value={isActive}\r\n            onChange={(e) => setIsActive(e.target.value)}\r\n            style={{ textAlign: \"center\" }}\r\n          >\r\n            <Space>\r\n              <Radio.Button value={true}>Active</Radio.Button>\r\n              <Radio.Button value={false}>Hidden</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n        </Drawer>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;"]},"metadata":{},"sourceType":"module"}