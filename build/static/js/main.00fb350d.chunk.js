(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{293:function(e,t,n){},294:function(e,t,n){},465:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(34),i=n.n(r),s=(n(293),n(7)),o=n.n(s),u=n(11),l=n(37),j=n(40),d=(n(294),n(295),n(296),n(121)),h=n.n(d),p=n(9),b=n(482),f=n(278),O=n(484),x=n(478),m=n(485),v=n(486),y=n(256),g=n(257),w=n(97),k=n(129),C=n(479),T=n(474),S=n(467),E=n(39),N=n(488),I=n(477),A=n(166),_=n(481),z=n(98),P=n(22),D=function(e,t){switch(t.type){case"GET_TODOS":return Object(P.a)(Object(P.a)({},e),{},{todos:t.payload});case"ADD_TODO":return Object(P.a)(Object(P.a)({},e),{},{todos:[].concat(Object(z.a)(e.todos),[t.payload])});case"DELETE_TODO":return Object(P.a)(Object(P.a)({},e),{},{todos:e.todos.filter((function(e){return e._id!==t.payload}))});case"ALLDONE_TODO":case"MARK_TODO":case"UNMARK_TODO":return Object(P.a)(Object(P.a)({},e),{},{todos:t.payload});case"GET_NOTES":return Object(P.a)(Object(P.a)({},e),{},{notes:t.payload});case"ADD_NOTE":return Object(P.a)(Object(P.a)({},e),{},{notes:[].concat(Object(z.a)(e.notes),[t.payload])});case"DELETE_NOTE":return Object(P.a)(Object(P.a)({},e),{},{notes:e.notes.filter((function(e){return e._id!==t.payload}))});case"ADD_TICKET":return Object(P.a)(Object(P.a)({},e),{},{unissuedTicket:[].concat(Object(z.a)(e.unissuedTicket),[t.payload])});case"GET_UNISSUEDTICKETS":case"CONVERT_TICKET":return Object(P.a)(Object(P.a)({},e),{},{unissuedTicket:t.payload});case"GET_OPENTICKET":case"COMPLETE_TICKET":case"TRANSFER_TICKET":return Object(P.a)(Object(P.a)({},e),{},{openTicket:t.payload});case"CREATE_NEWSLETTER":return Object(P.a)(Object(P.a)({},e),{},{newsletters:[].concat(Object(z.a)(e.newsletters),[t.payload])});case"GET_NEWSLETTER":case"DELETE_NEWSLETTER":return Object(P.a)(Object(P.a)({},e),{},{newsletters:t.payload});case"GET_CLIENTS":return Object(P.a)(Object(P.a)({},e),{},{clients:t.payload});case"CREATE_CLIENT":return Object(P.a)(Object(P.a)({},e),{},{clients:[].concat(Object(z.a)(e.clients),[t.payload])});case"CREATE_USER":return Object(P.a)(Object(P.a)({},e),{},{users:[].concat(Object(z.a)(e.users),[t.payload])});case"GET_USERS":return Object(P.a)(Object(P.a)({},e),{},{users:t.payload});case"USER_LOGGED":return Object(P.a)(Object(P.a)({},e),{},{user:t.payload});case"CLEAR":return null;default:return e}},L=n(120),U=n.n(L),B=n(2),G={todos:[],notes:[],unissuedTicket:[],openTicket:[],newsletters:[],clients:[],user:[],users:[]},R=Object(a.createContext)(G),F=function(e){var t=e.children,n=Object(a.useReducer)(D,G),c=Object(p.a)(n,2),r=c[0],i=c[1];function s(){return(s=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}},e.prev=1,e.next=4,U.a.get("/api/v1/todo/getTodo",t);case 4:n=e.sent,i({type:"GET_TODOS",payload:n.data.todo}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function l(){return(l=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/createTodo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({todo:t})}).then((function(e){return e.json()}));case 3:n=e.sent,i({type:"ADD_TODO",payload:n.todo}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(){return(j=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/deleteTodo/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:i({type:"DELETE_TODO",payload:t}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function d(){return(d=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markAllAsDone",{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,i({type:"ALLDONE_TODO",payload:t.todo}),console.log(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(){return(h=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markOneAsDone/".concat(t),{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:n=e.sent,i({type:"MARK_TODO",payload:n.todo}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/note/getNotes",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,i({type:"GET_NOTES",payload:t.note}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=Object(u.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/note/saveNote",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({text:t,title:n})}).then((function(e){return e.json()}));case 3:a=e.sent,i({type:"ADD_NOTE",payload:a.note}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return(O=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,fetch("/api/v1/note/deleteNote/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:i({type:"DELETE_NOTE",payload:t}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(){return(x=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):(localStorage.setItem("user",JSON.stringify(e.user)),i({type:"USER_LOGGED",payload:e.user}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function m(){return(m=Object(u.a)(o.a.mark((function e(t,n,a,c,r){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/createTicket",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,company:a,issue:c,priority:r})}).then((function(e){return e.json()}));case 3:s=e.sent,i({type:"ADD_TICKET",payload:s.ticket}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/unissuedTickets",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()}));case 3:t=e.sent,i({type:"GET_UNISSUEDTICKETS",payload:t.tickets}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(){return(y=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/convertTicket",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({data:t})}).then((function(e){return e.json()}));case 3:n=e.sent,i({type:"CONVERT_TICKET",payload:n.ticket}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(){return(g=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/openedTickets",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()}));case 3:t=e.sent,i({type:"GET_OPENTICKET",payload:t.tickets}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(){return(w=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/complete/".concat(t),{method:"Post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()}));case 2:n=e.sent,i({type:"COMPLETE_TICKET",payload:n.tickets}),console.log(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(u.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/transfer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:t,find:n})}).then((function(e){return e.json()}));case 3:a=e.sent,i({type:"TRANSFER_TICKET",payload:a.tickets}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markUndone/".concat(t),{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:n=e.sent,i({type:"UNMARK_TODO",payload:n.todo}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function T(){return(T=Object(u.a)(o.a.mark((function e(t,n,a){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,text:n,active:a})}).then((function(e){return e.json()}));case 3:c=e.sent,i({type:"CREATE_NEWSLETTER",payload:c.newsletter}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function S(){return(S=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/get",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,i({type:"GET_NEWSLETTER",payload:t.newsletters}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:n=e.sent,i({type:"DELETE_NEWSLETTER",payload:n.newsletters}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/client/allclients",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,i({type:"GET_CLIENTS",payload:t.client}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function I(){return(I=Object(u.a)(o.a.mark((function e(t,n,a,c){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/client/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,contactName:n,number:a,email:c})}).then((function(e){return e.json()}));case 3:r=e.sent,i({type:"CREATE_CLIENT",payload:r.client}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function A(){return(A=Object(u.a)(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/Signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:a})}).then((function(e){return e.json()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function _(){return(_=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,i({type:"GET_USERS",payload:t.users}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(B.jsx)(R.Provider,{value:{todos:r.todos,notes:r.notes,auth:r.auth,user:r.user,users:r.users,unissuedTicket:r.unissuedTicket,openTicket:r.openTicket,newsletters:r.newsletters,clients:r.clients,getTodos:function(){return s.apply(this,arguments)},addTodo:function(e){return l.apply(this,arguments)},deleteTodo:function(e){return j.apply(this,arguments)},allDone:function(){return d.apply(this,arguments)},markDone:function(e){return h.apply(this,arguments)},getNotes:function(){return b.apply(this,arguments)},saveNote:function(e,t){return f.apply(this,arguments)},deleteNote:function(e){return O.apply(this,arguments)},signin:function(e,t){return x.apply(this,arguments)},getUnissuedTicket:function(){return v.apply(this,arguments)},convertTicket:function(e){return y.apply(this,arguments)},getOpenTicket:function(){return g.apply(this,arguments)},completeTicket:function(e){return w.apply(this,arguments)},transferTicket:function(e,t){return k.apply(this,arguments)},markUndone:function(e){return C.apply(this,arguments)},createNewsletter:function(e,t,n){return T.apply(this,arguments)},getNewsletter:function(){return S.apply(this,arguments)},deleteNewsletter:function(e){return E.apply(this,arguments)},createTicket:function(e,t,n,a,c){return m.apply(this,arguments)},getClients:function(){return N.apply(this,arguments)},createClient:function(e,t,n,a){return I.apply(this,arguments)},createUser:function(e,t,n){return A.apply(this,arguments)},getUsers:function(){return _.apply(this,arguments)}},children:t})},V=function(){var e=Object(a.useContext)(R).createTicket,t=k.a.Option,n=C.a.TextArea,c=Object(a.useState)(""),r=Object(p.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(""),j=Object(p.a)(l,2),d=j[0],h=j[1],b=Object(a.useState)(""),f=Object(p.a)(b,2),O=f[0],x=f[1],m=Object(a.useState)(""),v=Object(p.a)(m,2),y=v[0],g=v[1],w=Object(a.useState)("Normal"),S=Object(p.a)(w,2),N=S[0],z=S[1],P=Object(a.useState)([]),D=Object(p.a)(P,2),L=D[0],U=D[1],G=Object(a.useState)(!1),F=Object(p.a)(G,2),V=F[0],J=F[1],K=T.a.useForm(),M=Object(p.a)(K,1)[0],H=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/client/allclients",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&U(e.client)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),J(!1),t.next=4,e(i,O,d,y,N);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(!1);case 2:t.stopPropagation();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){H()}),[]);var q=L.map((function(e){return Object(B.jsx)(t,{children:e.name},e._id)}));return Object(B.jsxs)("div",{className:"ticket-modal",children:[Object(B.jsx)(E.a,{type:"primary",size:"small",onClick:function(e){e.stopPropagation(),J(!0)},children:"Create Ticket"}),Object(B.jsx)(I.a,{destroyOnClose:!0,visible:V,title:"Create new Ticket",onCancel:Y,centered:!0,onOk:function(){M.validateFields().then((function(e){M.resetFields(),W(e)})).catch((function(e){console.log("Validate Failed:",e)}))},footer:[Object(B.jsx)(E.a,{style:{float:"left"},onClick:function(){return Y()},children:"Cancel"}),Object(B.jsx)(E.a,{onClick:function(){return W()},children:"Submit"})],children:Object(B.jsxs)(T.a,{size:"middle",form:M,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(B.jsx)(T.a.Item,{name:"name",children:Object(B.jsx)(C.a,{placeholder:"Enter name here...",name:"name",onChange:function(e){return s(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"email",children:Object(B.jsx)(C.a,{placeholder:"Enter email here....",onChange:function(e){return x(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"Client",children:Object(B.jsx)(k.a,{showSearch:!0,placeholder:"Select a client",optionFilterProp:"children",onChange:h,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:q})}),Object(B.jsx)(T.a.Item,{name:"issue",label:"Issue",children:Object(B.jsx)(n,{rows:5,onChange:function(e){return g(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"modifier",label:"Priority",className:"collection-create-form_last-form-item",children:Object(B.jsx)(A.a.Group,{buttonStyle:"solid",value:N,onChange:function(e){return z(e.target.value)},style:{textAlign:"center"},children:Object(B.jsxs)(_.b,{children:[Object(B.jsx)(A.a.Button,{value:"Low",children:"Low"}),Object(B.jsx)(A.a.Button,{value:"Normal",children:"Normal"}),Object(B.jsx)(A.a.Button,{value:"High",children:"High"})]})})})]})})]})},J=function(){var e=Object(j.f)(),t=w.a.SubMenu,n=Object(a.useState)(!1),c=Object(p.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(),d=Object(p.a)(s,2),h=d[0],b=d[1];function f(){localStorage.clear(),e.push("/login")}var O=function(e){b(e.key)},x=(Object(a.useContext)(R).createTicket,k.a.Option),m=(C.a.TextArea,Object(a.useState)("")),v=Object(p.a)(m,2),y=(v[0],v[1],Object(a.useState)("")),I=Object(p.a)(y,2),A=(I[0],I[1],Object(a.useState)("")),_=Object(p.a)(A,2),z=(_[0],_[1],Object(a.useState)("")),P=Object(p.a)(z,2),D=(P[0],P[1],Object(a.useState)("Normal")),L=Object(p.a)(D,2),U=(L[0],L[1],Object(a.useState)([]||!1)),G=Object(p.a)(U,2),F=G[0],J=G[1],K=Object(a.useState)(!1),M=Object(p.a)(K,2),H=(M[0],M[1],T.a.useForm());Object(p.a)(H,1)[0];function W(){return(W=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(localStorage.getItem("user"));case 2:(n=t.sent)&&"admin"===n.role?i(!0):n||e.push("/Login");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Y=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/client/allclients",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&J(e.client)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Y(),function(){W.apply(this,arguments)}()}),[]);F&&F.map((function(e){return Object(B.jsx)(x,{children:e.name},e._id)}));var q=function(){return r?Object(B.jsx)("div",{children:Object(B.jsx)(S.a,{children:Object(B.jsxs)(w.a,{mode:"horizontal",onClick:O,defaultSelectedKeys:["0"],selectedKeys:h,children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)("a",{href:"https://pmint.dev/",target:"_blank",rel:"noopener noreferrer",children:"Peppermint \ud83c\udf75"})},1),Object(B.jsx)(w.a.Item,{onClick:function(){return e.push("/")},children:"Home"},0),Object(B.jsxs)(t,{title:"Tickets",children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/ticket/open",children:"Open Tickets"})},"tickets:1"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/ticket/unissued",children:"Unissued Tickets"})},"tickets:2")]},"SubMenu"),Object(B.jsx)(w.a.Item,{onClick:function(){return e.push("/history")},children:"History"},3),Object(B.jsx)(w.a.Item,{onClick:function(){return e.push("/admin/dashboard")},children:"Admin"},6),Object(B.jsxs)(t,{icon:Object(B.jsx)(N.a,{}),style:{float:"right"},children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/settings",children:"Settings"})},"SETTINGS:1"),Object(B.jsx)(w.a.Item,{onClick:f,children:"Log out"},"SETTINGS:2")]},"settings-men"),Object(B.jsx)(w.a.Item,{style:{float:"right"},children:Object(B.jsx)("div",{className:"ticket-modal",children:Object(B.jsx)(V,{})})},4)]})})}):Object(B.jsx)("div",{children:Object(B.jsx)(S.a,{children:Object(B.jsxs)(w.a,{mode:"horizontal",onClick:O,defaultSelectedKeys:["0"],selectedKeys:h,children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)("a",{href:"https://pmint.dev/",target:"_blank",rel:"noopener noreferrer",children:"Peppermint \ud83c\udf75"})},"Home Page"),Object(B.jsx)(w.a.Item,{onClick:function(){return e.push("/")},children:"Home"},0),Object(B.jsxs)(t,{title:"Tickets",children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/ticket/open",children:"Open Tickets"})},"tickets:1"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/ticket/unissued",children:"Unissued Tickets"})},"tickets:2")]},"SubMenu"),Object(B.jsx)(w.a.Item,{onClick:function(){return e.push("/history")},children:"History"},3),Object(B.jsxs)(t,{icon:Object(B.jsx)(N.a,{}),style:{float:"right"},children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/settings",children:"Settings"})},"SETTINGS:1"),Object(B.jsx)(w.a.Item,{onClick:f,children:"Log out"},"SETTINGS:2")]},"settings-men"),Object(B.jsx)(w.a.Item,{style:{float:"right"},children:Object(B.jsx)(g.a,{projectId:"d01cb6ead51020",children:Object(B.jsx)(E.a,{size:"small",type:"text",children:"Feedback"})})},10),Object(B.jsx)(w.a.Item,{style:{float:"right"},children:Object(B.jsx)("div",{className:"ticket-modal",children:Object(B.jsx)(V,{})})},4)]})})})};return Object(B.jsx)("div",{children:Object(B.jsx)(q,{})})},K=n(489),M=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(R).addTodo;return Object(B.jsxs)("div",{className:"todoList",children:[Object(B.jsx)(C.a,{placeholder:"Enter Task... ",value:n,onChange:function(e){c(e.target.value)}}),Object(B.jsx)(E.a,{onClick:function(){r(n)},style:{marginLeft:10,margin:5},children:Object(B.jsx)(K.a,{})})]})},H=n(468),W=n(70),Y=n(490),q=n(491),Q=n(492),X=function(){var e=Object(a.useContext)(R),t=e.todos,n=e.getTodos,c=e.deleteTodo,r=e.allDone,i=e.markDone,s=e.markUndone;return Object(a.useEffect)((function(){n()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)(E.a,{style:{marginTop:10},onClick:r,children:"Mark All Done"}),Object(B.jsx)(H.a,{orientation:"left",style:{width:"auto"}}),t?t.map((function(e){return Object(B.jsx)("div",{className:"todo-list",children:Object(B.jsx)("ul",{children:Object(B.jsxs)("li",{style:{marginLeft:-35},children:[Object(B.jsx)("span",{className:e.done?"done":"",children:e.text}),Object(B.jsx)(W.a,{placement:"right",title:"Delete",children:Object(B.jsx)(E.a,{onClick:function(){return c(e._id)},style:{float:"right"},children:Object(B.jsx)(Y.a,{twoToneColor:"#FF0000"})})}),e.done?Object(B.jsx)(W.a,{placement:"left",title:"Unmark as done",children:Object(B.jsx)(E.a,{onClick:function(){return s(e._id)},style:{float:"right",marginRight:5},children:Object(B.jsx)(q.a,{})})}):Object(B.jsx)(W.a,{placement:"left",title:"Mark as done",children:Object(B.jsx)(E.a,{onClick:function(){return i(e._id)},style:{float:"right",marginRight:5},children:Object(B.jsx)(Q.a,{twoToneColor:"#52c41a"})})})]},e._id)},e._id)},e._id)})):Object(B.jsx)("p",{})]})},Z=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1];function r(){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/openTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"inside-issue-con",children:Object(B.jsxs)("h6",{children:["Open Tickets - ",n]})}),Object(B.jsx)(b.a,{})]})},$=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1];function r(){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/unallocatedTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{className:"inside-issue-con",children:Object(B.jsxs)("h6",{children:["Unallocated Tickets - ",n]})}),Object(B.jsx)(b.a,{})]})},ee=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1];function r(){return i.apply(this,arguments)}function i(){return(i=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/completedTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(B.jsx)("div",{children:Object(B.jsx)("div",{className:"inside-issue-con",children:Object(B.jsxs)("h6",{children:["Completed Tickets - ",n]})})})},te=function(){return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{children:"Current Issues"}),Object(B.jsx)(b.a,{}),Object(B.jsx)(Z,{}),Object(B.jsx)($,{}),Object(B.jsx)(ee,{})]})},ne=n(483),ae=n(471),ce=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.notes.note),s=Object(p.a)(i,2),l=s[0],j=s[1],d=Object(a.useState)(""),h=Object(p.a)(d,2),b=h[0],f=h[1],O=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/note/updateNote",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({note:l,id:b})}).then((function(e){return e.json}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r(!1),e.next=4,O();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=C.a.TextArea;return Object(B.jsx)("div",{children:Object(B.jsxs)(E.a,{size:"xs",style:{float:"right",marginLeft:5},onClick:function(){r(!0),f(e.notes._id)},children:[Object(B.jsx)(K.a,{}),Object(B.jsx)(I.a,{keyboard:!0,visible:c,title:e.notes.title,okText:"Update",cancelText:"Cancel",onCancel:function(e){e.stopPropagation(),r(!1),f(""),j("")},onOk:x,centered:!0,children:Object(B.jsx)(m,{defaultValue:e.notes.note,onChange:function(e){return j(e.target.value)},rows:30})})]})})},re=function(){var e=Object(a.useContext)(R),t=e.notes,n=e.getNotes,c=e.deleteNote;Object(a.useEffect)((function(){n()}),[]);var r=[{title:"Title",dataIndex:"title",key:"name",width:"90%"},{key:"action",render:function(e,t){return Object(B.jsxs)(_.b,{size:"middle",children:[Object(B.jsx)(ce,{notes:t}),Object(B.jsx)(ne.a,{title:"Are you sure you want to delete?",onConfirm:function(){return c(t._id)},children:Object(B.jsx)(E.a,{size:"xs",style:{float:"right"},children:Object(B.jsx)(Y.a,{twoToneColor:"#FF0000"})})})]})}}];return Object(B.jsx)("div",{children:Object(B.jsx)(ae.a,{dataSource:t,columns:r,showHeader:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},ie=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],i=function(e){e.stopPropagation(),r(!1)};return Object(B.jsx)("div",{children:Object(B.jsxs)(E.a,{size:"xs",onClick:function(){r(!0)},children:["Read",Object(B.jsxs)(I.a,{destroyOnClose:!0,keyboard:!0,visible:c,title:e.n.title,onCancel:i,footer:[Object(B.jsx)(E.a,{onClick:i,children:"Close"})],children:[Object(B.jsx)("p",{children:e.n.text}),Object(B.jsx)(H.a,{}),Object(B.jsxs)("p",{children:["Author : ",e.n.createdBy.name]})]})]})})},se=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/get/active",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.newsletters)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var r=[{title:"Title",dataIndex:"title",key:"title",width:300},{key:"action",render:function(e,t){return Object(B.jsx)(ie,{n:t})}}];return Object(B.jsx)("div",{children:Object(B.jsx)(ae.a,{showHeader:!1,dataSource:n,columns:r,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["3","5","10"]}})})},oe=function(){return Object(B.jsxs)("div",{className:"Todo-Container",children:[Object(B.jsx)("h3",{children:"To-do List"}),Object(B.jsx)(b.a,{style:{}}),Object(B.jsx)(M,{}),Object(B.jsx)(X,{})]})},ue=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),i=Object(p.a)(r,2),s=i[0],o=i[1],u=Object(a.useState)(!1),l=Object(p.a)(u,2),j=l[0],d=l[1],h=Object(a.useContext)(R).saveNote,m=function(){return d(!1)};return Object(B.jsxs)("div",{className:"Notes-Container",children:[Object(B.jsxs)("h3",{children:["Notes",Object(B.jsxs)(f.a,{onClick:function(){return d(!0)},style:{float:"right"},children:[Object(B.jsx)(O.a,{icon:"plus"}),Object(B.jsx)(y.a,{modal:!0,open:j,nested:!0,children:Object(B.jsxs)("div",{className:"modal",children:[Object(B.jsx)(f.a,{className:"close",onClick:m,children:"\xd7"}),Object(B.jsxs)("div",{className:"header",children:[" ",Object(B.jsx)(x.a,{placeholder:"Enter Note title here...",onChange:o})]}),Object(B.jsx)("div",{className:"content",children:Object(B.jsx)(x.a,{placeholder:"Enter Note here...",rows:10,componentClass:"textarea",onChange:c})}),Object(B.jsxs)("div",{className:"actions",children:[Object(B.jsx)(f.a,{style:{marginRight:20},className:"button",onClick:function(){console.log("Data sent"),h(n,s),m()},children:"Save Note"}),Object(B.jsx)(f.a,{className:"button",onClick:function(){console.log("modal closed "),m()},children:"Close"})]})]})})]})]}),Object(B.jsx)(b.a,{}),Object(B.jsx)(re,{})]})},le=function(){return Object(B.jsxs)("div",{className:"Right-Container",children:[Object(B.jsx)(te,{}),Object(B.jsx)(b.a,{}),Object(B.jsx)(je,{})]})},je=function(){return Object(B.jsxs)("div",{className:"News-Container",children:[Object(B.jsx)("h4",{children:"Latest News"}),Object(B.jsx)(b.a,{}),Object(B.jsx)(se,{})]})},de=function(){var e=Object(j.f)();return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),!1!==t.auth)return console.log("logged in");e.push("/login")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)(m.a,{children:Object(B.jsx)(v.a,{children:Object(B.jsx)(J,{})})}),Object(B.jsxs)("div",{className:"main-con",children:[Object(B.jsx)(oe,{}),Object(B.jsx)(ue,{}),Object(B.jsx)(le,{})]})]})},he=n(280),pe=n(472),be=n(168),fe=n(480),Oe=n(117),xe=n(203),me=n(470),ve=n(493),ye=n(59),ge=n.n(ye),we=function(e){var t=k.a.Option,n=Object(a.useState)([]),c=Object(p.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(""),l=Object(p.a)(s,2),j=l[0],d=l[1],h=Object(a.useState)(!1),b=Object(p.a)(h,2),f=b[0],O=b[1],x=e.ticket._id,m=Object(a.useContext)(R).transferTicket,v=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&i(e.users)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!1),e.next=3,m(j,x);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){v()}),[]);var g=r.map((function(e){return Object(B.jsx)(t,{children:e.name},e._id)}));return Object(B.jsxs)("div",{children:[Object(B.jsx)(E.a,{style:{width:144},onClick:function(){O(!0)},children:"Transfer"},0),Object(B.jsx)(I.a,{visible:f,onCancel:function(){O(!1)},onOk:y,width:300,children:Object(B.jsx)(k.a,{style:{width:200},showSearch:!0,placeholder:"Select a user",optionFilterProp:"children",onChange:d,filterOption:function(e,t){return t.toLowerCase().indexOf(e.toLowerCase())>=0},children:g})})]})},ke=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(),s=Object(p.a)(i,2),l=s[0],j=s[1],d=C.a.TextArea,h=e.client.client._id;function b(){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/client/createNote",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:h,note:l})}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/client/getNote/".concat(h),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){j(e.find.notes)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),e.next=3,b();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){return O.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)(E.a,{onClick:function(){r(!0)},children:"Client Information"},0),Object(B.jsx)(I.a,{visible:c,onCancel:function(){r(!1)},onOk:x,width:500,children:Object(B.jsx)(d,{rows:15,defaultValue:l,style:{marginTop:20},placeholder:"Client notes goes here ...",onChange:function(e){return j(e.target.value)}})})]})},Ce=n(286),Te=n(268),Se=n.n(Te),Ee=function(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),c=n[0],r=n[1];function i(){return(i=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ticket._id,t.next=3,fetch("/api/v1/tickets/file/listFiles/".concat(n),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e.files)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/tickets/file/del",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:n._id,ticket:e.ticket._id,path:n.path})}).then((function(e){return e.json()})).then((function(e){console.log(e),r(e.files)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(e){var t=new FormData;t.append("filepath",e.path),U.a.post("/api/v1/tickets/file/download",t,{responseType:"blob"}).then((function(t){Se()(t.data,e.filename)}))}return Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(B.jsx)("div",{children:c.map((function(e){return Object(B.jsx)("div",{className:"todo-list",children:Object(B.jsx)("ul",{style:{marginLeft:-40},children:Object(B.jsx)("li",{children:Object(B.jsxs)(_.b,{children:[Object(B.jsx)(Ce.a,{}),Object(B.jsx)("span",{children:e.filename}),Object(B.jsx)(E.a,{ghost:!0,style:{float:"right"},onClick:function(t){t.stopPropagation(),function(e){s.apply(this,arguments)}(e)},children:Object(B.jsx)(q.a,{twoToneColor:"#FF0000\t"})}),Object(B.jsx)(E.a,{ghost:!0,onClick:function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),l(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(B.jsx)(ve.a,{style:{color:"black"}})})]})})})},e._id)}))})},Ne=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.ticket.issue),s=Object(p.a)(i,2),l=s[0],j=s[1],d=Object(a.useState)(e.ticket.note),h=Object(p.a)(d,2),b=h[0],f=h[1],O=Object(a.useState)(e.ticket.name),x=Object(p.a)(O,2),m=x[0],v=x[1],y=Object(a.useState)(e.ticket.email),g=Object(p.a)(y,2),k=g[0],T=g[1],S=Object(a.useState)(e.ticket.number),N=Object(p.a)(S,2),I=N[0],A=N[1],z=Object(a.useState)([]),D=Object(p.a)(z,2),L=D[0],U=(D[1],C.a.TextArea),G=Object(a.useState)(ge()().format("MM/DD/YYYY")),F=Object(p.a)(G,2),V=F[0],J=F[1],M=Object(a.useState)(),q=Object(p.a)(M,2),Q=q[0],X=q[1],Z=Object(a.useState)(""),$=Object(p.a)(Z,2),ee=$[0],te=$[1],ae=Object(a.useState)([]),ce=Object(p.a)(ae,2),re=ce[0],ie=ce[1],se=e.ticket._id,oe=Object(a.useContext)(R).completeTicket;var ue={name:"file",action:"/api/v1/tickets/uploadFile/".concat(se),data:function(){var t=new FormData;t.append("file",L),t.append("filename",L.name),t.append("ticket",e.ticket._id)},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?he.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&he.b.error("".concat(e.file.name," file upload failed."))},progress:{strokeColor:{"0%":"#108ee9","100%":"#87d068"},strokeWidth:3,format:function(e){return"".concat(parseFloat(e.toFixed(2)),"%")}}},le=Object(B.jsxs)(w.a,{onClick:function(e){},children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(we,{ticket:e.ticket})},"1"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(E.a,{onClick:function(){return oe(e.ticket._id)},style:{width:144},children:"Complete"})},"2"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(ke,{client:e.ticket})},"3"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(pe.a,Object(P.a)(Object(P.a)({},ue),{},{children:Object(B.jsx)(E.a,{icon:Object(B.jsx)(ve.a,{}),style:{width:144},children:"Upload File"})}))},"4")]}),je=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/tickets/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.ticket._id,issue:l,note:b,name:m,email:k,number:I})}).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),e.next=3,je();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ye(){return(ye=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/time/createTime",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticket:e.ticket._id,date:V,time:Q,activity:ee})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):console.log("Congrats it worked")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ce(){return(Ce=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/time/getLog/".concat(se),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){ie(e.log)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/time/deleteLog/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){Ce.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)(be.a.Button,{overlay:le,onClick:function(){r(!0)},children:"View Ticket"},0),Object(B.jsxs)(fe.a,{className:"my-drawer",placement:"right",onClose:de,visible:c,width:600,children:[Object(B.jsxs)("h2",{children:["Client: ",e.ticket.client.name]}),Object(B.jsxs)(_.b,{size:"middle",children:[Object(B.jsx)(we,{ticket:e.ticket}),Object(B.jsx)(ne.a,{title:"Are you sure you want to complete?",onConfirm:function(){oe(e.ticket._id)},children:Object(B.jsx)(E.a,{children:"Complete"})}),Object(B.jsx)(ke,{client:e.ticket}),Object(B.jsx)(pe.a,Object(P.a)(Object(P.a)({},ue),{},{children:Object(B.jsx)(E.a,{icon:Object(B.jsx)(ve.a,{}),style:{width:144},children:"Upload File"})}))]}),Object(B.jsx)(H.a,{}),Object(B.jsx)(Oe.a,{children:Object(B.jsxs)(_.b,{children:[Object(B.jsxs)("h6",{children:["Issue status : ",e.ticket.status]}),Object(B.jsx)(H.a,{type:"vertical"})]})}),Object(B.jsxs)("div",{className:"ticket-view-info",children:[Object(B.jsx)(U,{rows:6,defaultValue:e.ticket.issue,placeholder:"Issue goes here ...",onChange:function(e){return j(e.target.value)}}),Object(B.jsx)(U,{rows:6,defaultValue:e.ticket.note,placeholder:"Job notes goes here ...",onChange:function(e){return f(e.target.value)}})]}),Object(B.jsx)(H.a,{}),Object(B.jsx)("h5",{children:"Files Attached to ticket"}),Object(B.jsx)(Ee,{ticket:e.ticket}),Object(B.jsx)(H.a,{}),Object(B.jsxs)("div",{className:"ticket-view-contact",children:[Object(B.jsx)("h5",{children:"Contact Details"}),Object(B.jsxs)("h5",{children:["Contact Name:"," ",Object(B.jsx)(C.a,{defaultValue:e.ticket.name,style:{width:250,float:"right"},onChange:function(e){return v(e.target.value)}})]}),Object(B.jsxs)("h5",{children:["Email:"," ",Object(B.jsx)(C.a,{defaultValue:e.ticket.email,style:{width:250,float:"right"},onChange:function(e){return T(e.target.value)}})]}),Object(B.jsxs)("h5",{children:["Number:"," ",Object(B.jsx)(C.a,{defaultValue:e.ticket.number,style:{width:250,float:"right"},onChange:function(e){return A(e.target.value)}})]})]}),Object(B.jsx)(H.a,{}),Object(B.jsx)("h4",{children:"Time Logged to Ticket"}),Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{className:"ticket-log",children:[Object(B.jsx)(xe.a,{onChange:function(e,t){var n=ge()(e).format("MM/DD/YYYY");J(n)},defaultValue:ge.a}),Object(B.jsx)(me.a,{format:"HH:mm",onChange:function(e){var t=e,n=ge()(t).format("hh:mm");X(n)},allowClear:!0,placeholder:"Duration"}),Object(B.jsx)(C.a,{style:{width:300},placeholder:"Enter activity here",onChange:function(e){return te(e.target.value)}}),Object(B.jsx)(E.a,{onClick:function(){return ye.apply(this,arguments)},children:Object(B.jsx)(K.a,{})})]}),Object(B.jsx)("div",{className:"ticket-logs",children:re.map((function(e){return Object(B.jsx)("div",{children:Object(B.jsx)("ul",{children:Object(B.jsxs)("li",{children:[Object(B.jsxs)("span",{children:[e.date," | "]}),Object(B.jsxs)("span",{children:[e.time," | "]}),Object(B.jsxs)("span",{children:[e.user.name," | "]}),Object(B.jsx)("span",{children:e.activity}),Object(B.jsx)(W.a,{placement:"right",title:"Delete",children:Object(B.jsx)(E.a,{onClick:Te(e._id),children:Object(B.jsx)(Y.a,{twoToneColor:"#FF0000"})})})]})})},e._id)}))})]})]})]})},Ie=function(){var e=Object(a.useContext)(R),t=e.openTicket,n=e.getOpenTicket;Object(a.useEffect)((function(){n()}),[]);var c=[{title:"Name",dataIndex:"name",key:"name",width:150,responsive:["md"]},{title:"Client",dataIndex:["client","name"],key:"client",width:75},{title:"Priority",dataIndex:"priority",key:"priority",width:30,responsive:["md"]},{title:"Issue",dataIndex:"issue",key:"issue"},{key:"action",width:100,render:function(e){return Object(B.jsx)(_.b,{size:"middle",children:Object(B.jsx)(Ne,{ticket:e})})}}];return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{style:{textAlign:"center"},children:"Open Tickets"}),Object(B.jsx)(ae.a,{columns:c,dataSource:t,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})]})},Ae=function(){var e=Object(a.useContext)(R),t=e.unissuedTicket,n=e.getUnissuedTicket,c=e.convertTicket;Object(a.useEffect)((function(){n()}),[]);var r=[{title:"Name",dataIndex:"name",key:"name",width:150,responsive:["md"]},{title:"Client",dataIndex:["client","name"],key:"client",width:75},{title:"Priority",dataIndex:"priority",key:"priority",width:30,responsive:["md"]},{title:"Issue",dataIndex:"issue",key:"issue"},{key:"action",width:100,render:function(e){return Object(B.jsxs)(_.b,{size:"middle",children:[Object(B.jsx)(E.a,{size:"middle",onClick:function(){return c(e)},children:"Convert"}),Object(B.jsx)(Ne,{ticket:e})]})}}];return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{style:{textAlign:"center"},children:"Unissued Tickets "}),Object(B.jsx)(ae.a,{columns:r,dataSource:t,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})]})},_e=function(){var e=Object(j.f)();return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),!1!==t.auth)return console.log("logged in");e.push("/login")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{style:{margin:25},children:[Object(B.jsx)(Ie,{}),Object(B.jsx)(Ae,{})]})},ze=n(284),Pe=n(162),De=n(475),Le=n(494),Ue=n(495),Be=n(496),Ge=n(285),Re=n.p+"static/media/logo.e3fa586c.png",Fe=function(){var e=Object(j.f)(),t=Object(a.useState)(""),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(p.a)(i,2),l=s[0],d=s[1],h=Object(a.useState)(!1),b=Object(p.a)(h,2),f=b[0],O=b[1],x=Object(a.useState)(""),m=Object(p.a)(x,2),v=m[0],y=m[1],g=Object(a.useState)(!1),w=Object(p.a)(g,2),k=w[0],S=w[1],N=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{message:"Login Error",description:[v],duration:3};case 2:t=e.sent,ze.a.open(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function I(){return(I=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:c})}).then((function(e){return e.json()})).then(function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.error||!0!==n.auth){t.next=6;break}localStorage.setItem("user",JSON.stringify(n.user)),S(!0),setTimeout((function(){e.push("/")}),1e3),t.next=10;break;case 6:return y(n.error),O(!1),t.next=10,N();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return Object(B.jsx)("div",{children:Object(B.jsx)(Pe.a,{spinning:k,children:Object(B.jsxs)(T.a,{style:{position:"absolute"},name:"normal_login",className:"login-form",initialValues:{remember:!0},children:[Object(B.jsx)("div",{className:"logo-login",children:Object(B.jsx)(De.a,{alt:"logo",src:Re,width:300,preview:!1})}),Object(B.jsx)(T.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Email!"}],children:Object(B.jsx)(C.a,{style:{width:300},prefix:Object(B.jsx)(Le.a,{className:"site-form-item-icon"}),placeholder:"Email",onChange:function(e){return d(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(B.jsx)(C.a.Password,{style:{width:300},prefix:Object(B.jsx)(Ue.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",iconRender:function(e){return e?Object(B.jsx)(Be.a,{}):Object(B.jsx)(Ge.a,{})},onChange:function(e){return r(e.target.value)}})}),Object(B.jsx)(T.a.Item,{children:Object(B.jsx)(E.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:f,onClick:function(){O(!0),function(){I.apply(this,arguments)}()},children:"Log in"})})]})})})},Ve=n(473),Je=n(476),Ke=n(487),Me=function(){var e=Object(a.useState)(),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(p.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(),b=Object(p.a)(d,2),f=b[0],O=b[1],x=Object(a.useState)(0),m=Object(p.a)(x,2),v=m[0],y=m[1],g=Object(j.f)();Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.connect("/");case 2:(t=e.sent).on("visitor enters",(function(e){return y({data:e})})),t.on("visitor exits",(function(e){return y({data:e})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),!1!==e.auth)return console.log("logged in");g.push("/login")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var w=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/getallopen",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/getallcompleted",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/unallocatedTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){w(),k(),C()}),[]),Object(B.jsxs)("div",{className:"admin-dash-row",children:[Object(B.jsx)("div",{className:"stats-card",children:Object(B.jsx)(Ve.a,{children:Object(B.jsx)(Je.a,{title:"Closed Tickets",value:f})})}),Object(B.jsx)("div",{className:"stats-card",children:Object(B.jsx)(Ve.a,{children:Object(B.jsx)(Je.a,{title:"Open Tickets",value:s})})}),Object(B.jsx)("div",{className:"stats-card",children:Object(B.jsx)(Ve.a,{children:Object(B.jsx)(Je.a,{title:"Unissued Tickets",value:n})})}),Object(B.jsx)("div",{className:"stats-card",children:Object(B.jsx)(Ve.a,{children:Object(B.jsx)(Je.a,{title:"Online Users",value:v.data})})})]})},He=function(){var e=Object(a.useState)([].reverse()),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.connect("/");case 2:e.sent.on("file",(function(e){return c({data:e})}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(B.jsx)("div",{className:"api-log",children:Object(B.jsx)(Ke.b,{size:"small",bordered:!0,dataSource:n.data,pagination:{defaultPageSize:15,showSizeChanger:!0,pageSizeOptions:["15","30","40"]},renderItem:function(e){return Object(B.jsx)(Ke.b.Item,{children:e})}})})},We=function(){return Object(B.jsx)("div",{})},Ye=function(){return Object(B.jsxs)("div",{className:"admin-dash",children:[Object(B.jsx)(Me,{}),Object(B.jsx)(He,{}),Object(B.jsx)(We,{})]})},qe=n(497),Qe=n(498),Xe=n(499),Ze=n(500),$e=n(501),et=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],r=T.a.useForm(),i=Object(p.a)(r,1)[0],s=Object(a.useState)(""),l=Object(p.a)(s,2),j=l[0],d=l[1],h=Object(a.useState)(""),b=Object(p.a)(h,2),f=b[0],O=b[1],x=Object(a.useState)(""),m=Object(p.a)(x,2),v=m[0],y=m[1],g=Object(a.useContext)(R).createUser,w=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.next=3,g(v,f,j);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{type:"primary",onClick:function(){c(!0)},children:"Create new user"}),Object(B.jsx)(I.a,{centered:!0,visible:n,title:"Create a new user",okText:"Create",cancelText:"Cancel",onCancel:function(){c(!1)},onOk:function(){i.validateFields().then((function(e){i.resetFields(),w(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(B.jsxs)(T.a,{form:i,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(B.jsx)(T.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of your new user!"}],children:Object(B.jsx)(C.a,{placeholder:"Enter name here...",name:"name",onChange:function(e){return y(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"email",label:"Email",children:Object(B.jsx)(C.a,{placeholder:"Enter email here....",onChange:function(e){return O(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"password",label:"Password",children:Object(B.jsx)(C.a,{placeholder:"Enter password here...",onChange:function(e){return d(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"modifier",className:"collection-create-form_last-form-item",children:Object(B.jsxs)(A.a.Group,{children:[Object(B.jsx)(A.a,{value:"user",children:"User"}),Object(B.jsx)(A.a,{value:"admin",children:"Admin"})]})})]})})]})},tt=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],r=T.a.useForm(),i=Object(p.a)(r,1)[0],s=Object(a.useState)(""),l=Object(p.a)(s,2),j=l[0],d=l[1],h=Object(a.useState)(""),b=Object(p.a)(h,2),f=b[0],O=b[1],x=Object(a.useState)(""),m=Object(p.a)(x,2),v=m[0],y=m[1],g=Object(a.useState)(""),w=Object(p.a)(g,2),k=w[0],S=w[1],E=Object(a.useContext)(R).createClient,N=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.next=3,E(v,f,j,k);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{type:"primary",onClick:function(){c(!0)},children:"Create new client"}),Object(B.jsx)(I.a,{centered:!0,visible:n,title:"Add a new client",okText:"Create",cancelText:"Cancel",onCancel:function(){c(!1)},onOk:function(){i.validateFields().then((function(e){i.resetFields(),N(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(B.jsxs)(T.a,{form:i,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(B.jsx)(T.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of your new client!"}],children:Object(B.jsx)(C.a,{placeholder:"Enter name here...",name:"name",onChange:function(e){return y(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"contact name",label:"Contact Name",children:Object(B.jsx)(C.a,{placeholder:"Enter  here....",onChange:function(e){return O(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"number",label:"Contact Number",children:Object(B.jsx)(C.a,{placeholder:"Enter number here...",onChange:function(e){return d(e.target.value)}})}),Object(B.jsx)(T.a.Item,{name:"email",label:"Contact Email",children:Object(B.jsx)(C.a,{placeholder:"Enter email address here...",onChange:function(e){return S(e.target.value)}})})]})})]})},nt=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(p.a)(r,2),s=i[0],l=i[1],j=Object(a.useState)(),d=Object(p.a)(j,2),h=d[0],b=d[1],f=Object(a.useState)(),O=Object(p.a)(f,2),x=O[0],m=O[1],v=Object(a.useContext)(R).createNewsletter,y=C.a.TextArea,g=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),e.next=3,v(s,h,x);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{type:"primary",onClick:function(){c(!0)},children:"New newsletter"}),Object(B.jsxs)(I.a,{visible:n,title:"Create a new newsletter",okText:"Create",cancelText:"Cancel",onCancel:function(){c(!1)},onOk:g,children:[Object(B.jsx)("div",{style:{margin:25},children:Object(B.jsx)(Oe.a,{children:Object(B.jsx)(C.a,{placeholder:"Enter newsletter tittle here...",style:{width:400,marginLeft:-25},onChange:function(e){return l(e.target.value)}})})}),Object(B.jsx)("div",{children:Object(B.jsx)(y,{rows:8,placeholder:"Enter newsletter content here...",onChange:function(e){return b(e.target.value)}})}),Object(B.jsx)("div",{style:{margin:25},children:Object(B.jsx)(A.a.Group,{defaultValue:x,value:x,onChange:function(e){return m(e.target.value)},children:Object(B.jsxs)(_.b,{children:[Object(B.jsx)(A.a.Button,{value:"true",children:"Active"}),Object(B.jsx)(A.a.Button,{value:"false",children:"Hidden"})]})})})]})]})},at=w.a.SubMenu,ct=function(){var e=S.a.Sider;return Object(B.jsx)("div",{className:"sideNav",children:Object(B.jsx)(S.a,{children:Object(B.jsx)(e,{breakpoint:"lg",collapsedWidth:"0",theme:"light",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},children:Object(B.jsxs)(w.a,{onClick:function(e){},style:{height:"90vh"},className:"Admin-Side-Nav",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",children:[Object(B.jsx)(w.a.Item,{icon:Object(B.jsx)(qe.a,{}),children:Object(B.jsx)(l.b,{to:"/admin/dashboard",children:"Dashboard"})},"sub1"),Object(B.jsx)(w.a.Item,{icon:Object(B.jsx)(Qe.a,{}),disabled:!0,children:Object(B.jsx)(l.b,{to:"/admin/analytics",children:"Analytics"})},"sub2"),Object(B.jsxs)(at,{title:"Newsletter",icon:Object(B.jsx)(Xe.a,{}),children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(nt,{})},"15"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/admin/newsletters",children:"All Newsletters"})},"16")]},"sub4"),Object(B.jsxs)(at,{title:"Clients",icon:Object(B.jsx)(Ze.a,{}),children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(tt,{})},"12"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/admin/clientView",children:"Client List"})},"13")]},"sub3"),Object(B.jsxs)(at,{icon:Object(B.jsx)($e.a,{}),title:"Authentication",children:[Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(et,{})},"9"),Object(B.jsx)(w.a.Item,{children:Object(B.jsx)(l.b,{to:"/admin/viewUsers",children:"View Users"})},"10")]},"sub5")]})})})})},rt=function(){return Object(B.jsx)("div",{children:Object(B.jsx)("h1",{})})},it=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.client.name),s=Object(p.a)(i,2),l=s[0],j=s[1],d=Object(a.useState)(e.client.ContactName),h=Object(p.a)(d,2),b=h[0],f=h[1],O=Object(a.useState)(e.client.email),x=Object(p.a)(O,2),m=x[0],v=x[1],y=Object(a.useState)(e.client.number),g=Object(p.a)(y,2),w=g[0],k=g[1];console.log(e.client);var T=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/client/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:e.client._id,clientName:l,name:b,email:m,number:w})}).then((function(e){return e.json}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r(!1),e.next=4,T();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)("div",{children:Object(B.jsxs)(E.a,{onClick:function(){r(!0)},children:["Update",Object(B.jsxs)(I.a,{visible:c,title:"Edit a users info",okText:"Update",cancelText:"Cancel",onCancel:function(e){e.stopPropagation(),r(!1)},onOk:S,children:[Object(B.jsx)(Oe.a,{children:Object(B.jsxs)("h5",{children:["Edit Client Name :"," ",Object(B.jsx)(C.a,{defaultValue:e.client.name,onChange:function(e){return j(e.target.value)},style:{width:300,marginLeft:18}})]})}),Object(B.jsx)(Oe.a,{children:Object(B.jsxs)("h5",{children:["Edit Contact Name :"," ",Object(B.jsx)(C.a,{defaultValue:e.client.contactName,onChange:function(e){return f(e.target.value)},style:{width:300}})]})}),Object(B.jsx)(Oe.a,{children:Object(B.jsxs)("h5",{children:["Edit Contact Email :"," ",Object(B.jsx)(C.a,{defaultValue:e.client.email,onChange:function(e){return v(e.target.value)},style:{width:300,marginLeft:5}})]})}),Object(B.jsx)(Oe.a,{children:Object(B.jsxs)("h5",{children:["Edit Contact Number :"," ",Object(B.jsx)(C.a,{defaultValue:e.client.number,onChange:function(e){return k(e.target.value)},style:{width:280}})]})})]})]})})},st=function(){var e=Object(j.f)(),t=Object(a.useContext)(R),n=t.clients,c=t.getClients;Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(!1!==t.auth)return console.log("logged in");e.push("/login")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){c()}),[]);var r=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,e.next=4,fetch("/api/v1/client/delete/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),i=[{title:"Client Name",dataIndex:"name",key:"name",width:150},{title:"Contact Name",dataIndex:"contactName",key:"contactName",width:150,responsive:["md"]},{title:"Contact Email",dataIndex:"email",key:"email",width:50,responsive:["md"]},{title:"Contact Number",dataIndex:"number",key:"number",width:75},{key:"action",responsive:["md"],width:200,render:function(e){return Object(B.jsxs)(_.b,{size:"middle",children:[Object(B.jsx)(it,{client:e}),Object(B.jsx)(ne.a,{title:"Are you sure you want to delete?",onConfirm:function(){return r(e)},children:Object(B.jsx)(E.a,{children:"Delete"})})]})}}];return Object(B.jsx)("div",{style:{marginTop:5},children:Object(B.jsx)(ae.a,{dataSource:n,columns:i,Pagenation:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},ot=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.user._id),s=Object(p.a)(i,2),l=s[0],j=(s[1],Object(a.useState)("")),d=Object(p.a)(j,2),h=d[0],b=d[1],f=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,e.next=3,fetch("/api/v1/auth/resetPassword/".concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({password:h})}).then((function(e){return e.json()})).then((function(e){var t;!1===e.failed?he.b.success("Password updated"):(t=e.message,he.b.error("".concat(t)))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),e.next=3,f();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)(E.a,{type:"default",onClick:function(){r(!0)},children:"Reset password"}),Object(B.jsx)(I.a,{visible:c,title:"Reset users password",okText:"Update",cancelText:"Cancel",onCancel:function(){r(!1)},onOk:O,children:Object(B.jsx)(C.a,{onChange:function(e){return b(e.target.value)},placeholder:"Enter users new password"})})]})},ut=function(e){var t=Object(a.useState)(e.user),n=Object(p.a)(t,2),c=n[0],r=(n[1],Object(a.useState)(e.user.name)),i=Object(p.a)(r,2),s=i[0],l=i[1],j=Object(a.useState)(e.user.email),d=Object(p.a)(j,2),h=d[0],b=d[1],f=Object(a.useState)(e.user.role),O=Object(p.a)(f,2),x=O[0],m=O[1],v=Object(a.useState)(!1),y=Object(p.a)(v,2),g=y[0],w=y[1],k=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/edit",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:c._id,name:s,email:h,role:x})}).then((function(e){return e.json}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!1),h.toString(h),h.toLowerCase(),e.next=5,k();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{type:"primary",onClick:function(){w(!0)},children:"Edit User info & Role"}),Object(B.jsxs)(I.a,{visible:g,title:"Edit a users info",okText:"Update",cancelText:"Cancel",onCancel:function(){w(!1)},onOk:T,children:[Object(B.jsx)(Oe.a,{children:Object(B.jsxs)("h5",{children:["Edit Name :"," ",Object(B.jsx)(C.a,{defaultValue:c.name,onChange:function(e){return l(e.target.value)},style:{width:300}})]})}),Object(B.jsx)(Oe.a,{children:Object(B.jsxs)("h5",{children:["Edit Email :"," ",Object(B.jsx)(C.a,{defaultValue:c.email,onChange:function(e){return b(e.target.value)},style:{width:300,marginLeft:5}})]})}),Object(B.jsxs)(Oe.a,{children:[Object(B.jsx)("h5",{children:"Edit Role : "}),Object(B.jsx)(A.a.Group,{buttonStyle:"solid",defaultValue:c.role,onChange:function(e){return m(e.target.value)},style:{marginLeft:20},children:Object(B.jsxs)(_.b,{children:[Object(B.jsx)(A.a.Button,{value:"user",children:"User"}),Object(B.jsx)(A.a.Button,{value:"admin",children:"Admin"})]})})]})]})]})},lt=function(){var e=Object(j.f)(),t=Object(a.useContext)(R),n=t.users,c=t.getUsers;Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),!1!==t.auth)return console.log("logged in");e.push("/login")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var r=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,console.log(n),e.prev=2,e.next=5,fetch("/api/v1/auth/delete/".concat(n),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){c()}),[]);var i=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role"},{key:"action",responsive:["md"],render:function(e,t){return Object(B.jsxs)(_.b,{size:"middle",children:[Object(B.jsx)(E.a,{children:Object(B.jsx)(ut,{user:t})}),Object(B.jsx)(ne.a,{title:"Are you sure you want to delete?",onConfirm:function(){return r(t)},children:Object(B.jsx)(E.a,{children:"Delete"})}),Object(B.jsx)(ot,{user:t})]})}}];return Object(B.jsx)("div",{children:Object(B.jsx)(ae.a,{dataSource:n,columns:i,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},jt=n(271),dt=n(272),ht=n(283),pt=n(279),bt=n(273),ft=n.n(bt),Ot=n(170),xt=n(274),mt=n.n(xt),vt=n(275),yt=n.n(vt),gt=function(e){Object(ht.a)(n,e);var t=Object(pt.a)(n);function n(){var e;Object(jt.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchText:"",searchedColumn:"",data:[{}]},e.getColumnSearchProps=function(t){return{filterDropdown:function(n){var a=n.setSelectedKeys,c=n.selectedKeys,r=n.confirm,i=n.clearFilters;return Object(B.jsxs)("div",{style:{padding:8},children:[Object(B.jsx)(C.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:c[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(c,r,t)},style:{width:188,marginBottom:8,display:"block"}}),Object(B.jsxs)(_.b,{children:[Object(B.jsx)(E.a,{type:"primary",onClick:function(){return e.handleSearch(c,r,t)},icon:Object(B.jsx)(Ot.a,{}),size:"small",style:{width:90},children:"Search"}),Object(B.jsx)(E.a,{onClick:function(){return e.handleReset(i)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return Object(B.jsx)(Ot.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,n){return mt()(n,t).toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(n){return yt()(e.state.searchedColumn,t)?Object(B.jsx)(ft.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:n.toString()}):n}}},e.handleSearch=function(t,n,a){n(),e.setState({searchText:t[0],searchedColumn:a})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(dt.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/tickets/all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.tickets})}))}},{key:"componentWillUnmount",value:function(){this.setState({searchText:"",searchedColumn:""})}},{key:"render",value:function(){var e=[Object(P.a)({title:" Contact Name",dataIndex:"name",key:"name",width:"15%"},this.getColumnSearchProps("name")),Object(P.a)({title:"Client",dataIndex:["client","name"],key:"client",width:"15%"},this.getColumnSearchProps(["client","name"])),Object(P.a)({title:"Email",dataIndex:"email",key:"email",width:"15%"},this.getColumnSearchProps("email")),Object(P.a)({title:"Engineer",dataIndex:["assignedto","name"],key:"assignedto",width:"15%"},this.getColumnSearchProps(["assignedto","name"])),Object(P.a)({title:"Status",dataIndex:"status",key:"status",width:"15%"},this.getColumnSearchProps("status")),Object(P.a)({title:"Issue",dataIndex:"issue",key:"issue",width:"15%"},this.getColumnSearchProps("issue"))];return Object(B.jsx)("div",{children:Object(B.jsx)(ae.a,{columns:e,dataSource:this.state.data,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})}}]),n}(c.a.Component),wt=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(e.n.active),s=Object(p.a)(i,2),l=s[0],j=s[1],d=Object(a.useState)(e.n.title),h=Object(p.a)(d,2),b=h[0],f=h[1],O=Object(a.useState)(e.n.text),x=Object(p.a)(O,2),m=x[0],v=x[1],y=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r(!1),e.next=4,g();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/newsletter/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:e.n._id,text:m,title:b,active:l})}).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(B.jsx)("div",{children:Object(B.jsxs)(E.a,{onClick:function(){return r(!0)},children:["Edit",Object(B.jsxs)(fe.a,{width:640,placement:"right",onClose:y,visible:c,children:[Object(B.jsxs)("h4",{children:["Active : ",e.n.active.toString()]}),Object(B.jsxs)("h4",{children:["Created By : ",e.n.createdBy.name]}),Object(B.jsx)(H.a,{}),Object(B.jsxs)("h4",{children:["Title :"," ",Object(B.jsx)(C.a,{style:{width:300},onChange:function(e){return f(e.target.value)}})]}),Object(B.jsx)(H.a,{}),Object(B.jsx)("h5",{children:"Detail"}),Object(B.jsx)(C.a.TextArea,{defaultValue:e.n.text,rows:10,onChange:function(e){return v(e.target.value)}}),Object(B.jsx)(H.a,{}),Object(B.jsx)("h5",{children:"Select the button below to change visability "}),Object(B.jsx)(A.a.Group,{buttonStyle:"solid",value:l,onChange:function(e){return j(e.target.value)},style:{textAlign:"center"},children:Object(B.jsxs)(_.b,{children:[Object(B.jsx)(A.a.Button,{value:!0,children:"Active"}),Object(B.jsx)(A.a.Button,{value:!1,children:"Hidden"})]})})]})]})})},kt=function(){var e=Object(a.useContext)(R),t=e.getNewsletter,n=e.newsletters,c=e.deleteNewsletter;Object(a.useEffect)((function(){t()}),[]);var r=[{title:"Title",dataIndex:"title",key:"title",width:"50%"},{title:"CreatedBy",dataIndex:["createdBy","name"],key:"CreatedBy",width:"25%"},{key:"action",width:"25%",render:function(e,t){return Object(B.jsxs)(_.b,{children:[Object(B.jsx)(ie,{n:t}),Object(B.jsx)(wt,{n:t}),Object(B.jsx)(E.a,{onClick:function(){return c(t._id)},children:"Delete"})]})}}];return Object(B.jsx)("div",{children:Object(B.jsx)(ae.a,{className:"your-table",dataSource:n,columns:r,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},Ct=function(){return Object(B.jsx)("div",{children:Object(B.jsx)(Ie,{})})},Tt=function(){return Object(B.jsx)("div",{children:Object(B.jsx)(Ae,{})})},St=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(a.useState)(),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(),s=Object(p.a)(i,2),l=s[0],j=s[1],d=function(){he.b.success("Information updated!")},h=function(){he.b.error("Information failed to update")};function b(){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c||e.name,email:l||e.email})}).then((function(e){return e.json()})).then((function(e){!1===e.fail?(localStorage.clear(),localStorage.setItem("user",JSON.stringify(e.user)),d()):h()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var O=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.toLowerCase(),e.next=3,b();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsxs)("h3",{children:["Account"," ",Object(B.jsx)(E.a,{onClick:b,disabled:!c&&!l,type:"primary",htmlType:"submit",style:{float:"right",marginTop:5},children:"Save"})]}),Object(B.jsx)(H.a,{}),Object(B.jsx)("h5",{children:"Profile"}),Object(B.jsx)("p",{children:"This information will be linked to your tickets."}),Object(B.jsx)("div",{children:Object(B.jsxs)(T.a,{name:"profile",initialValues:{remember:!1},layout:"vertical",onFinish:O,onFinishFailed:x,children:[Object(B.jsx)(T.a.Item,{label:"Name",children:Object(B.jsx)(C.a,{defaultValue:e.name,onChange:function(e){return r(e.target.value)}})}),Object(B.jsx)(T.a.Item,{label:"Email",children:Object(B.jsx)(C.a,{defaultValue:e.email,onChange:function(e){return j(e.target.value)}})})]})})]})},Et=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),a=t._id,e.next=4,fetch("/api/v1/auth/resetPassword/user/".concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})}).then((function(e){return e.json()})).then((function(e){var t;!1===e.failed?he.b.success("Password updated"):(t=e.message,he.b.error("".concat(t)))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{children:"Security"}),Object(B.jsx)(C.a,{placeholder:"Enter new Password ... ",style:{width:200},onChange:function(e){c(e.target.value)}}),Object(B.jsx)(E.a,{onClick:r,style:{marginLeft:10,margin:5},children:Object(B.jsx)(K.a,{})})]})},Nt=function(){return Object(B.jsx)("div",{className:"version",children:Object(B.jsx)("p",{children:"v0.1.7.7"})})},It=function(){var e=Object(j.f)();return Object(a.useEffect)((function(){function t(){return(t=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),!1!==t.auth)return console.log("logged in");e.push("/login")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)(Nt,{}),Object(B.jsxs)("div",{className:"site-layout-content",children:[Object(B.jsx)(St,{}),Object(B.jsx)(H.a,{}),Object(B.jsx)(Et,{})]})]})},At=function(){return Object(B.jsx)(l.a,{children:Object(B.jsxs)(j.c,{children:[Object(B.jsx)(j.a,{exact:!0,path:"/",component:de}),Object(B.jsx)(j.a,{exact:!0,path:"/login",children:Object(B.jsx)("div",{className:"login-container",children:Object(B.jsx)(Fe,{})})}),Object(B.jsxs)(j.a,{children:[Object(B.jsx)(J,{}),Object(B.jsx)(j.a,{exact:!0,path:"/tickets",component:_e}),Object(B.jsx)(j.a,{exact:!0,path:"/history",component:gt}),Object(B.jsx)(j.a,{exact:!0,path:"/settings",component:It}),Object(B.jsxs)(j.a,{exact:!0,path:"/ticket/:path",children:[Object(B.jsx)(j.a,{exact:!0,path:"/ticket/open",component:Ct}),Object(B.jsx)(j.a,{exact:!0,path:"/ticket/unissued",component:Tt})]}),Object(B.jsxs)(j.a,{exact:!0,path:"/admin/:path?",children:[Object(B.jsx)("div",{className:"side-navbar",children:Object(B.jsx)(ct,{})}),Object(B.jsxs)("div",{className:"admin-main",children:[Object(B.jsx)(j.a,{exact:!0,path:"/admin/dashboard",component:Ye}),Object(B.jsx)(j.a,{exact:!0,path:"/admin/Analytics",component:rt}),Object(B.jsx)(j.a,{exact:!0,path:"/admin/clientView",component:st}),Object(B.jsx)(j.a,{exact:!0,path:"/admin/viewUsers",component:lt}),Object(B.jsx)(j.a,{exact:!0,path:"/admin/newsletters",component:kt})]})]})]})]})})},_t=function(){return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.connect("/");case 2:(t=e.sent).on("visitor enters"),t.on("visitor exits");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(B.jsx)("div",{children:Object(B.jsx)(At,{})})};i.a.render(Object(B.jsx)(F,{children:Object(B.jsx)(_t,{})}),document.getElementById("root"))}},[[465,1,2]]]);
//# sourceMappingURL=main.00fb350d.chunk.js.map