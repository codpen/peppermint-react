{"version":3,"sources":["components/newsletter/ViewNewsletter.js","components/newsletter/Edit.js","components/newsletter/Create.js","pages/admin/Newsletters.js"],"names":["ViewNewsletter","props","useState","visible","setVisible","onCancel","e","stopPropagation","size","onClick","destroyOnClose","keyboard","title","n","footer","text","createdBy","name","Edit","active","isActive","setIsActive","setTitle","setText","onClose","a","postData","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","id","_id","then","res","json","width","placement","toString","style","onChange","target","value","TextArea","defaultValue","rows","Group","buttonStyle","textAlign","Button","Create","setActive","createNewsletter","useContext","GlobalContext","Input","onCreate","values","type","class","xmlns","viewBox","fill","aria-hidden","fill-rule","d","clip-rule","okText","cancelText","onOk","margin","placeholder","marginLeft","Newsletters","getNewsletter","newsletters","deleteNewsletter","useEffect","columns","dataIndex","key","render","record","className","tabindex","dataSource","pagination","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"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","file":"static/js/8.38e25f46.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Divider, Modal } from \"antd\";\r\n\r\nconst ViewNewsletter = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const onCancel = (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        size=\"xs\"\r\n        onClick={() => {\r\n          setVisible(true);\r\n        }}\r\n      >\r\n        Read\r\n        <Modal\r\n          destroyOnClose={true}\r\n          keyboard={true}\r\n          visible={visible}\r\n          title={props.n.title}\r\n          onCancel={onCancel}\r\n          footer={[<Button onClick={onCancel}>Close</Button>]}\r\n        >\r\n          <p>{props.n.text}</p>\r\n          <Divider />\r\n          <p>Author : {props.n.createdBy.name}</p>\r\n        </Modal>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewNewsletter;","import React, { useState } from \"react\";\r\nimport { Drawer, Button, Divider, Input, Radio, Space } from \"antd\";\r\n\r\nconst Edit = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [isActive, setIsActive] = useState(props.n.active);\r\n  const [title, setTitle] = useState(props.n.title);\r\n  const [text, setText] = useState(props.n.text);\r\n\r\n  const onClose = async (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n    await postData();\r\n  };\r\n\r\n  const postData = async () => {\r\n    await fetch(`/api/v1/newsletter/update`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        id: props.n._id,\r\n        text,\r\n        title,\r\n        active: isActive,\r\n      }),\r\n    }).then((res) => res.json());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={() => setVisible(true)}>\r\n        Edit\r\n        <Drawer\r\n          width={640}\r\n          placement=\"right\"\r\n          onClose={onClose}\r\n          visible={visible}\r\n        >\r\n          <h4>Active : {props.n.active.toString()}</h4>\r\n          <h4>Created By : {props.n.createdBy.name}</h4>\r\n          <Divider />\r\n          <h4>\r\n            Title :{\" \"}\r\n            <Input\r\n              style={{ width: 300 }}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </h4>\r\n          <Divider />\r\n          <h5>Detail</h5>\r\n          <Input.TextArea\r\n            defaultValue={props.n.text}\r\n            rows={10}\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n          <Divider />\r\n          <h5>Select the button below to change visability </h5>\r\n          <Radio.Group\r\n            buttonStyle=\"solid\"\r\n            value={isActive}\r\n            onChange={(e) => setIsActive(e.target.value)}\r\n            style={{ textAlign: \"center\" }}\r\n          >\r\n            <Space>\r\n              <Radio.Button value={true}>Active</Radio.Button>\r\n              <Radio.Button value={false}>Hidden</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n        </Drawer>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;","import React, { useState, useContext } from \"react\";\r\nimport { Modal, Input, Radio, Space, Row } from \"antd\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\n\r\nconst Create = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [title, setTitle] = useState();\r\n  const [text, setText] = useState();\r\n  const [active, setActive] = useState();\r\n  \r\n  const { createNewsletter } = useContext(GlobalContext);\r\n\r\n  const { TextArea } = Input;\r\n\r\n  const onCreate = async (values) => {\r\n    setVisible(false);\r\n    await createNewsletter(title, text, active)\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setVisible(true)}\r\n        type=\"button\"\r\n        class=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n      >\r\n        <svg\r\n          class=\"h-5 w-5\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Create a new newsletter\"\r\n        okText=\"Create\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={onCreate}\r\n      >\r\n        <div style={{ margin: 25 }}>\r\n          <Row>\r\n            <Input\r\n              placeholder=\"Enter newsletter tittle here...\"\r\n              style={{ width: 400, marginLeft: -25 }}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </Row>\r\n        </div>\r\n        <div>\r\n          <TextArea\r\n            rows={8}\r\n            placeholder=\"Enter newsletter content here...\"\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n        </div>\r\n        <div style={{ margin: 25 }}>\r\n          <Radio.Group\r\n            defaultValue={active}\r\n            value={active}\r\n            onChange={(e) => setActive(e.target.value)}\r\n          >\r\n            <Space>\r\n              <Radio.Button value=\"true\">Active</Radio.Button>\r\n              <Radio.Button value=\"false\">Hidden</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;","import React, { useEffect, useContext } from \"react\";\r\nimport { Table, Button, Space } from \"antd\";\r\n\r\nimport ViewNewsletter from \"../../components/newsletter/ViewNewsletter\";\r\nimport Edit from \"../../components/newsletter/Edit\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\nimport Create from \"../../components/newsletter/Create\";\r\n\r\nconst Newsletters = () => {\r\n  const { getNewsletter, newsletters, deleteNewsletter } = useContext(\r\n    GlobalContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    getNewsletter();\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      width: \"50%\",\r\n    },\r\n    {\r\n      title: \"CreatedBy\",\r\n      dataIndex: [\"createdBy\", \"name\"],\r\n      key: \"CreatedBy\",\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      key: \"action\",\r\n      width: \"25%\",\r\n      render: (text, record) => (\r\n        <Space>\r\n          <ViewNewsletter n={record} />\r\n          <Edit n={record} />\r\n          <Button onClick={() => deleteNewsletter(record._id)}>Delete</Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <main\r\n        className=\"relative z-0 overflow-y-auto focus:outline-none\"\r\n        tabindex=\"0\"\r\n      >\r\n        <div className=\"py-6\">\r\n          <div className=\"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <h1 className=\"text-2xl font-semibold text-gray-900\">\r\n              Newsletters\r\n            </h1>\r\n            <div className=\"ml-3\">\r\n              <Create />\r\n            </div>\r\n          </div>\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <div className=\"py-4\">\r\n              <Table\r\n                className=\"your-table\"\r\n                dataSource={newsletters}\r\n                columns={columns}\r\n                pagination={{\r\n                  defaultPageSize: 10,\r\n                  showSizeChanger: true,\r\n                  pageSizeOptions: [\"10\", \"20\", \"30\"],\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Newsletters;\r\n"],"sourceRoot":""}