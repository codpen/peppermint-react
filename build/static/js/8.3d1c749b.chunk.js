(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{398:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(364),r=n(36),s=n(358),i=n(10),l=n(361),o=n(357),u=n(1),j=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],s=n[1],j=function(e){e.stopPropagation(),s(!1)};return Object(u.jsx)("div",{children:Object(u.jsxs)(l.a,{destroyOnClose:!0,keyboard:!0,visible:c,title:e.n.title,onCancel:j,footer:[Object(u.jsx)(r.a,{onClick:j,children:"Close"})],children:[Object(u.jsx)("p",{children:e.n.text}),Object(u.jsx)(o.a,{}),Object(u.jsxs)("p",{children:["Author : ",e.n.createdBy?e.n.createdBy.name:"please reload"]})]})})},d=n(8),b=n.n(d),x=n(13),h=n(397),O=n(362),f=n(140),p=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),s=n[0],l=n[1],j=Object(a.useState)(e.n.active),d=Object(i.a)(j,2),p=d[0],v=d[1],m=Object(a.useState)(e.n.title),w=Object(i.a)(m,2),g=w[0],y=w[1],C=Object(a.useState)(e.n.text),N=Object(i.a)(C,2),S=N[0],k=N[1],B=function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),l(!1),e.next=4,T();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var t=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/newsletter/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.n.id,text:S,title:g,active:p})}).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsxs)(r.a,{onClick:function(){return l(!0)},children:["Edit",Object(u.jsxs)(h.a,{width:640,placement:"right",onClose:B,visible:s,children:[Object(u.jsxs)("h4",{children:["Active : ",e.n.active.toString()]}),Object(u.jsxs)("h4",{children:["Created By : ",e.n.createdBy?e.n.createdBy.firstName:"please reload"]}),Object(u.jsx)(o.a,{}),Object(u.jsxs)("h4",{children:["Title :"," ",Object(u.jsx)("input",{type:"text",defaultValue:e.n.title,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",onChange:function(e){return y(e.target.value)}})]}),Object(u.jsx)(o.a,{}),Object(u.jsx)("h5",{children:"Detail"}),Object(u.jsx)(O.a.TextArea,{defaultValue:e.n.text,rows:10,onChange:function(e){return k(e.target.value)}}),Object(u.jsx)(o.a,{}),Object(u.jsx)("h5",{children:"Select the button below to change visability "}),Object(u.jsx)(f.a.Group,{buttonStyle:"solid",value:p,onChange:function(e){return v(e.target.value)},style:{textAlign:"center"},children:Object(u.jsxs)(c.b,{children:[Object(u.jsx)(f.a.Button,{value:!0,children:"Active"}),Object(u.jsx)(f.a.Button,{value:!1,children:"Hidden"})]})})]})]})})},v=n(37),m=n(374),w=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),o=Object(i.a)(s,2),j=o[0],d=o[1],h=Object(a.useState)(),p=Object(i.a)(h,2),w=p[0],g=p[1],y=Object(a.useState)("false"),C=Object(i.a)(y,2),N=C[0],S=C[1],k=Object(a.useContext)(v.a).createNewsletter,B=O.a.TextArea,T=function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),e.next=3,k(j,w,N);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){return r(!0)},type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:Object(u.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})})}),Object(u.jsxs)(l.a,{visible:n,title:"Create a new newsletter",okText:"Create",cancelText:"Cancel",onCancel:function(){r(!1)},onOk:T,children:[Object(u.jsx)("div",{className:"m-4 p-2 flex justify-items-center w-full",children:Object(u.jsxs)(m.a,{children:[Object(u.jsx)("label",{for:"email",class:"sr-only",children:"Email"}),Object(u.jsx)("input",{type:"text",name:"title",id:"title",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 w-96 sm:text-sm border-gray-300 rounded-md",placeholder:"Enter newsletter tittle here...",style:{marginLeft:-25},onChange:function(e){return d(e.target.value)}})]})}),Object(u.jsx)("div",{children:Object(u.jsx)(B,{rows:15,className:"w-full",placeholder:"Enter newsletter content here...",onChange:function(e){return g(e.target.value)}})}),Object(u.jsx)("div",{className:"mt-4",children:Object(u.jsx)(f.a.Group,{defaultValue:N,value:N,onChange:function(e){return S(e.target.value)},children:Object(u.jsxs)(c.b,{children:[Object(u.jsx)(f.a.Button,{value:"true",children:"Active"}),Object(u.jsx)(f.a.Button,{value:"false",children:"Hidden"})]})})})]})]})};t.default=function(){var e=Object(a.useContext)(v.a),t=e.getNewsletter,n=e.newsletters,i=e.deleteNewsletter;Object(a.useEffect)((function(){t()}),[]);var l=[{title:"Title",dataIndex:"title",key:"title",width:"50%"},{title:"CreatedBy",dataIndex:["createdBy","firstName"],key:"CreatedBy",width:"25%"},{key:"action",width:"25%",render:function(e,t){return Object(u.jsxs)(c.b,{children:[Object(u.jsx)(j,{n:t}),Object(u.jsx)(p,{n:t}),Object(u.jsx)(r.a,{onClick:function(){return i(t.id)},children:"Delete"})]})}}];return Object(u.jsx)("div",{children:Object(u.jsx)("main",{className:"relative z-0 overflow-y-auto focus:outline-none",tabindex:"0",children:Object(u.jsxs)("div",{className:"py-6",children:[Object(u.jsxs)("div",{className:"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[Object(u.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Newsletters"}),Object(u.jsx)("div",{className:"ml-3",children:Object(u.jsx)(w,{})})]}),Object(u.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:Object(u.jsx)("div",{className:"py-4",children:Object(u.jsx)(s.a,{className:"your-table",dataSource:n,columns:l,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})})]})})})}}}]);
//# sourceMappingURL=8.3d1c749b.chunk.js.map