{"version":3,"sources":["../node_modules/antd/es/row/index.js","components/client/Update.js","components/client/Create.js","pages/admin/Client.js"],"names":["Row","Update","props","useState","visible","setVisible","client","name","clientName","setClientName","ContactName","setName","email","setEmail","number","setNumber","console","log","postData","a","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","id","_id","then","res","json","onCreate","e","stopPropagation","onClick","title","okText","cancelText","onCancel","onOk","className","type","defaultValue","onChange","target","value","contactName","Create","Form","useForm","form","setContactName","createClient","useContext","GlobalContext","xmlns","viewBox","fill","aria-hidden","fill-rule","d","clip-rule","centered","validateFields","values","resetFields","catch","info","layout","initialValues","modifier","Item","label","rules","required","message","placeholder","Client","history","useHistory","clients","getClients","useEffect","Accept","response","auth","push","deleteClient","columns","dataIndex","key","width","responsive","render","record","size","onConfirm","tabindex","dataSource","Pagenation","pagination","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"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","file":"static/js/5.e4cad7e2.chunk.js","sourcesContent":["import { Row } from '../grid';\nexport default Row;","import React, { useState } from \"react\";\r\nimport { Modal, Button, Row } from \"antd\";\r\n\r\nconst Update = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [clientName, setClientName] = useState(props.client.name);\r\n  const [name, setName] = useState(props.client.ContactName);\r\n  const [email, setEmail] = useState(props.client.email);\r\n  const [number, setNumber] = useState(props.client.number);\r\n\r\n  console.log(props.client);\r\n\r\n  const postData = async () => {\r\n    await fetch(`/api/v1/client/update`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        id: props.client._id,\r\n        clientName,\r\n        name,\r\n        email,\r\n        number,\r\n      }),\r\n    }).then((res) => res.json);\r\n  };\r\n\r\n  const onCreate = async (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n    await postData();\r\n  };\r\n\r\n  const onCancel = (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          setVisible(true);\r\n        }}\r\n      >\r\n        Update\r\n        <Modal\r\n          visible={visible}\r\n          title=\"Edit a users info\"\r\n          okText=\"Update\"\r\n          cancelText=\"Cancel\"\r\n          onCancel={onCancel}\r\n          onOk={onCreate}\r\n        >\r\n          <Row className=\"m-2\">\r\n            <h5>\r\n              Edit Client Name :{\" \"}\r\n              <input\r\n                type=\"text\"\r\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n                defaultValue={props.client.name}\r\n                onChange={(e) => setClientName(e.target.value)}\r\n              />\r\n            </h5>\r\n          </Row>\r\n          <Row className=\"m-2\">\r\n            <h5>\r\n              Edit Contact Name :{\" \"}\r\n              <input\r\n                type=\"text\"\r\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n                defaultValue={props.client.contactName}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </h5>\r\n          </Row>\r\n          <Row className=\"m-2\">\r\n            <h5>\r\n              Edit Contact Email :{\" \"}\r\n              <input\r\n                type=\"text\"\r\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n                defaultValue={props.client.email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </h5>\r\n          </Row>\r\n          <Row className=\"m-2\">\r\n            <h5>\r\n              Edit Contact Number :{\" \"}\r\n              <input\r\n                type=\"text\"\r\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n                defaultValue={props.client.number}\r\n                onChange={(e) => setNumber(e.target.value)}\r\n              />\r\n            </h5>\r\n          </Row>\r\n        </Modal>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Update;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Modal, Form } from \"antd\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\n\r\nconst Create = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [form] = Form.useForm();\r\n\r\n  const [number, setNumber] = useState(\"\");\r\n  const [contactName, setContactName] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const { createClient } = useContext(GlobalContext);\r\n\r\n  const onCreate = async () => {\r\n    setVisible(false);\r\n    await createClient(name, contactName, number, email);\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setVisible(true)}\r\n        type=\"button\"\r\n        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n      >\r\n        <svg\r\n          className=\"h-5 w-5\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <Modal\r\n        centered\r\n        visible={visible}\r\n        title=\"Add a new client\"\r\n        okText=\"Create\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={() => {\r\n          form\r\n            .validateFields()\r\n            .then((values) => {\r\n              form.resetFields();\r\n              onCreate(values);\r\n            })\r\n            .catch((info) => {\r\n              console.log(\"Validate Failed:\", info);\r\n            });\r\n        }}\r\n      >\r\n        <Form\r\n          form={form}\r\n          layout=\"vertical\"\r\n          name=\"form_in_modal\"\r\n          initialValues={{\r\n            modifier: \"public\",\r\n          }}\r\n        >\r\n          <Form.Item\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please input the name of your new client!\",\r\n              },\r\n            ]}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter name here...\"\r\n              name=\"name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item name=\"contact name\" label=\"Contact Name\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter  here....\"\r\n              onChange={(e) => setContactName(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item name=\"number\" label=\"Contact Number\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter number here...\"\r\n              onChange={(e) => setNumber(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item name=\"email\" label=\"Contact Email\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter email address here...\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { Table, Space, Button, Popconfirm } from \"antd\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\n\r\nimport Update from '../../components/client/Update'\r\nimport Create from '../../components/client/Create'\r\n\r\n\r\nconst Client = () => {\r\n  const history = useHistory();\r\n  const { clients, getClients } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function auth() {\r\n      await fetch(`/api/v1/auth/token`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((response) => {\r\n          const res = response;\r\n          if (res.auth === false) {\r\n            history.push(\"/login\");\r\n          } else {\r\n            return console.log(\"logged in\");\r\n          }\r\n        });\r\n    }\r\n    auth();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getClients();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const deleteClient = async (client) => {\r\n    const id = client._id;\r\n    try {\r\n      await fetch(`/api/v1/client/delete/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      }).then((response) => response.json());\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Client Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      width: 150,\r\n    },\r\n    {\r\n      title: \"Contact Name\",\r\n      dataIndex: \"contactName\",\r\n      key: \"contactName\",\r\n      width: 150,\r\n      responsive: [\"md\"],\r\n    },\r\n    {\r\n      title: \"Contact Email\",\r\n      dataIndex: \"email\",\r\n      key: \"email\",\r\n      width: 50,\r\n      responsive: [\"md\"],\r\n    },\r\n    {\r\n      title: \"Contact Number\",\r\n      dataIndex: \"number\",\r\n      key: \"number\",\r\n      width: 75,\r\n    },\r\n    {\r\n      key: \"action\",\r\n      responsive: [\"md\"],\r\n      width: 200,\r\n      render: (record) => (\r\n        <Space size=\"middle\">\r\n            <Update client={record} />\r\n          <Popconfirm\r\n            title=\"Are you sure you want to delete?\"\r\n            onConfirm={() => deleteClient(record)}\r\n          >\r\n            <Button>Delete</Button>\r\n          </Popconfirm>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <main\r\n        className=\"relative z-0 overflow-y-auto focus:outline-none\"\r\n        tabindex=\"0\"\r\n      >\r\n        <div className=\"py-6\">\r\n          <div className=\"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <h1 className=\"text-2xl font-semibold text-gray-900\">Clients</h1>\r\n            <div className=\"ml-3\">\r\n                <Create />\r\n              </div>\r\n          </div>\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <div className=\"py-4\">\r\n              <Table\r\n                dataSource={clients}\r\n                columns={columns}\r\n                Pagenation={false}\r\n                pagination={{\r\n                  defaultPageSize: 10,\r\n                  showSizeChanger: true,\r\n                  pageSizeOptions: [\"10\", \"20\", \"30\"],\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Client;\r\n"],"sourceRoot":""}