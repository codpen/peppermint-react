(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{374:function(e,t,n){"use strict";var a=n(219);t.a=a.a},400:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n.n(a),r=n(13),i=n(0),o=n(364),s=n(363),l=n(36),u=n(358),d=n(31),m=n(37),b=n(10),j=n(361),f=n(374),h=n(1),p=function(e){var t=Object(i.useState)(!1),n=Object(b.a)(t,2),a=n[0],o=n[1],s=Object(i.useState)(e.client.name),u=Object(b.a)(s,2),d=u[0],m=u[1],p=Object(i.useState)(e.client.ContactName),x=Object(b.a)(p,2),O=x[0],g=x[1],v=Object(i.useState)(e.client.email),w=Object(b.a)(v,2),y=w[0],C=w[1],N=Object(i.useState)(e.client.number),k=Object(b.a)(N,2),E=k[0],S=k[1],T=function(){var t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/client/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:e.client._id,clientName:d,name:O,email:y,number:E})}).then((function(e){return e.json}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),o(!1),e.next=4,T();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)(l.a,{onClick:function(){o(!0)},children:["Update",Object(h.jsxs)(j.a,{visible:a,title:"Edit a users info",okText:"Update",cancelText:"Cancel",onCancel:function(e){e.stopPropagation(),o(!1)},onOk:I,children:[Object(h.jsx)(f.a,{className:"m-2",children:Object(h.jsxs)("h5",{children:["Edit Client Name :"," ",Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",defaultValue:e.client.name,onChange:function(e){return m(e.target.value)}})]})}),Object(h.jsx)(f.a,{className:"m-2",children:Object(h.jsxs)("h5",{children:["Edit Contact Name :"," ",Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",defaultValue:e.client.contactName,onChange:function(e){return g(e.target.value)}})]})}),Object(h.jsx)(f.a,{className:"m-2",children:Object(h.jsxs)("h5",{children:["Edit Contact Email :"," ",Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",defaultValue:e.client.email,onChange:function(e){return C(e.target.value)}})]})}),Object(h.jsx)(f.a,{className:"m-2",children:Object(h.jsxs)("h5",{children:["Edit Contact Number :"," ",Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",defaultValue:e.client.number,onChange:function(e){return S(e.target.value)}})]})})]})]})})},x=n(360),O=function(){var e=Object(i.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],o=x.a.useForm(),s=Object(b.a)(o,1)[0],l=Object(i.useState)(""),u=Object(b.a)(l,2),d=u[0],f=u[1],p=Object(i.useState)(""),O=Object(b.a)(p,2),g=O[0],v=O[1],w=Object(i.useState)(""),y=Object(b.a)(w,2),C=y[0],N=y[1],k=Object(i.useState)(""),E=Object(b.a)(k,2),S=E[0],T=E[1],I=Object(i.useContext)(m.a).createClient,z=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.next=3,I(C,g,d,S);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){return a(!0)},type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:Object(h.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})})}),Object(h.jsx)(j.a,{centered:!0,visible:n,title:"Add a new client",okText:"Create",cancelText:"Cancel",onCancel:function(){a(!1)},onOk:function(){s.validateFields().then((function(e){s.resetFields(),z(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(h.jsxs)(x.a,{form:s,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(h.jsx)(x.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of your new client!"}],children:Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter name here...",name:"name",onChange:function(e){return N(e.target.value)}})}),Object(h.jsx)(x.a.Item,{name:"contact name",label:"Contact Name",children:Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter  here....",onChange:function(e){return v(e.target.value)}})}),Object(h.jsx)(x.a.Item,{name:"number",label:"Contact Number",children:Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter number here...",onChange:function(e){return f(e.target.value)}})}),Object(h.jsx)(x.a.Item,{name:"email",label:"Contact Email",children:Object(h.jsx)("input",{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Enter email address here...",onChange:function(e){return T(e.target.value)}})})]})})]})};t.default=function(){var e=Object(d.f)(),t=Object(i.useContext)(m.a),n=t.clients,a=t.getClients;Object(i.useEffect)((function(){function t(){return(t=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(!1!==t.auth)return console.log("logged in");e.push("/login")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){a()}),[]);var b=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,e.next=4,fetch("/api/v1/client/delete/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),j=[{title:"Client Name",dataIndex:"name",key:"name",width:150},{title:"Contact Name",dataIndex:"contactName",key:"contactName",width:150,responsive:["md"]},{title:"Contact Email",dataIndex:"email",key:"email",width:50,responsive:["md"]},{title:"Contact Number",dataIndex:"number",key:"number",width:75},{key:"action",responsive:["md"],width:200,render:function(e){return Object(h.jsxs)(o.b,{size:"middle",children:[Object(h.jsx)(p,{client:e}),Object(h.jsx)(s.a,{title:"Are you sure you want to delete?",onConfirm:function(){return b(e)},children:Object(h.jsx)(l.a,{children:"Delete"})})]})}}];return Object(h.jsx)("div",{children:Object(h.jsx)("main",{className:"relative z-0 overflow-y-auto focus:outline-none",tabindex:"0",children:Object(h.jsxs)("div",{className:"py-6",children:[Object(h.jsxs)("div",{className:"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[Object(h.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Clients"}),Object(h.jsx)("div",{className:"ml-3",children:Object(h.jsx)(O,{})})]}),Object(h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:Object(h.jsx)("div",{className:"py-4",children:Object(h.jsx)(u.a,{dataSource:n,columns:j,Pagenation:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})})]})})})}}}]);
//# sourceMappingURL=5.0a39c320.chunk.js.map