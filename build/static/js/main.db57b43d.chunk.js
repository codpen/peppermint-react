(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{225:function(e,t,n){},231:function(e,t,n){},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var s=n(8),a=n.n(s),c=n(15),r=n(11),i=n(0),o=n(87),l=n(19),d=function(e,t){switch(t.type){case"GET_TODOS":return Object(l.a)(Object(l.a)({},e),{},{todos:t.payload});case"ADD_TODO":return Object(l.a)(Object(l.a)({},e),{},{todos:[].concat(Object(o.a)(e.todos),[t.payload])});case"DELETE_TODO":return Object(l.a)(Object(l.a)({},e),{},{todos:e.todos.filter((function(e){return e._id!==t.payload}))});case"ALLDONE_TODO":case"MARK_TODO":case"UNMARK_TODO":return Object(l.a)(Object(l.a)({},e),{},{todos:t.payload});case"GET_NOTES":return Object(l.a)(Object(l.a)({},e),{},{notes:t.payload});case"ADD_NOTE":return Object(l.a)(Object(l.a)({},e),{},{notes:[].concat(Object(o.a)(e.notes),[t.payload])});case"DELETE_NOTE":return Object(l.a)(Object(l.a)({},e),{},{notes:e.notes.filter((function(e){return e._id!==t.payload}))});case"ADD_TICKET":return Object(l.a)(Object(l.a)({},e),{},{unissuedTicket:[].concat(Object(o.a)(e.unissuedTicket),[t.payload])});case"GET_UNISSUEDTICKETS":case"CONVERT_TICKET":return Object(l.a)(Object(l.a)({},e),{},{unissuedTicket:t.payload});case"GET_OPENTICKET":case"COMPLETE_TICKET":case"TRANSFER_TICKET":return Object(l.a)(Object(l.a)({},e),{},{openTicket:t.payload});case"CREATE_NEWSLETTER":return Object(l.a)(Object(l.a)({},e),{},{newsletters:[].concat(Object(o.a)(e.newsletters),[t.payload])});case"GET_NEWSLETTER":case"DELETE_NEWSLETTER":return Object(l.a)(Object(l.a)({},e),{},{newsletters:t.payload});case"GET_CLIENTS":return Object(l.a)(Object(l.a)({},e),{},{clients:t.payload});case"CREATE_CLIENT":return Object(l.a)(Object(l.a)({},e),{},{clients:[].concat(Object(o.a)(e.clients),[t.payload])});case"CREATE_USER":return Object(l.a)(Object(l.a)({},e),{},{users:[].concat(Object(o.a)(e.users),[t.payload])});case"GET_USERS":return Object(l.a)(Object(l.a)({},e),{},{users:t.payload});case"USER_LOGGED":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});case"CLEAR":return null;default:return e}},u=n(90),j=n.n(u),x=n(1),h={todos:[],notes:[],unissuedTicket:[],openTicket:[],newsletters:[],clients:[],user:[],users:[]},p=Object(i.createContext)(h),b=function(e){var t=e.children,n=Object(i.useReducer)(d,h),s=Object(r.a)(n,2),o=s[0],l=s[1];function u(){return(u=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}},e.prev=1,e.next=4,j.a.get("/api/v1/todo/getTodo",t);case 4:n=e.sent,l({type:"GET_TODOS",payload:n.data.todo}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/createTodo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({todo:t})}).then((function(e){return e.json()}));case 3:n=e.sent,l({type:"ADD_TODO",payload:n.todo}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/deleteTodo/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:l({type:"DELETE_TODO",payload:t}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markAllAsDone",{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,l({type:"ALLDONE_TODO",payload:t.todo}),console.log(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(){return(O=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markOneAsDone/".concat(t),{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:n=e.sent,l({type:"MARK_TODO",payload:n.todo}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(){return(g=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/note/getNotes",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,l({type:"GET_NOTES",payload:t.note}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=Object(c.a)(a.a.mark((function e(t,n){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/note/saveNote",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({text:t,title:n})}).then((function(e){return e.json()}));case 3:s=e.sent,l({type:"ADD_NOTE",payload:s.note}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(){return(y=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,fetch("/api/v1/note/deleteNote/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:l({type:"DELETE_NOTE",payload:t}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(){return(w=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):(localStorage.setItem("user",JSON.stringify(e.user)),l({type:"USER_LOGGED",payload:e.user}))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function N(){return(N=Object(c.a)(a.a.mark((function e(t,n,s,c,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/createTicket",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,company:s,issue:c,priority:r})}).then((function(e){return e.json()}));case 3:i=e.sent,l({type:"ADD_TICKET",payload:i.ticket}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return(k=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/unissuedTickets",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()}));case 3:t=e.sent,l({type:"GET_UNISSUEDTICKETS",payload:t.tickets}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function T(){return(T=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/convertTicket",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({data:t})}).then((function(e){return e.json()}));case 3:n=e.sent,l({type:"CONVERT_TICKET",payload:n.ticket}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function C(){return(C=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/openedTickets",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()}));case 3:t=e.sent,l({type:"GET_OPENTICKET",payload:t.tickets}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function S(){return(S=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/complete/".concat(t),{method:"Post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()}));case 2:n=e.sent,l({type:"COMPLETE_TICKET",payload:n.tickets}),console.log(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(c.a)(a.a.mark((function e(t,n){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/transfer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:t,find:n})}).then((function(e){return e.json()}));case 3:s=e.sent,l({type:"TRANSFER_TICKET",payload:s.tickets}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function _(){return(_=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markUndone/".concat(t),{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:n=e.sent,l({type:"UNMARK_TODO",payload:n.todo}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function A(){return(A=Object(c.a)(a.a.mark((function e(t,n,s){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,text:n,active:s})}).then((function(e){return e.json()}));case 3:c=e.sent,l({type:"CREATE_NEWSLETTER",payload:c.newsletter}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(){return(D=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/get",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,l({type:"GET_NEWSLETTER",payload:t.newsletters}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function z(){return(z=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:n=e.sent,l({type:"DELETE_NEWSLETTER",payload:n.newsletters}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function I(){return(I=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/client/allclients",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,l({type:"GET_CLIENTS",payload:t.client}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function L(){return(L=Object(c.a)(a.a.mark((function e(t,n,s,c){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/client/create",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,contactName:n,number:s,email:c})}).then((function(e){return e.json()}));case 3:r=e.sent,l({type:"CREATE_CLIENT",payload:r.client}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function M(){return(M=Object(c.a)(a.a.mark((function e(t,n,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/Signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:s})}).then((function(e){return e.json()}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function B(){return(B=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,l({type:"GET_USERS",payload:t.users}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(x.jsx)(p.Provider,{value:{todos:o.todos,notes:o.notes,auth:o.auth,user:o.user,users:o.users,unissuedTicket:o.unissuedTicket,openTicket:o.openTicket,newsletters:o.newsletters,clients:o.clients,getTodos:function(){return u.apply(this,arguments)},addTodo:function(e){return b.apply(this,arguments)},deleteTodo:function(e){return m.apply(this,arguments)},allDone:function(){return f.apply(this,arguments)},markDone:function(e){return O.apply(this,arguments)},getNotes:function(){return g.apply(this,arguments)},saveNote:function(e,t){return v.apply(this,arguments)},deleteNote:function(e){return y.apply(this,arguments)},signin:function(e,t){return w.apply(this,arguments)},getUnissuedTicket:function(){return k.apply(this,arguments)},convertTicket:function(e){return T.apply(this,arguments)},getOpenTicket:function(){return C.apply(this,arguments)},completeTicket:function(e){return S.apply(this,arguments)},transferTicket:function(e,t){return E.apply(this,arguments)},markUndone:function(e){return _.apply(this,arguments)},createNewsletter:function(e,t,n){return A.apply(this,arguments)},getNewsletter:function(){return D.apply(this,arguments)},deleteNewsletter:function(e){return z.apply(this,arguments)},createTicket:function(e,t,n,s,a){return N.apply(this,arguments)},getClients:function(){return I.apply(this,arguments)},createClient:function(e,t,n,s){return L.apply(this,arguments)},createUser:function(e,t,n){return M.apply(this,arguments)},getUsers:function(){return B.apply(this,arguments)}},children:t})}},355:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(33),r=n.n(c),i=(n(225),n(8)),o=n.n(i),l=n(15),d=n(75),u=n(21),j=n(31),x=(n(229),n(230),n(231),n(165)),h=n.n(x),p=n(19),b=n(11),m=n(212),f=n(359),O=n(370),g=n(1),v=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(b.a)(c,2),i=(r[0],r[1]);return Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/newsletter/get/active",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.newsletters.slice(0,3))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{class:"flow-root mt-6",children:n?n.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("ul",{class:"-my-5 divide-y divide-gray-200",children:Object(g.jsx)("li",{class:"py-5",children:Object(g.jsxs)("div",{class:"relative ",children:[Object(g.jsx)("h3",{class:"text-sm font-semibold text-gray-800",children:Object(g.jsx)(u.b,{onClick:function(){return i(!0)},class:"hover:underline focus:outline-none",children:e.title})}),Object(g.jsx)("p",{class:"mt-1 text-sm text-gray-600 line-clamp-2",children:e.text})]})})},e._id)})})):Object(g.jsx)("p",{})}),Object(g.jsx)("div",{class:"mt-6",children:Object(g.jsx)(u.b,{href:"#",class:"hidden w-full flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"View all"})})]})},y=n(363),w=n(37),N=n(358),k=n(366),T=n(32),C=n(365),S=n(362),E=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(b.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(""),u=Object(b.a)(l,2),j=u[0],x=u[1],h=Object(s.useContext)(T.a).saveNote,p={CLOSE:function(){return o(!1)}};return Object(g.jsx)("div",{children:Object(g.jsxs)(d.HotKeys,{handlers:p,children:[Object(g.jsx)("div",{className:"ml-10",style:{marginTop:-3},children:Object(g.jsx)("button",{onClick:function(){return o(!i)},children:Object(g.jsx)(C.a,{})})}),Object(g.jsx)("div",{className:"".concat(i?"fixed z-10 inset-0  w-full":"hidden"),"aria-labelledby":"dialog-1-title",role:"dialog","aria-modal":"true",children:Object(g.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(g.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),Object(g.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(g.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w sm:w-1/2 sm:p-6",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("header",{className:"App-header",children:"Create new Note"}),Object(g.jsx)(S.a,{style:{marginBottom:5},placeholder:"Enter a title here..",onChange:function(e){return a(e.target.value)}}),Object(g.jsx)(S.a.TextArea,{rows:15,onChange:function(e){return x(e.target.value)},placeholder:"Enter a text here.."})]})}),Object(g.jsx)("div",{className:"mt-5 sm:mt-6",children:Object(g.jsxs)("div",{className:"flex flex-row px-2 m-1",children:[Object(g.jsx)("button",{onClick:function(){o(!i)},type:"button",className:"mx-auto w-1/2 rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm",children:"Exit"}),Object(g.jsx)("button",{onClick:function(){o(!i),h(j,n)},type:"button",className:" mx-auto w-1/2 rounded-md border border-transparent shadow-sm px-4 py-2 ml-3 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm",children:"Go back to dashboard to save"})]})})]})]})})]})})},_=n(357),A=n(204),D=n.n(A),z=function(e){var t,n=Object(s.useState)(!1),a=Object(b.a)(n,2),c=a[0],r=a[1],i={CLOSE:function(){return r(!1)}};return Object(g.jsx)("div",{children:Object(g.jsxs)(d.HotKeys,{handlers:i,children:[Object(g.jsx)("div",{className:"ml-10",children:Object(g.jsx)(w.a,{size:"xs",style:{marginRight:10},onClick:function(){return r(!c)},children:"View"})}),Object(g.jsx)("div",{className:"".concat(c?"fixed z-10 inset-0  w-full":"hidden"),"aria-labelledby":"dialog-1-title",role:"dialog","aria-modal":"true",children:Object(g.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(g.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),Object(g.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(g.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w sm:w-1/2 sm:p-6",children:[Object(g.jsx)("div",{className:"text-lg",children:Object(g.jsx)("h1",{children:e.note.title})}),Object(g.jsx)(_.a,{}),Object(g.jsx)("div",{className:"preview",dangerouslySetInnerHTML:(t=e.note.note,{__html:D.a.sanitize(t)})}),Object(g.jsx)("button",{onClick:function(){r(!1)},type:"button",className:"flex justify-center w-1/4 rounded-md border border-transparent shadow-sm px-4 py-2 mx-auto bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm",children:"Go back to dashboard"})]})]})})]})})},I=function(){var e=Object(s.useContext)(T.a),t=e.notes,n=e.getNotes,a=e.deleteNote;Object(s.useEffect)((function(){n()}),[]);var c=[{title:"Title",dataIndex:"title",key:"name",width:"70%"},{key:"action",render:function(e,t){return Object(g.jsxs)("div",{className:"flex flex-row float-right",children:[Object(g.jsx)(z,{note:t}),Object(g.jsx)(y.a,{title:"Are you sure you want to delete?",onConfirm:function(){return a(t._id)},children:Object(g.jsx)(w.a,{size:"xs",style:{marginRight:10},children:Object(g.jsx)(k.a,{twoToneColor:"#FF0000"})})})]})}}];return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex flex-row ",children:[Object(g.jsx)("h3",{children:"Notes"}),Object(g.jsx)(E,{})]}),Object(g.jsx)(N.a,{dataSource:t,columns:c,showHeader:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})]})},L=n(367),M=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useContext)(T.a).addTodo;return Object(g.jsxs)("div",{className:"mx-1 p-1",children:[Object(g.jsx)("label",{forHTML:"text",class:"block text-sm font-medium text-gray-700 ml-1",children:"Create Task"}),Object(g.jsxs)("div",{className:"flex flex-row items-center mt-1",children:[Object(g.jsx)(S.a,{type:"text",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md mt-1",placeholder:"Enter Task... ",value:n,onChange:function(e){a(e.target.value)}}),Object(g.jsx)(w.a,{onClick:function(){c(n)},ghost:!0,className:"mx-1",children:Object(g.jsx)(L.a,{})})]})]})},B=n(63),P=n(368),H=n(369),R=function(){var e=Object(s.useContext)(T.a),t=e.todos,n=e.getTodos,a=e.deleteTodo,c=e.allDone,r=e.markDone,i=e.markUndone;return Object(s.useEffect)((function(){n()}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)(w.a,{className:"ml-2 mt-1",onClick:c,children:"Mark All Done"}),Object(g.jsx)(_.a,{orientation:"left",className:"w-full"}),t?t.map((function(e){return Object(g.jsx)("div",{className:"flex flex-col mx-auto ml-10 px-1",children:Object(g.jsx)("ul",{children:Object(g.jsxs)("li",{style:{marginLeft:-35},children:[Object(g.jsx)("span",{className:e.done?"done":"",children:e.text}),Object(g.jsx)(B.a,{placement:"right",title:"Delete",children:Object(g.jsx)(w.a,{ghost:!0,onClick:function(){return a(e._id)},style:{float:"right"},children:Object(g.jsx)(k.a,{twoToneColor:"#FF0000"})})}),e.done?Object(g.jsx)(B.a,{placement:"left",title:"Unmark as done",children:Object(g.jsx)(w.a,{ghost:!0,onClick:function(){return i(e._id)},style:{float:"right",marginRight:5},children:Object(g.jsx)(P.a,{})})}):Object(g.jsx)(B.a,{placement:"left",title:"Mark as done",children:Object(g.jsx)(w.a,{ghost:!0,onClick:function(){return r(e._id)},style:{float:"right",marginRight:5},children:Object(g.jsx)(H.a,{twoToneColor:"#52c41a"})})})]},e._id)},e._id)},e._id)})):Object(g.jsx)("p",{})]})},U=n(364),V=n(135),G=n.n(V),F=n(90),J=n.n(F),K=n(216),W=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1];function c(){return(c=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/file/listFiles",{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.files)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return(r=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/file/del",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:t._id,path:t.path})}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.files)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){var t=new FormData;t.append("filepath",e.path),J.a.post("/api/v1/auth/file/download",t,{responseType:"blob"}).then((function(t){G()(t.data,e.filename)}))}return Object(s.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[]),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"flow-root p-5 mx-auto -mt-5 ml-1",children:n?n.map((function(e){return Object(g.jsx)("div",{className:"w-full",children:Object(g.jsx)("ul",{children:Object(g.jsx)("li",{children:Object(g.jsxs)(U.b,{children:[Object(g.jsx)(K.a,{}),Object(g.jsx)("span",{children:e.filename}),Object(g.jsx)(w.a,{ghost:!0,style:{float:"right"},onClick:function(t){t.stopPropagation(),function(e){r.apply(this,arguments)}(e)},children:Object(g.jsx)(P.a,{twoToneColor:"#FF0000\t"})}),Object(g.jsx)(w.a,{ghost:!0,onClick:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),i(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(g.jsx)(O.a,{style:{color:"black"}})})]})})})},e._id)})):Object(g.jsx)("p",{children:"No files found"})})})},Y=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("user"))||""),t=Object(b.a)(e,2),n=t[0],a=(t[1],Object(s.useState)()),c=Object(b.a)(a,2),r=c[0],i=c[1],d=Object(s.useState)(),j=Object(b.a)(d,2),x=j[0],h=j[1],y=Object(s.useState)(),w=Object(b.a)(y,2),N=w[0],k=w[1],T=Object(s.useState)([]),C=Object(b.a)(T,2),S=C[0];C[1];function E(){return(E=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/openTickets",{method:"get",headers:{ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){i(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/completedTickets",{method:"get",headers:{ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){h(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/unallocatedTickets",{method:"get",headers:{ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){k(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){E.apply(this,arguments)}(),function(){_.apply(this,arguments)}(),function(){A.apply(this,arguments)}()}),[]);var D={name:"file",action:"/api/v1/auth/uploadFile/upload",data:function(){var e=new FormData;e.append("file",S),e.append("filename",S.name)},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?m.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&m.b.error("".concat(e.file.name," file upload failed."))},progress:{strokeColor:{"0%":"#108ee9","100%":"#87d068"},strokeWidth:3,format:function(e){return"".concat(parseFloat(e.toFixed(2)),"%")}}};return Object(g.jsx)("div",{children:Object(g.jsx)("main",{className:"-mt-16 pb-8",children:Object(g.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:[Object(g.jsx)("h1",{className:"sr-only",children:"Profile"}),Object(g.jsxs)("div",{className:"grid grid-cols-1 gap-4 items-start lg:grid-cols-3 lg:gap-8",children:[Object(g.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:col-span-2",children:[Object(g.jsx)("section",{"aria-labelledby":"profile-overview-title",children:Object(g.jsxs)("div",{className:"rounded-lg bg-white overflow-hidden shadow",children:[Object(g.jsx)("h2",{className:"sr-only",id:"profile-overview-title",children:"Profile Overview"}),Object(g.jsx)("div",{className:"bg-white p-6",children:Object(g.jsx)("div",{className:"sm:flex sm:items-center sm:justify-between",children:Object(g.jsxs)("div",{className:"sm:flex sm:space-x-5",children:[Object(g.jsx)("div",{className:"flex-shrink-0",children:Object(g.jsx)("span",{className:"inline-flex items-center justify-center h-14 w-14 rounded-full bg-gray-500",children:Object(g.jsx)("span",{className:"text-xl font-medium leading-none text-white",children:n?n.name[0]:""})})}),Object(g.jsxs)("div",{className:"mt-4 text-center sm:mt-0 sm:pt-1 sm:text-left",children:[Object(g.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Welcome back,"}),Object(g.jsx)("p",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:n.name||""})]})]})})}),Object(g.jsxs)("div",{className:"border-t border-gray-200 bg-gray-50 grid grid-cols-1 divide-y divide-gray-200 sm:grid-cols-3 sm:divide-y-0 sm:divide-x",children:[Object(g.jsx)(u.b,{to:"/tickets",children:Object(g.jsxs)("div",{className:"px-6 py-5 text-sm font-medium text-center",children:[Object(g.jsxs)("span",{className:"text-gray-900",children:[r," "]}),Object(g.jsx)("span",{className:"text-gray-600",children:"Tickets Open"})]})}),Object(g.jsx)(u.b,{to:"/tickets",children:Object(g.jsxs)("div",{className:"px-6 py-5 text-sm font-medium text-center",children:[Object(g.jsxs)("span",{className:"text-gray-900",children:[x," "]}),Object(g.jsx)("span",{className:"text-gray-600",children:"Tickets Unissued"})]})}),Object(g.jsx)(u.b,{to:"/history",children:Object(g.jsxs)("div",{className:"px-6 py-5 text-sm font-medium text-center",children:[Object(g.jsxs)("span",{className:"text-gray-900",children:[N," "]}),Object(g.jsx)("span",{className:"text-gray-600",children:"Tickets Completed"})]})})]})]})}),Object(g.jsx)("section",{"aria-labelledby":"quick-links-title",children:Object(g.jsxs)("div",{className:"rounded-lg  overflow-hidden s sm:divide-y-0 sm:gap-px",children:[Object(g.jsx)("h2",{className:"sr-only",id:"quick-links-title",children:"Notes and Tasks"}),Object(g.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:Object(g.jsx)("ul",{className:"divide-y divide-gray-200",children:Object(g.jsxs)("li",{className:"px-4 py-4 sm:px-6",children:[Object(g.jsx)(M,{}),Object(g.jsx)(R,{})]})})}),Object(g.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md mt-5",children:Object(g.jsx)("ul",{className:"divide-y divide-gray-200",children:Object(g.jsx)("li",{className:"px-4 py-4 sm:px-6",children:Object(g.jsx)(I,{})})})})]})})]}),Object(g.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[Object(g.jsx)("section",{"aria-labelledby":"announcements-title",children:Object(g.jsx)("div",{className:"rounded-lg bg-white overflow-hidden shadow",children:Object(g.jsxs)("div",{className:"p-6",children:[Object(g.jsx)("h2",{className:"text-base font-medium text-gray-900",id:"announcements-title",children:"Announcements"}),Object(g.jsx)(v,{})]})})}),Object(g.jsx)("section",{"aria-labelledby":"recent-hires-title",children:Object(g.jsxs)("div",{className:"rounded-lg bg-white overflow-hidden shadow",children:[Object(g.jsxs)("div",{className:"p-6 flex flex-col",children:[Object(g.jsx)("h2",{className:"text-base font-medium text-gray-900",id:"recent-hires-title",children:"Personal Files"}),Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({},D),{},{className:"mb-3",children:Object(g.jsx)("button",{children:Object(g.jsx)(O.a,{})})}))]}),Object(g.jsx)(W,{})]})})]})]})]})})})},q=n(360),Q=n(108),X=n(140),Z=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(""),r=Object(b.a)(c,2),i=r[0],u=r[1],j=Object(s.useState)(""),x=Object(b.a)(j,2),h=x[0],p=x[1],m=Object(s.useState)(""),f=Object(b.a)(m,2),O=f[0],v=f[1],y=Object(s.useState)(""),w=Object(b.a)(y,2),N=w[0],k=w[1],C=Object(s.useState)("Normal"),E=Object(b.a)(C,2),_=E[0],A=E[1],D=Object(s.useState)([]),z=Object(b.a)(D,2),I=z[0],L=z[1],M=q.a.useForm(),B=Object(b.a)(M,1)[0],P=Object(s.useContext)(T.a).createTicket,H=Q.a.Option,R=S.a.TextArea,V={CLOSE:function(){return a(!1)}},G=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/client/allclients",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&L(e.client)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){G()}),[]);var F=I?I.map((function(e){return Object(g.jsx)(H,{children:e.name},e._id)})):Object(g.jsx)(H,{children:Object(g.jsx)("p",{children:"Please refresh"})},"no_id");return Object(g.jsx)("div",{children:Object(g.jsxs)(d.HotKeys,{handlers:V,children:[Object(g.jsx)("div",{children:Object(g.jsxs)("button",{onClick:function(){return a(!0)},type:"button",class:"flex-shrink-0 p-1 text-cyan-200 rounded-full hover:text-white hover:bg-white hover:bg-opacity-10 focus:outline-none focus:ring-2 focus:ring-white",children:[Object(g.jsx)("span",{class:"sr-only",children:"View notifications"}),Object(g.jsx)("span",{className:"text-white",children:"Create Ticket"})]})}),Object(g.jsx)("div",{class:"".concat(n?'fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title':"hidden"),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:Object(g.jsxs)("div",{class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(g.jsx)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),Object(g.jsx)("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(g.jsxs)("div",{class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"New Ticket"}),Object(g.jsx)(q.a,{children:Object(g.jsxs)(q.a,{size:"middle",form:B,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(g.jsx)(q.a.Item,{name:"name",children:Object(g.jsx)(S.a,{placeholder:"Enter name here...",name:"name",onChange:function(e){return u(e.target.value)}})}),Object(g.jsx)(q.a.Item,{name:"email",children:Object(g.jsx)(S.a,{placeholder:"Enter email here....",onChange:function(e){return v(e.target.value)}})}),Object(g.jsx)(q.a.Item,{name:"Client",children:Object(g.jsx)(Q.a,{showSearch:!0,placeholder:"Select a client",optionFilterProp:"children",onChange:p,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:F})}),Object(g.jsx)(q.a.Item,{name:"issue",label:"Issue",children:Object(g.jsx)(R,{rows:5,onChange:function(e){return k(e.target.value)}})}),Object(g.jsx)(q.a.Item,{name:"modifier",label:"Priority",className:"flex justify-items-center items-center",children:Object(g.jsx)(X.a.Group,{buttonStyle:"solid",value:_,onChange:function(e){return A(e.target.value)},className:"mx-auto",children:Object(g.jsxs)(U.b,{children:[Object(g.jsx)(X.a.Button,{value:"Low",children:"Low"}),Object(g.jsx)(X.a.Button,{value:"Normal",children:"Normal"}),Object(g.jsx)(X.a.Button,{value:"High",className:"bg-red",children:"High"})]})})})]})})]}),Object(g.jsxs)("div",{class:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[Object(g.jsx)("button",{onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(i,O,h,N,_);case 2:a(!1);case 3:case"end":return e.stop()}}),e)}))),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",children:"Create"}),Object(g.jsx)("button",{onClick:function(){a(!1)},type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",children:"Cancel"})]})]})]})})]})})},$=n.p+"static/media/pmint.69c2402d.svg",ee=function(){var e=Object(j.f)(),t=Object(s.useState)(!1),n=Object(b.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(!1),i=Object(b.a)(r,2),o=i[0],l=i[1],d=Object(s.useState)(JSON.parse(localStorage.getItem("user"))||""),x=Object(b.a)(d,2),h=x[0];x[1];return Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"",children:Object(g.jsxs)("header",{className:"pb-16 bg-gradient-to-r from-green-800 to-green-400",children:[Object(g.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:Object(g.jsxs)("div",{className:"relative flex flex-wrap items-center justify-center lg:justify-between",children:[Object(g.jsx)("div",{className:"absolute left-0 py-5 flex-shrink-0 lg:static",children:Object(g.jsxs)(u.b,{to:"https://pmint.dev/",children:[Object(g.jsx)("span",{className:"sr-only",children:"Logo should be here?"}),Object(g.jsx)("img",{className:"h-8",src:$,alt:"Logo logo"})]})}),Object(g.jsxs)("div",{className:"hidden lg:ml-4 lg:flex lg:items-center lg:py-5 lg:pr-0.5",children:[Object(g.jsx)(Z,{}),Object(g.jsxs)("div",{className:"ml-4 relative flex-shrink-0",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("button",{type:"button",className:"bg-white rounded-full flex text-sm ring-2 ring-white ring-opacity-20 focus:outline-none focus:ring-opacity-100",id:"user-menu",onClick:function(){return c(!a)},"aria-expanded":"false","aria-haspopup":"true",children:[Object(g.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(g.jsx)("span",{class:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-500",children:Object(g.jsx)("span",{class:"text-xs font-medium leading-none text-white",children:h?h.name[0]:""})})]})}),Object(g.jsxs)("div",{className:"".concat(a?"origin-top-right z-40 absolute -right-2 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none":"hidden"),role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu",children:[Object(g.jsx)(u.b,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full",role:"menuitem",children:"Settings"}),Object(g.jsx)(u.b,{onClick:function(){return localStorage.clear(),void e.push("/login")},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full float-left\t",role:"menuitem",children:"Sign out"})]})]})]}),Object(g.jsx)("div",{className:"w-full py-5 lg:border-t lg:border-white lg:border-opacity-20 px-12 lg:px-0 mt-3",children:Object(g.jsx)("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8 lg:items-center",children:Object(g.jsx)("div",{className:"hidden lg:block lg:col-span-2",children:Object(g.jsxs)("nav",{className:"flex space-x-4",children:[Object(g.jsx)(u.b,{to:"/",className:"text-white text-sm font-medium rounded-md bg-white bg-opacity-0 px-3 py-2 hover:bg-opacity-10","aria-current":"page",children:"Dashboard"}),Object(g.jsx)(u.b,{to:"/tickets",className:"text-cyan-100 text-sm font-medium rounded-md bg-white bg-opacity-0 px-3 py-2 hover:bg-opacity-10","aria-current":"false",children:"Tickets"}),Object(g.jsx)(u.b,{to:"/history",className:"text-cyan-100 text-sm font-medium rounded-md bg-white bg-opacity-0 px-3 py-2 hover:bg-opacity-10","aria-current":"false",children:"History"}),Object(g.jsx)(u.b,{to:"/admin/dashboard",className:"text-cyan-100 text-sm font-medium rounded-md bg-white bg-opacity-0 px-3 py-2 hover:bg-opacity-10","aria-current":"false",children:"Admin"})]})})})}),Object(g.jsx)("div",{className:"absolute right-0 flex-shrink-0 lg:hidden",children:Object(g.jsxs)("button",{type:"button",onClick:function(){return l(!o)},className:'"bg-transparent p-2 rounded-md inline-flex items-center justify-center text-cyan-200 hover:text-white hover:bg-white hover:bg-opacity-10 focus:outline-none focus:ring-2 focus:ring-white" ',"aria-expanded":"false",children:[Object(g.jsx)("span",{className:"sr-only",children:"Open main menu"}),Object(g.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(g.jsx)("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})]})})]})}),Object(g.jsx)("div",{className:"lg:hidden",children:Object(g.jsx)("div",{className:"".concat(o?"z-30 absolute top-0 inset-x-0 max-w-3xl mx-auto w-full p-2 transition transform origin-to":"hidden"),children:Object(g.jsxs)("div",{className:"".concat(o?"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y divide-gray-200":"hidden"),children:[Object(g.jsxs)("div",{className:"pt-3 pb-2",children:[Object(g.jsxs)("div",{className:"flex items-center justify-between px-4",children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-cyan-600.svg",alt:"Workflow"})}),Object(g.jsx)("div",{className:"-mr-2",children:Object(g.jsxs)("button",{onClick:function(){return l(!o)},type:"button",className:"bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-cyan-500",children:[Object(g.jsx)("span",{className:"sr-only",children:"Close menu"}),Object(g.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})]})})]}),Object(g.jsxs)("div",{className:"mt-3 px-2 space-y-1",children:[Object(g.jsx)(Z,{}),Object(g.jsx)(u.b,{to:"/",className:"block rounded-md px-3 py-2 text-base text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800",children:"Dashboard"}),Object(g.jsx)(u.b,{to:"/tickets",className:"block rounded-md px-3 py-2 text-base text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800",children:"Tickets"}),Object(g.jsx)(u.b,{to:"/history",className:"block rounded-md px-3 py-2 text-base text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800",children:"History"}),Object(g.jsx)(u.b,{to:"/admin/dashboard",className:"block rounded-md px-3 py-2 text-base text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800",children:"Admin"})]})]}),Object(g.jsxs)("div",{className:"pt-4 pb-2",children:[Object(g.jsxs)("div",{className:"flex items-center px-5",children:[Object(g.jsxs)("div",{className:"flex-shrink-0",children:[Object(g.jsx)("span",{className:"sr-only",children:"Open user menu"}),Object(g.jsx)("span",{class:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-500",children:Object(g.jsx)("span",{class:"text-xs font-medium leading-none text-white",children:h?h.name[0]:""})})]}),Object(g.jsxs)("div",{className:"ml-3 min-w-0 flex-1",children:[Object(g.jsx)("div",{className:"text-base font-medium text-gray-800 truncate",children:h.name}),Object(g.jsx)("div",{className:"text-sm font-medium text-gray-500 truncate",children:h.email})]})]}),Object(g.jsxs)("div",{className:"mt-3 px-2 space-y-1",children:[Object(g.jsx)(u.b,{to:"/settings",className:"block rounded-md px-3 py-2 text-base text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800",children:"Settings"}),Object(g.jsx)(u.b,{className:"block rounded-md px-3 py-2 text-base text-gray-900 font-medium hover:bg-gray-100 hover:text-gray-800",children:"Sign out"})]})]})]})})})]})})})},te=function(){var e=Object(j.f)();return Object(s.useEffect)((function(){if(null!==localStorage.getItem("user"))return!0;e.push("/login")})),Object(s.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){if(console.log(t),!1!==t.auth)return console.log("logged in");e.push("/login")}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(g.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[Object(g.jsx)(ee,{}),Object(g.jsx)(Y,{})]})},ne=n(198),se=n(371),ae=n(372),ce=n(215),re=n.p+"static/media/logo.e7b12301.png",ie=function(){var e=Object(j.f)(),t=Object(s.useState)(""),n=Object(b.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(""),i=Object(b.a)(r,2),d=i[0],u=i[1],x=Object(s.useState)(!1),h=Object(b.a)(x,2),p=h[0],m=h[1],f=Object(s.useState)(!1),O=Object(b.a)(f,2),v=O[0],y=O[1];function N(){return(N=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/v1/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:a})}).then((function(e){return e.json()})).then(function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.error||!0!==n.auth?m(!1):(localStorage.setItem("user",JSON.stringify(n.user)),y(!0),setTimeout((function(){e.push("/")}),1e3));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return Object(g.jsx)("div",{children:Object(g.jsx)("div",{class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:Object(g.jsxs)(ne.a,{spinning:v,children:[Object(g.jsxs)("div",{class:"sm:mx-auto sm:w-full sm:max-w-md",children:[Object(g.jsx)("img",{class:"mx-auto h-24 w-auto",src:re,alt:"logo hasnt loaded properly"}),Object(g.jsx)("h2",{class:"mt-2 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(g.jsx)("div",{class:"mt-4 sm:mx-auto sm:w-full sm:max-w-md",children:Object(g.jsx)("div",{class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:Object(g.jsxs)("div",{class:"space-y-6",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{for:"email",class:"block text-sm font-medium text-gray-700",children:"Email address"}),Object(g.jsx)("div",{class:"mt-1",children:Object(g.jsx)(S.a,{onChange:function(e){return u(e.target.value)},placeholder:"Email",id:"email",name:"email",type:"email",autocomplete:"email",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{for:"password",class:"block text-sm font-medium text-gray-700",children:"Password"}),Object(g.jsx)("div",{class:"mt-1",children:Object(g.jsx)(S.a.Password,{prefix:Object(g.jsx)(se.a,{}),type:"password",placeholder:"Password",iconRender:function(e){return e?Object(g.jsx)(ae.a,{}):Object(g.jsx)(ce.a,{})},onChange:function(e){return c(e.target.value)},autocomplete:"current-password",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),Object(g.jsx)("div",{children:Object(g.jsx)(w.a,{htmlType:"submit",loading:p,onClick:function(){m(!0),function(){N.apply(this,arguments)}()},className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})})})]})})})},oe=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(s.useState)(),n=Object(b.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(),i=Object(b.a)(r,2),d=i[0],u=i[1],j=function(){m.b.success("Information updated!")},x=function(){m.b.error("Information failed to update")};function h(){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a||e.name,email:d||e.email})}).then((function(e){return e.json()})).then((function(e){!1===e.fail?(localStorage.clear(),localStorage.setItem("user",JSON.stringify(e.user)),j()):x()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{class:"py-6 px-4 sm:p-6 lg:pb-8",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{class:"text-lg leading-6 font-medium text-gray-900",children:"Profile"}),Object(g.jsx)("p",{class:"mt-1 text-sm text-gray-500",children:"This information will be displayed publicly so be careful what you share."})]}),Object(g.jsx)("div",{class:"mt-6 flex flex-col lg:flex-row",children:Object(g.jsxs)("div",{class:"flex-grow space-y-6",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{for:"username",class:"block text-sm font-medium text-gray-700",children:"Username"}),Object(g.jsx)("div",{class:"mt-1 rounded-md shadow-sm flex",children:Object(g.jsx)("input",{type:"text",name:"username",id:"username",autocomplete:"username",class:"focus:ring-light-blue-500 focus:border-light-blue-500 flex-grow block w-full min-w-0 rounded-none rounded-r-md sm:text-sm border-gray-300",defaultValue:e.name,onChange:function(e){return c(e.target.value)}})})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{for:"username",class:"block text-sm font-medium text-gray-700",children:"Email"}),Object(g.jsx)("div",{class:"mt-1 rounded-md shadow-sm flex",children:Object(g.jsx)("input",{type:"email",name:"email",autocomplete:"email",class:"focus:ring-light-blue-500 focus:border-light-blue-500 flex-grow block w-full min-w-0 rounded-none rounded-r-md sm:text-sm border-gray-300",defaultValue:e.email,onChange:function(e){return u(e.target.value)}})})]})]})})]}),Object(g.jsx)("div",{class:"mt-4 py-4 px-4 flex justify-end sm:px-6",children:Object(g.jsx)("button",{onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)}))),type:"submit",class:"ml-5 bg-light-blue-700 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-white hover:bg-light-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-light-blue-500",children:"Save"})})]})},le=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),s=t._id,e.next=4,fetch("/api/v1/auth/resetPassword/user/".concat(s),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})}).then((function(e){return e.json()})).then((function(e){var t;!1===e.failed?m.b.success("Password updated"):(t=e.message,m.b.error("".concat(t)))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"m-5 p-1",children:[Object(g.jsx)("h3",{children:"Password Reset"}),Object(g.jsx)(S.a,{style:{width:"50%"},placeholder:"Enter new Password ... ",onChange:function(e){a(e.target.value)}}),Object(g.jsx)(w.a,{onClick:c,style:{marginLeft:10,margin:5},children:Object(g.jsx)(L.a,{})})]})},de=function(){JSON.parse(localStorage.getItem("user"));var e=Object(s.useState)(!0),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(b.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(),d=Object(b.a)(l,2),j=(d[0],d[1],Object(s.useState)()),x=Object(b.a)(j,2);x[0],x[1];return Object(g.jsx)("div",{children:Object(g.jsx)("main",{className:"relative -mt-20",children:Object(g.jsx)("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-8",children:Object(g.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:Object(g.jsxs)("div",{className:"divide-y divide-gray-200 lg:grid lg:grid-cols-12 lg:divide-y-0 lg:divide-x",children:[Object(g.jsx)("aside",{className:"py-6 lg:col-span-3",children:Object(g.jsxs)("nav",{children:[Object(g.jsxs)(u.b,{onClick:function(){a(!0),o(!1)},className:"bg-teal-50 border-teal-500 text-teal-700 hover:bg-teal-50 hover:text-teal-700 group border-l-4 px-3 py-2 flex items-center text-sm font-medium","aria-current":"page",children:[Object(g.jsx)("svg",{className:"text-teal-500 group-hover:text-teal-500 flex-shrink-0 -ml-1 mr-3 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Object(g.jsx)("span",{className:"truncate",children:"Profile"})]}),Object(g.jsxs)(u.b,{onClick:function(){a(!1),o(!0)},className:"border-transparent text-gray-900 hover:bg-gray-50 hover:text-gray-900 group mt-1 border-l-4 px-3 py-2 flex items-center text-sm font-medium",children:[Object(g.jsx)("svg",{className:"text-gray-400 group-hover:text-gray-500 flex-shrink-0 -ml-1 mr-3 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),Object(g.jsx)("span",{className:"truncate",children:"Password"})]})]})}),Object(g.jsxs)("div",{className:"divide-y divide-gray-200 lg:col-span-9",children:[Object(g.jsx)("div",{className:"".concat(n?"":"hidden"),children:Object(g.jsx)(oe,{})}),Object(g.jsx)("div",{className:"".concat(i?"":"hidden"),children:Object(g.jsx)(le,{})})]})]})})})})})},ue=function(e){e.match;var t=Object(s.useContext)(T.a),n=t.openTicket,a=t.getOpenTicket;Object(s.useEffect)((function(){a()}),[]);return Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsx)("div",{class:" overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(g.jsx)("div",{class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(g.jsx)("div",{class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{class:"min-w-full divide-y divide-gray-200",children:[Object(g.jsx)("thead",{class:"bg-gray-50",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue"}),Object(g.jsx)("th",{scope:"col",class:"relative px-6 py-3",children:Object(g.jsx)("span",{class:"sr-only",children:"Edit"})})]})}),Object(g.jsx)("tbody",{children:n.map((function(e){var t,n=e.priority;return"Low"===n&&(t="bg-blue-100 text-blue-800"),"normal"===n&&(t="bg-green-100 text-green-800"),"High"===n&&(t="bg-red-100 text-red-800"),Object(g.jsxs)("tr",{class:"bg-white",children:[Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.client.name}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(g.jsx)("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t),children:e.priority})}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.issue}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(g.jsx)(u.b,{to:{pathname:"tickets/".concat(e._id),state:e},className:"text-indigo-600 hover:text-indigo-900",children:"view"})})]})}))})]})})})})})},je=function(){var e=Object(s.useContext)(T.a),t=e.unissuedTicket,n=e.getUnissuedTicket,a=e.convertTicket;Object(s.useEffect)((function(){n()}),[]);return Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsx)("div",{class:" overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(g.jsx)("div",{class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(g.jsx)("div",{class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{class:"min-w-full divide-y divide-gray-200",children:[Object(g.jsx)("thead",{class:"bg-gray-50",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue"}),Object(g.jsx)("th",{scope:"col",class:"relative px-6 py-3",children:Object(g.jsx)("span",{class:"sr-only",children:"Edit"})})]})}),Object(g.jsx)("tbody",{children:t.map((function(e){var t,n=e.priority;return"Low"===n&&(t="bg-blue-100 text-blue-800"),"normal"===n&&(t="bg-green-100 text-green-800"),"High"===n&&(t="bg-red-100 text-red-800"),Object(g.jsxs)("tr",{class:"bg-white",children:[Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.client.name}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(g.jsx)("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t),children:e.priority})}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.issue}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(g.jsx)(u.b,{onClick:function(){return a(e)},class:"text-indigo-600 hover:text-indigo-900",children:"Convert"})})]})}))})]})})})})})},xe=function(){var e=Object(s.useState)(!0),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(b.a)(c,2),i=r[0],o=r[1];return Object(g.jsxs)("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10 -mt-20",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("nav",{class:"-mb-px flex space-x-8","aria-label":"Tabs",children:[Object(g.jsx)(u.b,{onClick:function(){a(!0),o(!1)},class:"text-white border-transparent hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",children:"Open Tickets"}),Object(g.jsx)(u.b,{onClick:function(){a(!1),o(!0)},class:"text-white border-transparent hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",children:"Unissued Tickets"})]})}),Object(g.jsx)("div",{className:"".concat(n?"":"hidden"),children:Object(g.jsx)(ue,{})}),Object(g.jsx)("div",{className:"".concat(i?"":"hidden"),children:Object(g.jsx)(je,{})})]})},he=n(163),pe=n.n(he),be=function(e){var t=Object(s.useState)([]),n=Object(b.a)(t,2),a=n[0],c=n[1];function r(){return(r=Object(l.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ticket._id,t.next=3,fetch("/api/v1/tickets/file/listFiles/".concat(n),{method:"get",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.files)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function i(){return(i=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/tickets/file/del",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:n._id,ticket:e.ticket._id,path:n.path})}).then((function(e){return e.json()})).then((function(e){console.log(e),c(e.files)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(e){var t=new FormData;t.append("filepath",e.path),J.a.post("/api/v1/tickets/file/download",t,{responseType:"blob"}).then((function(t){G()(t.data,e.filename)}))}return Object(s.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(g.jsx)("div",{children:a.map((function(e){return Object(g.jsx)("div",{className:"todo-list",children:Object(g.jsx)("ul",{children:Object(g.jsx)("li",{children:Object(g.jsxs)(U.b,{children:[Object(g.jsx)(K.a,{}),Object(g.jsx)("span",{children:e.filename}),Object(g.jsx)(w.a,{ghost:!0,style:{float:"right"},onClick:function(t){t.stopPropagation(),function(e){i.apply(this,arguments)}(e)},children:Object(g.jsx)(P.a,{twoToneColor:"#FF0000\t"})}),Object(g.jsx)(w.a,{ghost:!0,onClick:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),d(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(g.jsx)(O.a,{style:{color:"black"}})})]})})})},e._id)}))})},me=n(361),fe=function(e){var t=Q.a.Option,n=Object(s.useState)([]),a=Object(b.a)(n,2),c=a[0],r=a[1],i=Object(s.useState)(""),d=Object(b.a)(i,2),u=d[0],j=d[1],x=Object(s.useState)(!1),h=Object(b.a)(x,2),p=h[0],m=h[1],f=e.ticket._id,O=Object(s.useContext)(T.a).transferTicket,v=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&r(e.users)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!1),e.next=3,O(u,f);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){v()}),[]);var w=c.map((function(e){return Object(g.jsx)(t,{children:e.name},e._id)}));return Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",onClick:function(){m(!0)},children:"Transfer"}),Object(g.jsx)(me.a,{visible:p,onCancel:function(){m(!1)},onOk:y,width:300,children:Object(g.jsx)(Q.a,{style:{width:200},showSearch:!0,placeholder:"Select a user",optionFilterProp:"children",onChange:j,filterOption:function(e,t){return t.toLowerCase().indexOf(e.toLowerCase())>=0},children:w})})]})},Oe=Object(j.g)((function(e){var t=Object(s.useContext)(T.a).completeTicket,n=Object(s.useState)(e.location.state||null),a=Object(b.a)(n,2),c=a[0],r=a[1],i=Object(s.useState)(!1),d=Object(b.a)(i,2),u=d[0],j=d[1],x=Object(s.useState)(c.note),h=Object(b.a)(x,2),O=h[0],v=h[1],y=Object(s.useState)(c.issue),w=Object(b.a)(y,2),N=w[0],k=w[1],C=Object(s.useState)(c.name),E=Object(b.a)(C,2),A=E[0],D=(E[1],Object(s.useState)(c.email)),z=Object(b.a)(D,2),I=z[0],L=(z[1],Object(s.useState)(c.number)),M=Object(b.a)(L,2),B=M[0],P=(M[1],Object(s.useState)([])),H=Object(b.a)(P,2),R=H[0],U=(H[1],Object(s.useState)("")),V=Object(b.a)(U,2),G=V[0],F=V[1],J=Object(s.useContext)(T.a),K=e.match.params.id;Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/tickets/getTicketById/".concat(K),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.ticket),e.next=3,r(t.ticket);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){"Low"===c.priority&&F(X),"normal"===c.priority&&F(Z),"High"===c.priority&&F(Q)}),[]);var W=S.a.TextArea,Y=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c._id,issue:N,note:O,name:A,email:I,number:B})}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q={name:"file",action:"/api/v1/tickets/uploadFile/".concat(K),data:function(){var e=new FormData;e.append("file",R),e.append("filename",R.name),e.append("ticket",c._id)},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?m.b.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&m.b.error("".concat(e.file.name," file upload failed."))},progress:{strokeColor:{"0%":"#108ee9","100%":"#87d068"},strokeWidth:3,format:function(e){return"".concat(parseFloat(e.toFixed(2)),"%")}}},Q="bg-red-100 text-red-800",X="bg-blue-100 text-blue-800",Z="bg-green-100 text-green-800";return Object(g.jsx)("div",{className:"relative",children:Object(g.jsx)("div",{className:"py-8 xl:py-10",children:Object(g.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 xl:max-w-5xl xl:grid xl:grid-cols-3 ",children:[Object(g.jsxs)("div",{className:"xl:col-span-2 xl:pr-8 xl:border-r xl:border-gray-200",children:[Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"md:flex md:items-center md:justify-between md:space-x-4 xl:border-b xl:pb-6",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Title goes here"}),Object(g.jsxs)("p",{className:"mt-2 text-sm font-bold",children:["opened by ",c.name," from ",c.client.name]})]})}),Object(g.jsxs)("div",{className:"flex flex-row p-1 m-1 space-x-4",children:[Object(g.jsx)("div",{className:"mt-4 flex space-x-3 md:mt-0",children:Object(g.jsx)(f.a,Object(p.a)(Object(p.a)({},q),{},{children:Object(g.jsxs)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",children:[Object(g.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Object(g.jsx)("span",{children:"Upload"})]})}))}),Object(g.jsx)("div",{className:u?"hidden":"mt-4 flex space-x-3 md:mt-0",children:Object(g.jsxs)("button",{onClick:function(){return j(!0)},type:"button",className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",children:[Object(g.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),Object(g.jsx)("span",{children:"Edit"})]})}),Object(g.jsx)("div",{className:u?"mt-4 flex space-x-3 md:mt-0":"hidden",children:Object(g.jsxs)("button",{onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!1),e.next=3,Y();case 3:case"end":return e.stop()}}),e)}))),type:"button",className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",children:[Object(g.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})}),Object(g.jsx)("span",{children:"Save"})]})}),Object(g.jsx)("div",{className:"mt-4 flex space-x-3 md:mt-0",children:Object(g.jsxs)("button",{onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c._id);case 2:J.push("/tickets");case 3:case"end":return e.stop()}}),e)}))),type:"button",className:"inline-flex justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900",disabled:(c.status,!0),children:[Object(g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"-ml-1 mr-2 h-5 w-5 text-gray-400",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})}),Object(g.jsx)("span",{children:"Complete"})]})}),Object(g.jsx)("div",{className:"mt-4 flex space-x-3 md:mt-0",children:Object(g.jsx)(fe,{ticket:c})})]}),Object(g.jsxs)("div",{className:"py-3 xl:pt-6 xl:pb-0 ",children:[Object(g.jsx)("h1",{className:"text-xl",children:"Description"}),Object(g.jsx)("div",{className:u?"hidden":"prose max-w-none",children:c.issue}),Object(g.jsx)("div",{className:u?"prose max-w-none":"hidden",children:Object(g.jsx)(W,{rows:6,defaultValue:c.issue,onchange:function(e){return k(e.target.value)}})})]})]})}),Object(g.jsxs)("section",{"aria-labelledby":"activity-title",className:"mt-8 xl:mt-10",children:[Object(g.jsxs)("div",{className:"pb-4",children:[Object(g.jsx)("h2",{id:"activity-title",className:"text-lg font-medium text-gray-900",children:"Activity"}),Object(g.jsx)("div",{className:"flow-root -mt-4"})]}),Object(g.jsx)("div",{className:u?"hidden":"mt-3",children:c.note?c.note:Object(g.jsx)("p",{children:"No work has been entered yet"})}),Object(g.jsx)("div",{className:u?"mt-3":"hidden",children:Object(g.jsx)(W,{rows:6,defaultValue:c.notes,onchange:function(e){return v(e.target.value)}})})]})]}),Object(g.jsxs)("aside",{className:"hidden xl:block xl:pl-8",children:[Object(g.jsx)("h2",{className:"sr-only",children:"Details"}),Object(g.jsxs)("div",{className:"space-y-5",children:[Object(g.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(g.jsx)("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"})}),Object(g.jsx)("span",{className:"text-green-700 text-sm font-medium",children:c.status})]}),Object(g.jsx)("div",{className:"flex items-center space-x-2",children:Object(g.jsx)("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(G),children:c.priority})}),Object(g.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(g.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})}),Object(g.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:["Created on"," ",Object(g.jsx)("span",{children:pe()(c.createdAt).format("DD/MM/YYYY")})]})]}),Object(g.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(g.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})}),Object(g.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:["Last updated"," ",Object(g.jsx)("spa",{children:pe()(c.updatedAt).format("DD/MM/YYYY")})]})]})]}),Object(g.jsx)("div",{className:"mt-6 border-t border-gray-200 py-6 space-y-8",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Assignees"}),Object(g.jsx)("ul",{className:"mt-3 space-y-3",children:Object(g.jsx)("li",{className:"flex justify-start",children:Object(g.jsxs)("p",{href:"#",className:"flex items-center space-x-3",children:[Object(g.jsx)("div",{className:"text-sm font-medium text-gray-900",children:Object(g.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-500",children:Object(g.jsx)("span",{className:"font-medium leading-none text-white",children:c.assignedto.name[0]})})}),Object(g.jsx)("span",{children:c.assignedto.name})]})})}),Object(g.jsx)(_.a,{className:"bg-gray-200"})]})}),Object(g.jsx)("div",{className:"-mt-10",children:Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h1",{children:"Files attached to job"}),Object(g.jsx)(be,{ticket:c})]})}),Object(g.jsx)("div",{className:"mt-10",children:Object(g.jsxs)("div",{children:[Object(g.jsx)(_.a,{className:"bg-gray-200"}),Object(g.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Contact Details"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsxs)("span",{children:["Name - ",c.name]}),Object(g.jsxs)("span",{children:["Email - ",c.email," "]}),Object(g.jsxs)("span",{children:["Number - ",c.client.number," "]})]})]})})]}),Object(g.jsxs)("aside",{className:"mt-8 xl:hidden",children:[Object(g.jsx)("h2",{className:"sr-only",children:"Details"}),Object(g.jsxs)("div",{className:"space-y-5",children:[Object(g.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(g.jsx)("svg",{className:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"})}),Object(g.jsx)("span",{className:"text-green-700 text-sm font-medium",children:c.status})]}),Object(g.jsx)("div",{className:"flex items-center space-x-2",children:Object(g.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z","clip-rule":"evenodd"})})}),Object(g.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(g.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})}),Object(g.jsxs)("span",{className:"text-gray-900 text-sm font-medium",children:["Created on ",Object(g.jsx)("time",{datetime:"2020-12-02",children:"Dec 2, 2020"})]})]})]}),Object(g.jsx)("div",{className:"mt-6 border-t border-b border-gray-200 py-6 space-y-8",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Assignees"}),Object(g.jsx)("ul",{className:"mt-3 space-y-3",children:Object(g.jsx)("li",{className:"flex justify-start",children:Object(g.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(g.jsx)("div",{className:"flex-shrink-0",children:Object(g.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-500",children:Object(g.jsx)("span",{className:"font-medium leading-none text-white",children:c.assignedto.name[0]})})}),Object(g.jsx)("div",{className:"text-sm font-medium text-gray-900",children:Object(g.jsx)("span",{children:c.assignedto.name})})]})})})]})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("h1",{children:"Files attached to job"}),Object(g.jsx)(be,{ticket:c})]})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Contact Details"}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsxs)("span",{children:["Name - ",c.name]}),Object(g.jsxs)("span",{children:["Email - ",c.email," "]}),Object(g.jsxs)("span",{children:["Number - ",c.client.number," "]})]})]})})]})]})})})})),ge=a.a.lazy((function(){return Promise.all([n.e(3),n.e(7)]).then(n.bind(null,394))})),ve=a.a.lazy((function(){return Promise.all([n.e(6),n.e(8)]).then(n.bind(null,398))})),ye=a.a.lazy((function(){return n.e(5).then(n.bind(null,400))})),we=a.a.lazy((function(){return n.e(4).then(n.bind(null,399))})),Ne=function(){var e=Object(s.useState)(!0),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(s.useState)(!1),r=Object(b.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(!1),d=Object(b.a)(l,2),j=d[0],x=d[1],h=Object(s.useState)(!1),p=Object(b.a)(h,2),m=p[0],f=p[1],O=Object(s.useState)(!1),v=Object(b.a)(O,2),y=v[0],w=v[1];return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[Object(g.jsxs)("div",{className:y?"fixed inset-0 flex z-40 md:hidden":"hidden",role:"dialog","aria-modal":"true",children:[Object(g.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75","aria-hidden":"true"}),Object(g.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[Object(g.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:Object(g.jsxs)("button",{onClick:function(){return w(!1)},className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(g.jsx)("span",{className:"sr-only",children:"Close sidebar"}),Object(g.jsx)("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})]})}),Object(g.jsx)("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:Object(g.jsxs)("nav",{className:"mt-5 px-2 space-y-1",children:[Object(g.jsxs)(u.b,{onClick:function(){a(!0),o(!1),x(!1)},className:"bg-gray-100 text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md",children:[Object(g.jsx)("svg",{className:"text-gray-500 mr-4 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]}),Object(g.jsxs)(u.b,{onClick:function(){a(!1),o(!0),x(!1),f(!1)},className:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md",children:[Object(g.jsx)("svg",{className:"text-gray-400 group-hover:text-gray-500 mr-4 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Newsletters"]}),Object(g.jsxs)(u.b,{onClick:function(){x(!0),a(!1),o(!1),f(!1)},className:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md",children:[Object(g.jsx)("svg",{className:"text-gray-400 group-hover:text-gray-500 mr-4 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"Clients"]}),Object(g.jsxs)(u.b,{onClick:function(){x(!1),a(!1),o(!1),f(!0)},className:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-base font-medium rounded-md",children:[Object(g.jsx)("svg",{className:"text-gray-400 group-hover:text-gray-500 mr-4 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"Internal Users"]})]})})]})]}),Object(g.jsx)("div",{className:"hidden md:flex md:flex-shrink-0",children:Object(g.jsx)("div",{className:"flex flex-col w-64",children:Object(g.jsx)("div",{className:"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white",children:Object(g.jsx)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:Object(g.jsxs)("nav",{className:"mt-5 flex-1 px-2 bg-white space-y-1",children:[Object(g.jsxs)(u.b,{onClick:function(){a(!0),o(!1),x(!1),f(!1)},className:"bg-gray-100 text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md hover:text-gray-900 hover:bg-gray-100",children:[Object(g.jsx)("svg",{className:"text-gray-500 mr-3 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]}),Object(g.jsxs)(u.b,{onClick:function(){a(!1),o(!0),x(!1),f(!1)},className:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[Object(g.jsx)("svg",{className:"text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Newsletters"]}),Object(g.jsxs)(u.b,{onClick:function(){x(!0),a(!1),o(!1),f(!1)},className:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[Object(g.jsx)("svg",{className:"text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"Clients"]}),Object(g.jsxs)(u.b,{onClick:function(){f(!0),a(!1),o(!1),x(!1)},className:"text-gray-600 hover:bg-gray-50 hover:text-gray-900 group flex items-center px-2 py-2 text-sm font-medium rounded-md",children:[Object(g.jsx)("svg",{className:"text-gray-400 group-hover:text-gray-500 mr-3 h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Internal Users"]})]})})})})}),Object(g.jsxs)("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[Object(g.jsx)("div",{className:"md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3",children:Object(g.jsxs)("button",{onClick:function(){return w(!0)},className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(g.jsx)("span",{className:"sr-only",children:"Open sidebar"}),Object(g.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(g.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})})]})}),Object(g.jsxs)("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none",tabindex:"0",children:[Object(g.jsx)("div",{className:n?"":"hidden",children:Object(g.jsx)(s.Suspense,{fallback:Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{})}),children:Object(g.jsx)(ge,{})})}),Object(g.jsx)("div",{className:i?"":"hidden",children:Object(g.jsx)(s.Suspense,{fallback:Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{})}),children:Object(g.jsx)(ve,{})})}),Object(g.jsx)("div",{className:j?"":"hidden",children:Object(g.jsx)(s.Suspense,{fallback:Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{})}),children:Object(g.jsx)(ye,{})})}),Object(g.jsx)("div",{className:m?"":"hidden",children:Object(g.jsx)(s.Suspense,{fallback:Object(g.jsx)("div",{children:Object(g.jsx)(ne.a,{})}),children:Object(g.jsx)(we,{})})})]})]})]})})},ke=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1];function c(){return(c=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/all",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.tickets)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){c.apply(this,arguments)}()}));return Object(g.jsx)("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10 -mt-20",children:Object(g.jsx)("div",{class:"flex flex-col",children:Object(g.jsx)("div",{class:" overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(g.jsx)("div",{class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(g.jsx)("div",{class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(g.jsxs)("table",{class:"min-w-full divide-y divide-gray-200",children:[Object(g.jsx)("thead",{class:"bg-gray-50",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Engineer"}),Object(g.jsx)("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(g.jsx)("th",{scope:"col",class:"relative px-6 py-3",children:Object(g.jsx)("span",{class:"sr-only",children:"Edit"})})]})}),Object(g.jsx)("tbody",{children:n.map((function(e){var t,n=e.priority;return"Low"===n&&(t="bg-blue-100 text-blue-800"),"normal"===n&&(t="bg-green-100 text-green-800"),"High"===n&&(t="bg-red-100 text-red-800"),Object(g.jsxs)("tr",{class:"bg-white",children:[Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.client.name}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(g.jsx)("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t),children:e.priority})}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.issue}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.assignedto.name}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.status}),Object(g.jsx)("td",{class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(g.jsx)(u.b,{to:{pathname:"tickets/".concat(e._id),state:e},className:"text-indigo-600 hover:text-indigo-900",children:"view"})})]})}))})]})})})})})})},Te={CLOSE:["escape"]},Ce=function(){return Object(g.jsx)(u.a,{children:Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{exact:!0,path:"/",component:te}),Object(g.jsx)(j.a,{exact:!0,path:"/login",children:Object(g.jsx)(ie,{})}),Object(g.jsxs)(j.a,{children:[Object(g.jsx)(ee,{}),Object(g.jsx)(j.a,{exact:!0,path:"/settings",component:de}),Object(g.jsx)(j.a,{exact:!0,path:"/tickets",component:xe}),Object(g.jsx)(j.a,{exact:!0,path:"/history",component:ke}),Object(g.jsx)(j.a,{path:"/tickets/:id",component:Object(j.g)(Oe)},Math.random()),Object(g.jsx)(j.a,{exact:!0,path:"/admin/:path?",children:Object(g.jsx)(j.a,{exact:!0,path:"/admin/dashboard",component:Ne})})]})]})})},Se=function(){return Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.connect("/");case 2:(t=e.sent).on("visitor enters"),t.on("visitor exits");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(g.jsx)("div",{children:Object(g.jsx)(d.HotKeys,{keyMap:Te,children:Object(g.jsx)(Ce,{})})})};r.a.render(Object(g.jsx)(T.b,{children:Object(g.jsx)(Se,{})}),document.getElementById("root"))}},[[355,1,2]]]);
//# sourceMappingURL=main.db57b43d.chunk.js.map