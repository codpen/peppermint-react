(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{345:function(e,t,n){},346:function(e,t,n){},596:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(36),o=n.n(i),s=(n(345),n(52)),l=n(47),u=(n(346),n(347),n(348),n(9)),j=n.n(u),d=n(13),h=n(11),b=n(615),p=n(332),O=n(337),f=n(333),x=n(617),m=n(618),g=n(290),v=n(113),y=n(600),w=n(621),k=n(622),S=n(140),C=n(609),T=n(606),I=n(55),N=n(608),E=n(177),A=n(614),z=function(){var e=S.a.Option,t=C.a.TextArea,n=Object(c.useState)(""),r=Object(h.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)(""),l=Object(h.a)(s,2),u=l[0],b=l[1],p=Object(c.useState)(""),O=Object(h.a)(p,2),f=O[0],x=O[1],m=Object(c.useState)(""),g=Object(h.a)(m,2),v=g[0],y=g[1],w=Object(c.useState)(""),k=Object(h.a)(w,2),z=k[0],P=k[1],B=Object(c.useState)([]),_=Object(h.a)(B,2),D=_[0],L=_[1],U=Object(c.useState)(!1),V=Object(h.a)(U,2),R=V[0],G=V[1],F=T.a.useForm(),J=Object(h.a)(F,1)[0],H=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),G(!1),e.next=4,void fetch("/api/v1/tickets/createTicket",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({name:i,email:f,company:u,issue:v,priority:z})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):console.log("Congrats it worked")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){fetch("/api/v1/client/allclients",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&L(e.client)}))}),[]);var K=D.map((function(t){return Object(a.jsx)(e,{children:t.name},t._id)}));return Object(a.jsxs)("div",{className:"ticket-modal",children:[Object(a.jsx)(I.a,{type:"text",size:"small",onClick:function(){G(!0)},children:"New Ticket"},0),Object(a.jsx)(N.a,{visible:R,title:"Create a new Ticket",okText:"Create",cancelText:"Cancel",onCancel:function(){G(!1)},onOk:function(){J.validateFields().then((function(e){J.resetFields(),H(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsxs)(T.a,{size:"middle",form:J,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(a.jsx)(T.a.Item,{name:"name",label:"Name",children:Object(a.jsx)(C.a,{placeholder:"Enter name here...",name:"name",onChange:function(e){return o(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"email",label:"Email",children:Object(a.jsx)(C.a,{placeholder:"Enter email here....",onChange:function(e){return x(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"client",label:"client",children:Object(a.jsx)(S.a,{showSearch:!0,style:{width:200},placeholder:"Select a client",optionFilterProp:"children",onChange:b,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:K})}),Object(a.jsx)(T.a.Item,{name:"issue",label:"issue",children:Object(a.jsx)(t,{rows:5,onChange:function(e){return y(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"modifier",label:"Priority",className:"collection-create-form_last-form-item",children:Object(a.jsx)(E.a.Group,{buttonStyle:"solid",value:z,onChange:function(e){return P(e.target.value)},style:{textAlign:"center"},children:Object(a.jsxs)(A.b,{children:[Object(a.jsx)(E.a.Button,{value:"Low",children:"Low"}),Object(a.jsx)(E.a.Button,{value:"Normal",children:"Normal"}),Object(a.jsx)(E.a.Button,{value:"High",children:"High"})]})})})]})})]})},P=function(){var e=Object(l.f)(),t=v.a.SubMenu,n=Object(c.useState)(!1),r=Object(h.a)(n,2),i=r[0],o=r[1],u=Object(c.useState)(),j=Object(h.a)(u,2),d=j[0],b=j[1];function p(){localStorage.clear(),e.push("/login")}var O=function(e){b(e.key)};Object(c.useEffect)((function(){!function(){var t=JSON.parse(localStorage.getItem("user"));t&&"admin"===t.role?o(!0):t||e.push("/Login")}()}),[]);var f=function(){return i?Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{mode:"horizontal",onClick:O,defaultSelectedKeys:["0"],selectedKeys:d,children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)("a",{href:"https://pmint.dev/",target:"_blank",rel:"noopener noreferrer",children:"Peppermint \ud83c\udf75"})},"Home Page"),Object(a.jsx)(v.a.Item,{onClick:function(){return e.push("/")},children:"Home"},0),Object(a.jsxs)(t,{icon:Object(a.jsx)(w.a,{}),title:"Tickets",children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/ticket/open",children:"Open Tickets"})},"tickets:1"),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/ticket/unissued",children:"Unissued Tickets"})},"tickets:2")]},"SubMenu"),Object(a.jsx)(v.a.Item,{onClick:function(){return e.push("/history")},children:"History"},3),Object(a.jsx)(v.a.Item,{onClick:function(){return e.push("/admin/dashboard")},children:"Admin"},6),Object(a.jsxs)(t,{icon:Object(a.jsx)(k.a,{}),style:{float:"right"},children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/settings",children:"Settings"})},"SETTINGS:1"),Object(a.jsx)(v.a.Item,{onClick:p,children:"Log out"},"SETTINGS:2")]},"settings-men"),Object(a.jsx)(v.a.Item,{style:{float:"right"},title:"New Ticket",children:Object(a.jsx)(z,{})},4)]})})}):Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{children:Object(a.jsxs)(v.a,{mode:"horizontal",onClick:O,defaultSelectedKeys:["0"],selectedKeys:d,children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)("a",{href:"https://pmint.dev/",target:"_blank",rel:"noopener noreferrer",children:"Peppermint \ud83c\udf75"})},"Home Page"),Object(a.jsx)(v.a.Item,{onClick:function(){return e.push("/")},children:"Home"},0),Object(a.jsxs)(t,{icon:Object(a.jsx)(w.a,{}),title:"Tickets",children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/ticket/open",children:"Open Tickets"})},"tickets:1"),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/ticket/unissued",children:"Unissued Tickets"})},"tickets:2")]},"SubMenu"),Object(a.jsx)(v.a.Item,{onClick:function(){return e.push("/history")},children:"History"},3),Object(a.jsxs)(t,{icon:Object(a.jsx)(k.a,{}),style:{float:"right"},children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/settings",children:"Settings"})},"SETTINGS:1"),Object(a.jsx)(v.a.Item,{onClick:p,children:"Log out"},"SETTINGS:2")]},"settings-men"),Object(a.jsx)(v.a.Item,{style:{float:"right"},title:"New Ticket",children:Object(a.jsx)(z,{})},4)]})})})};return Object(a.jsx)("div",{children:Object(a.jsx)(f,{})})},B=n(623),_=n(225),D=n(43),L=function(e,t){switch(t.type){case"GET_TODOS":return Object(D.a)(Object(D.a)({},e),{},{todos:t.payload});case"ADD_TODO":return Object(D.a)(Object(D.a)({},e),{},{todos:[].concat(Object(_.a)(e.todos),[t.payload])});case"DELETE_TODO":return Object(D.a)(Object(D.a)({},e),{},{todos:e.todos.filter((function(e){return e._id!==t.payload}))});case"ALLDONE_TODO":case"MARK_TODO":return Object(D.a)(Object(D.a)({},e),{},{todos:t.payload});case"GET_NOTES":return Object(D.a)(Object(D.a)({},e),{},{notes:t.payload});case"ADD_NOTE":return Object(D.a)(Object(D.a)({},e),{},{notes:[].concat(Object(_.a)(e.notes),[t.payload])});case"DELETE_NOTE":return Object(D.a)(Object(D.a)({},e),{},{notes:e.notes.filter((function(e){return e._id!==t.payload}))});case"CLEAR":return null;case"USER":return{user:t.payload};case"USER_LOGGED":return{auth:t.payload};default:return e}},U=n(299),V=n.n(U),R={todos:[],notes:[],user:{},auth:!0},G=Object(c.createContext)(R),F=function(e){var t=e.children,n=Object(c.useReducer)(L,R),r=Object(h.a)(n,2),i=r[0],o=r[1];function s(){return(s=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}},e.prev=1,e.next=4,V.a.get("/api/v1/todo/getTodo",t);case 4:n=e.sent,o({type:"GET_TODOS",payload:n.data.todo}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function l(){return(l=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/createTodo",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({todo:t})}).then((function(e){return e.json()}));case 3:n=e.sent,o({type:"ADD_TODO",payload:n.todo}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(){return(u=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/deleteTodo/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:o({type:"DELETE_TODO",payload:t}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function b(){return(b=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markAllAsDone",{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,o({type:"ALLDONE_TODO",payload:t.todo}),console.log(t),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(){return(p=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/todo/markOneAsDone/".concat(t),{method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 3:n=e.sent,o({type:"MARK_TODO",payload:n.todo}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function O(){return(O=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/note/getNotes",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()}));case 3:t=e.sent,o({type:"GET_NOTES",payload:t.note}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=Object(d.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/note/saveNote",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({text:t,title:n})}).then((function(e){return e.json()}));case 3:a=e.sent,console.log(a.note),o({type:"ADD_NOTE",payload:a.note}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function x(){return(x=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,fetch("/api/v1/note/deleteNote/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:o({type:"DELETE_NOTE",payload:t}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(){return(m=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),o({type:"USER",payload:e.user}),console.log(e))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function g(){return(g=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/auth/token",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt"),"x-auth-token":localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(a.jsx)(G.Provider,{value:{todos:i.todos,notes:i.notes,auth:i.auth,user:i.user,getTodos:function(){return s.apply(this,arguments)},addTodo:function(e){return l.apply(this,arguments)},deleteTodo:function(e){return u.apply(this,arguments)},allDone:function(){return b.apply(this,arguments)},markDone:function(e){return p.apply(this,arguments)},getNotes:function(){return O.apply(this,arguments)},saveNote:function(e,t){return f.apply(this,arguments)},deleteNote:function(e){return x.apply(this,arguments)},signin:function(e,t){return m.apply(this,arguments)},isLogged:function(){return g.apply(this,arguments)}},children:t})},J=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useContext)(G).addTodo;return Object(a.jsxs)("div",{children:[Object(a.jsx)(C.a,{style:{width:200},placeholder:"Enter Todo... ",value:n,onChange:function(e){r(e.target.value)}}),Object(a.jsx)(I.a,{onClick:function(){i(n)},style:{marginLeft:10,margin:5},children:Object(a.jsx)(B.a,{})})]})},H=n(601),K=n(97),M=n(330),q=n(624),W=n(625),Q=function(){var e=Object(c.useContext)(G),t=e.todos,n=e.getTodos,r=e.deleteTodo,i=e.allDone,o=e.markDone;return Object(c.useEffect)((function(){n()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(I.a,{style:{marginTop:10},onClick:i,children:"Mark All Done"}),Object(a.jsx)(H.a,{orientation:"left",style:{width:"auto"}}),t?t.map((function(e){return Object(a.jsx)("div",{className:"todo-list",children:Object(a.jsx)("ul",{children:Object(a.jsxs)("li",{style:{marginLeft:-35},children:[Object(a.jsx)("span",{className:e.done?"done":"",children:e.text}),Object(a.jsx)(K.a,{placement:"right",title:"Delete",children:Object(a.jsx)(I.a,{onClick:function(){return r(e._id)},style:{float:"right"},children:Object(a.jsx)(q.a,{twoToneColor:"#FF0000"})})}),Object(a.jsx)(K.a,{placement:"bottom",title:"Mark as done",children:Object(a.jsx)(I.a,{onClick:function(){return o(e._id)},style:{float:"right",marginRight:5},children:Object(a.jsx)(W.a,{twoToneColor:"#52c41a"})})})]},e._id)},e._id)},e._id)})):Object(a.jsx)(M.a,{})]})},X=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];function i(){return o.apply(this,arguments)}function o(){return(o=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/openTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"inside-issue-con",children:Object(a.jsxs)("h6",{children:["Open Issues - ",n]})}),Object(a.jsx)(b.a,{})]})},Y=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];function i(){return o.apply(this,arguments)}function o(){return(o=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/unallocatedTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"inside-issue-con",children:Object(a.jsxs)("h6",{children:["Unallocated Issues - ",n]})}),Object(a.jsx)(b.a,{})]})},Z=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];function i(){return o.apply(this,arguments)}function o(){return(o=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/completedTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e.result)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"inside-issue-con",children:Object(a.jsxs)("h6",{children:["Completed Tickets - ",n]})})})},$=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Current Issues"}),Object(a.jsx)(b.a,{}),Object(a.jsx)(X,{}),Object(a.jsx)(Y,{}),Object(a.jsx)(Z,{})]})},ee=n(616),te=n(604),ne=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(e.notes.note),s=Object(h.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(""),p=Object(h.a)(b,2),O=p[0],f=p[1],x=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/note/updateNote",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({note:l,id:O})}).then((function(e){return e.json}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),i(!1),e.next=4,x();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=C.a.TextArea;return Object(a.jsx)("div",{children:Object(a.jsxs)(I.a,{size:"xs",style:{float:"right",marginLeft:5},onClick:function(){i(!0),f(e.notes._id)},children:[Object(a.jsx)(B.a,{}),Object(a.jsx)(N.a,{keyboard:!0,visible:r,title:e.notes.title,okText:"Update",cancelText:"Cancel",onCancel:function(e){e.stopPropagation(),i(!1),f(""),u("")},onOk:m,children:Object(a.jsx)(g,{defaultValue:e.notes.note,onChange:function(e){return u(e.target.value)},rows:5})})]})})},ae=function(){var e=Object(c.useContext)(G),t=e.notes,n=e.getNotes,r=e.deleteNote;Object(c.useEffect)((function(){n()}),[]);var i=[{title:"Title",dataIndex:"title",key:"name",width:400},{key:"action",render:function(e,t){return Object(a.jsxs)(A.b,{size:"middle",children:[Object(a.jsx)(ne,{notes:t}),Object(a.jsx)(ee.a,{title:"Are you sure you want to delete?",onConfirm:function(){return r(t._id)},children:Object(a.jsx)(I.a,{size:"xs",style:{float:"right",marginLeft:5},children:Object(a.jsx)(q.a,{twoToneColor:"#FF0000"})})})]})}}];return Object(a.jsx)("div",{children:Object(a.jsx)(te.a,{dataSource:t,columns:i,showHeader:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},ce=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],o=function(e){e.stopPropagation(),i(!1)};return Object(a.jsx)("div",{children:Object(a.jsxs)(I.a,{size:"xs",onClick:function(){i(!0)},children:["Read",Object(a.jsxs)(N.a,{destroyOnClose:!0,keyboard:!0,visible:r,title:e.n.title,onCancel:o,footer:[Object(a.jsx)(I.a,{onClick:o,children:"Close"})],children:[Object(a.jsx)("p",{children:e.n.text}),Object(a.jsx)(H.a,{}),Object(a.jsxs)("p",{children:["Author : ",e.n.createdBy.name]})]})]})})},re=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];console.log(n);var i=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/newsletter/get",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&r(e.newsletters)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){i()}),[]);var o=[{title:"Title",dataIndex:"title",key:"title",width:300},{key:"action",render:function(e,t){return Object(a.jsx)(ce,{n:t})}}];return Object(a.jsx)("div",{children:Object(a.jsx)(te.a,{showHeader:!1,dataSource:n,columns:o,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["3","5","10"]}})})},ie=function(){return Object(a.jsxs)("div",{className:"Todo-Container",children:[Object(a.jsx)("h3",{children:"Todo List"}),Object(a.jsx)(b.a,{}),Object(a.jsx)(J,{}),Object(a.jsx)(Q,{})]})},oe=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),o=Object(h.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(!1),j=Object(h.a)(u,2),d=j[0],x=j[1],m=Object(c.useContext)(G).saveNote,v=function(){return x(!1)};return Object(a.jsxs)("div",{className:"Notes-Container",children:[Object(a.jsxs)("h3",{children:["Notes",Object(a.jsxs)(p.a,{onClick:function(){return x(!0)},style:{float:"right"},children:[Object(a.jsx)(O.a,{icon:"plus"}),Object(a.jsx)(g.a,{modal:!0,open:d,nested:!0,children:Object(a.jsxs)("div",{className:"modal",children:[Object(a.jsx)(p.a,{className:"close",onClick:v,children:"\xd7"}),Object(a.jsxs)("div",{className:"header",children:[" ",Object(a.jsx)(f.a,{placeholder:"Enter Note title here...",onChange:l})]}),Object(a.jsx)("div",{className:"content",children:Object(a.jsx)(f.a,{placeholder:"Enter Note here...",rows:10,componentClass:"textarea",onChange:r})}),Object(a.jsxs)("div",{className:"actions",children:[Object(a.jsx)(p.a,{style:{marginRight:20},className:"button",onClick:function(){console.log("Data sent"),m(n,s),v()},children:"Save Note"}),Object(a.jsx)(p.a,{className:"button",onClick:function(){console.log("modal closed "),v()},children:"Close"})]})]})})]})]}),Object(a.jsx)(b.a,{}),Object(a.jsx)(ae,{})]})},se=function(){return Object(a.jsxs)("div",{className:"Right-Container",children:[Object(a.jsx)($,{}),Object(a.jsx)(b.a,{}),Object(a.jsx)(le,{})]})},le=function(){return Object(a.jsxs)("div",{className:"News-Container",children:[Object(a.jsx)("h4",{children:"Latest News"}),Object(a.jsx)(b.a,{}),Object(a.jsx)(re,{})]})},ue=function(){var e=Object(l.f)();return Object(c.useEffect)((function(){(function(){var t=Object(d.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("jwt"),console.log(n),n){t.next=6;break}e.push("/login"),t.next=7;break;case 6:return t.abrupt("return",console.log("logged in"));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(P,{})})}),Object(a.jsxs)("div",{className:"main-con",children:[Object(a.jsx)(ie,{}),Object(a.jsx)(oe,{}),Object(a.jsx)(se,{})]})]})},je=n(610),de=n(128),he=function(e){var t=S.a.Option,n=Object(c.useState)([]),r=Object(h.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)(""),l=Object(h.a)(s,2),u=l[0],b=l[1],p=Object(c.useState)(!1),O=Object(h.a)(p,2),f=O[0],x=O[1],m=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&o(e.users)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!1),t.next=3,void fetch("/api/v1/tickets/transfer",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:u,find:e.ticket._id})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):console.log("Congrats it worked")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){m()}),[]);var v=i.map((function(e){return Object(a.jsx)(t,{children:e.name},e._id)}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(I.a,{onClick:function(){x(!0)},children:"Transfer"},0),Object(a.jsx)(N.a,{visible:f,onCancel:function(){x(!1)},onOk:g,width:300,children:Object(a.jsx)(S.a,{style:{},showSearch:!0,placeholder:"Select a user",optionFilterProp:"children",onChange:b,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:v})})]})},be=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(e.ticket.issue),s=Object(h.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(e.ticket.note),p=Object(h.a)(b,2),O=p[0],f=p[1],x=Object(c.useState)(e.ticket.name),m=Object(h.a)(x,2),g=m[0],v=m[1],y=Object(c.useState)(e.ticket.email),w=Object(h.a)(y,2),k=w[0],S=w[1],T=Object(c.useState)(e.ticket.number),N=Object(h.a)(T,2),E=N[0],z=N[1],P=C.a.TextArea,B=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!1),e.next=3,D();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,fetch("/api/v1/tickets/complete/".concat(n),{method:"Post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/tickets/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:e.ticket._id,issue:l,note:O,name:g,email:k,number:E})}).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(I.a,{type:"text",size:"small",onClick:function(){i(!0)},children:"View Ticket"},0),Object(a.jsxs)(je.a,{className:"my-drawer",placement:"right",onClose:B,visible:r,children:[Object(a.jsxs)("h2",{children:["Client: ",e.ticket.client.name]}),Object(a.jsxs)(A.b,{size:"middle",children:[Object(a.jsx)(he,{ticket:e.ticket}),Object(a.jsx)(ee.a,{title:"Are you sure you want to complete?",onConfirm:function(){_(e.ticket._id)},children:Object(a.jsx)(I.a,{children:"Complete"})})]}),Object(a.jsx)(H.a,{}),Object(a.jsx)(de.a,{children:Object(a.jsxs)(A.b,{children:[Object(a.jsxs)("h4",{children:["Issue status : ",e.ticket.status]}),Object(a.jsx)(H.a,{type:"vertical"}),Object(a.jsxs)("h4",{style:{marginLeft:75},children:["Engineer assigned : ",e.ticket.assignedto.name]})]})}),Object(a.jsxs)(de.a,{children:[Object(a.jsx)(P,{rows:6,defaultValue:e.ticket.issue,style:{width:"45%"},placeholder:"Issue goes here ...",onChange:function(e){return u(e.target.value)}}),Object(a.jsx)(P,{defaultValue:e.ticket.note,style:{width:"45%",float:"right",marginLeft:25},placeholder:"Job notes goes here ...",onChange:function(e){return f(e.target.value)}})]}),Object(a.jsx)(H.a,{}),Object(a.jsx)("h4",{children:"Contact Details"}),Object(a.jsxs)("h5",{children:["Contact Name:"," ",Object(a.jsx)(C.a,{defaultValue:e.ticket.name,style:{width:250,float:"right"},onChange:function(e){return v(e.target.value)}})]}),Object(a.jsxs)("h5",{children:["Email:"," ",Object(a.jsx)(C.a,{defaultValue:e.ticket.email,style:{width:250,float:"right"},onChange:function(e){return S(e.target.value)}})]}),Object(a.jsxs)("h5",{children:["Number:"," ",Object(a.jsx)(C.a,{defaultValue:e.ticket.number,style:{width:250,float:"right"},onChange:function(e){return z(e.target.value)}})]}),Object(a.jsx)(H.a,{})]})]})},pe=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];function i(){return o.apply(this,arguments)}function o(){return(o=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/openedTickets",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.tickets)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=[{title:"Name",dataIndex:"name",key:"name",width:150,responsive:["md"]},{title:"Client",dataIndex:["client","name"],key:"client",width:75},{title:"Priority",dataIndex:"priority",key:"priority",width:30,responsive:["md"]},{title:"Issue",dataIndex:"issue",key:"issue"},{title:"Action",key:"action",width:100,render:function(e){return Object(a.jsx)(A.b,{size:"middle",children:Object(a.jsx)(I.a,{size:"small",children:Object(a.jsx)(be,{ticket:e})})})}}];return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{style:{textAlign:"center"},children:["Open Tickets - ",null]}),Object(a.jsx)(te.a,{columns:s,dataSource:n,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})]})},Oe=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];function i(){return o.apply(this,arguments)}function o(){return(o=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/unissuedTickets",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.tickets)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){fetch("/api/v1/tickets/convertTicket",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({data:n})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):(window.location.reload(),console.log("Congrats it worked"))}))},l=[{title:"Name",dataIndex:"name",key:"name",width:150,responsive:["md"]},{title:"Client",dataIndex:["client","name"],key:"client",width:75},{title:"Priority",dataIndex:"priority",key:"priority",width:30,responsive:["md"]},{title:"Issue",dataIndex:"issue",key:"issue"},{title:"Action",key:"action",width:100,render:function(){return Object(a.jsxs)(A.b,{size:"middle",children:[Object(a.jsx)(I.a,{size:"small",onClick:s,children:"Convert"}),Object(a.jsx)(I.a,{size:"small"})]})}}];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{style:{textAlign:"center"},children:"Unissued Tickets - "}),Object(a.jsx)(te.a,{columns:l,dataSource:n,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})]})},fe=function(){var e=Object(l.f)();return Object(c.useEffect)((function(){(function(){var t=Object(d.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("jwt"),console.log(n),n){t.next=6;break}e.push("/login"),t.next=7;break;case 6:return t.abrupt("return",console.log("logged in"));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(a.jsxs)("div",{style:{margin:25},children:[Object(a.jsx)(pe,{}),Object(a.jsx)(Oe,{})]})},xe=n(607),me=n(626),ge=n(627),ve=n(628),ye=n(629),we=n.p+"static/media/logo.e3fa586c.png",ke=function(){var e=Object(l.f)(),t=Object(c.useState)(""),n=Object(h.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(""),s=Object(h.a)(o,2),u=s[0],b=s[1],p=Object(c.useContext)(G).signin,O=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(u,r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)(T.a,{style:{position:"absolute"},name:"normal_login",className:"login-form",initialValues:{remember:!0},children:[Object(a.jsx)("div",{className:"logo-login",children:Object(a.jsx)(xe.a,{alt:"logo",src:we,width:300,preview:!1})}),Object(a.jsx)(T.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Email!"}],children:Object(a.jsx)(C.a,{style:{width:300},prefix:Object(a.jsx)(me.a,{className:"site-form-item-icon"}),placeholder:"Email",onChange:function(e){return b(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(C.a.Password,{style:{width:300},prefix:Object(a.jsx)(ge.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",iconRender:function(e){return e?Object(a.jsx)(ve.a,{}):Object(a.jsx)(ye.a,{})},onChange:function(e){return i(e.target.value)}})}),Object(a.jsx)(T.a.Item,{children:Object(a.jsx)(I.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){O(),setTimeout((function(){return e.push("/")}),5e3)},children:"Log in"})})]})})},Se=function(){var e=Object(l.f)(),t=Object(c.useState)(""),n=Object(h.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(""),s=Object(h.a)(o,2),u=s[0],b=s[1],p=Object(c.useState)(""),O=Object(h.a)(p,2),f=O[0],x=O[1],m=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/auth/Signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f,email:u,password:r})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.push("/login")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsxs)(T.a,{style:{position:"absolute"},name:"normal_login",className:"login-form",initialValues:{remember:!0},children:[Object(a.jsx)("div",{className:"logo-login",children:Object(a.jsx)(xe.a,{alt:"logo",src:we,width:300,preview:!1})}),Object(a.jsx)(T.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Email!"}],children:Object(a.jsx)(C.a,{style:{width:300},prefix:Object(a.jsx)(me.a,{className:"site-form-item-icon"}),placeholder:"Email",onChange:function(e){return b(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(a.jsx)(C.a,{style:{width:300},prefix:Object(a.jsx)(me.a,{className:"site-form-item-icon"}),placeholder:"Name",onChange:function(e){return x(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(C.a.Password,{style:{width:300},prefix:Object(a.jsx)(ge.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",iconRender:function(e){return e?Object(a.jsx)(ve.a,{}):Object(a.jsx)(ye.a,{})},onChange:function(e){return i(e.target.value)}})}),Object(a.jsx)(T.a.Item,{children:Object(a.jsx)(I.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:function(){m(),setTimeout((function(){return e.push("/")}),4e3)},children:"Log in"})})]})})})},Ce=n(619),Te=n(602),Ie=n(620),Ne=n(612),Ee=n(605),Ae=function(){return Object(a.jsx)("div",{className:"monitor-create",children:Object(a.jsxs)(Ce.a,{layout:"inline",children:[Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Ie.a,{children:"HostName"}),Object(a.jsx)(Ne.a,{name:"hostname",style:{width:250}}),Object(a.jsx)(Ee.a,{tooltip:!0,children:"Required"})]}),Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Ie.a,{children:"Address"}),Object(a.jsx)(Ne.a,{name:"address",style:{width:160}}),Object(a.jsx)(Ee.a,{tooltip:!0,children:"I.P or domain name"})]}),Object(a.jsxs)(Te.a,{children:[Object(a.jsx)(Ie.a,{children:"Keep alive"}),Object(a.jsx)(Ne.a,{name:"number",style:{width:160}}),Object(a.jsx)(Ee.a,{tooltip:!0,children:"How often you want to ping a server"})]}),Object(a.jsx)(p.a,{children:"Add Host"})]})})},ze=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Ae,{})})},Pe=n(613),Be=n(611),_e=function(){var e=Object(c.useState)(),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),o=Object(h.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(),b=Object(h.a)(u,2),p=b[0],O=b[1],f=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/getallopen",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/getallcompleted",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/unallocatedTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){f(),x(),m()}),[]),Object(a.jsxs)("div",{className:"admin-dash-row",children:[Object(a.jsx)("div",{className:"stats-card",children:Object(a.jsx)(Pe.a,{children:Object(a.jsx)(Be.a,{title:"Closed Tickets",value:p})})}),Object(a.jsx)("div",{className:"stats-card",children:Object(a.jsx)(Pe.a,{children:Object(a.jsx)(Be.a,{title:"Open Tickets",value:s})})}),Object(a.jsx)("div",{className:"stats-card",children:Object(a.jsx)(Pe.a,{children:Object(a.jsx)(Be.a,{title:"Unclaimed Tickets",value:n})})})]})},De=function(){return Object(a.jsx)("div",{className:"",children:Object(a.jsx)(_e,{})})},Le=n(630),Ue=n(631),Ve=n(632),Re=n(633),Ge=n(634),Fe=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],i=T.a.useForm(),o=Object(h.a)(i,1)[0],s=Object(c.useState)(""),l=Object(h.a)(s,2),u=l[0],b=l[1],p=Object(c.useState)(""),O=Object(h.a)(p,2),f=O[0],x=O[1],m=Object(c.useState)(""),g=Object(h.a)(m,2),v=g[0],y=g[1],w=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/Signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,email:f,password:u})}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),r(!1),e.next=4,w();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{type:"primary",onClick:function(){r(!0)},children:"Create new user"}),Object(a.jsx)(N.a,{visible:n,title:"Create a new user",okText:"Create",cancelText:"Cancel",onCancel:function(){r(!1)},onOk:function(){o.validateFields().then((function(e){o.resetFields(),k(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsxs)(T.a,{form:o,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(a.jsx)(T.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of your new user!"}],children:Object(a.jsx)(C.a,{placeholder:"Enter name here...",name:"name",onChange:function(e){return y(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"email",label:"Email",children:Object(a.jsx)(C.a,{placeholder:"Enter email here....",onChange:function(e){return x(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"password",label:"Password",children:Object(a.jsx)(C.a,{placeholder:"Enter password here...",onChange:function(e){return b(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"modifier",className:"collection-create-form_last-form-item",children:Object(a.jsxs)(E.a.Group,{children:[Object(a.jsx)(E.a,{value:"user",children:"User"}),Object(a.jsx)(E.a,{value:"admin",children:"Admin"})]})})]})})]})},Je=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],i=T.a.useForm(),o=Object(h.a)(i,1)[0],s=Object(c.useState)(""),l=Object(h.a)(s,2),u=l[0],b=l[1],p=Object(c.useState)(""),O=Object(h.a)(p,2),f=O[0],x=O[1],m=Object(c.useState)(""),g=Object(h.a)(m,2),v=g[0],y=g[1],w=Object(c.useState)(""),k=Object(h.a)(w,2),S=k[0],I=k[1],E=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/client/create",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({name:v,contactName:f,number:u,email:S})}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received values of form: ",t),r(!1),e.next=4,E();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{type:"primary",onClick:function(){r(!0)},children:"Create new client"}),Object(a.jsx)(N.a,{visible:n,title:"Add a new client",okText:"Create",cancelText:"Cancel",onCancel:function(){r(!1)},onOk:function(){o.validateFields().then((function(e){o.resetFields(),A(e)})).catch((function(e){console.log("Validate Failed:",e)}))},children:Object(a.jsxs)(T.a,{form:o,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[Object(a.jsx)(T.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please input the name of your new client!"}],children:Object(a.jsx)(C.a,{placeholder:"Enter name here...",name:"name",onChange:function(e){return y(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"contact name",label:"Contact Name",children:Object(a.jsx)(C.a,{placeholder:"Enter  here....",onChange:function(e){return x(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"number",label:"Contact Number",children:Object(a.jsx)(C.a,{placeholder:"Enter number here...",onChange:function(e){return b(e.target.value)}})}),Object(a.jsx)(T.a.Item,{name:"email",label:"Contact Email",children:Object(a.jsx)(C.a,{placeholder:"Enter email address here...",onChange:function(e){return I(e.target.value)}})})]})})]})},He=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),o=Object(h.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(""),b=Object(h.a)(u,2),p=b[0],O=b[1],f=Object(c.useState)(!1),x=Object(h.a)(f,2),m=x[0],g=x[1],v=C.a.TextArea,y=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/newsletter/create",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:s,text:p,active:m})}).then((function(e){return e.json()}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),e.next=3,y();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{type:"primary",onClick:function(){r(!0)},children:"New newsletter"}),Object(a.jsxs)(N.a,{visible:n,title:"Create a new newsletter",okText:"Create",cancelText:"Cancel",onCancel:function(){r(!1)},onOk:w,children:[Object(a.jsx)("div",{style:{margin:25},children:Object(a.jsx)(de.a,{children:Object(a.jsx)(C.a,{placeholder:"Enter newsletter tittle here...",style:{width:400,marginLeft:-25},onChange:function(e){return l(e.target.value)}})})}),Object(a.jsx)("div",{children:Object(a.jsx)(v,{rows:8,placeholder:"Enter newsletter content here...",onChange:function(e){return O(e.target.value)}})}),Object(a.jsx)("div",{style:{margin:25},children:Object(a.jsx)(E.a.Group,{defaultValue:m,value:m,onChange:function(e){return g(e.target.value)},children:Object(a.jsxs)(A.b,{children:[Object(a.jsx)(E.a.Button,{value:"true",children:"Active"}),Object(a.jsx)(E.a.Button,{value:"false",children:"Hidden"})]})})})]})]})},Ke=v.a.SubMenu,Me=function(){var e=y.a.Sider;return Object(a.jsx)("div",{className:"sideNav",children:Object(a.jsx)(y.a,{children:Object(a.jsx)(e,{breakpoint:"lg",collapsedWidth:"0",theme:"light",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},children:Object(a.jsxs)(v.a,{onClick:function(e){},style:{height:"90vh"},className:"Admin-Side-Nav",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",children:[Object(a.jsx)(v.a.Item,{icon:Object(a.jsx)(Le.a,{}),children:Object(a.jsx)(s.b,{to:"/admin/dashboard",children:"Dashboard"})},"sub1"),Object(a.jsx)(v.a.Item,{icon:Object(a.jsx)(Ue.a,{}),disabled:!0,children:Object(a.jsx)(s.b,{to:"/admin/analytics",children:"Analytics"})},"sub2"),Object(a.jsxs)(Ke,{title:"Newsletter",icon:Object(a.jsx)(Ve.a,{}),children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(He,{})},"15"),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/admin/newsletters",children:"All Newsletters"})},"16")]},"sub4"),Object(a.jsxs)(Ke,{title:"Clients",icon:Object(a.jsx)(Re.a,{}),children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(Je,{})},"12"),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/admin/clientView",children:"Client List"})},"13")]},"sub3"),Object(a.jsxs)(Ke,{icon:Object(a.jsx)(Ge.a,{}),title:"Authentication",children:[Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(Fe,{})},"9"),Object(a.jsx)(v.a.Item,{children:Object(a.jsx)(s.b,{to:"/admin/viewUsers",children:"View Users"})},"10")]},"sub5")]})})})})},qe=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{})})},We=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(e.client.name),s=Object(h.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(e.client.ContactName),p=Object(h.a)(b,2),O=p[0],f=p[1],x=Object(c.useState)(e.client.email),m=Object(h.a)(x,2),g=m[0],v=m[1],y=Object(c.useState)(e.client.number),w=Object(h.a)(y,2),k=w[0],S=w[1];console.log(e.client);var T=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/client/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:e.client._id,clientName:l,name:O,email:g,number:k})}).then((function(e){return e.json}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),i(!1),e.next=4,T();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)(I.a,{onClick:function(){i(!0)},children:["Update",Object(a.jsxs)(N.a,{visible:r,title:"Edit a users info",okText:"Update",cancelText:"Cancel",onCancel:function(e){e.stopPropagation(),i(!1)},onOk:E,children:[Object(a.jsx)(de.a,{children:Object(a.jsxs)("h5",{children:["Edit Client Name :"," ",Object(a.jsx)(C.a,{defaultValue:e.client.name,onChange:function(e){return u(e.target.value)},style:{width:300,marginLeft:18}})]})}),Object(a.jsx)(de.a,{children:Object(a.jsxs)("h5",{children:["Edit Contact Name :"," ",Object(a.jsx)(C.a,{defaultValue:e.client.contactName,onChange:function(e){return f(e.target.value)},style:{width:300}})]})}),Object(a.jsx)(de.a,{children:Object(a.jsxs)("h5",{children:["Edit Contact Email :"," ",Object(a.jsx)(C.a,{defaultValue:e.client.email,onChange:function(e){return v(e.target.value)},style:{width:300,marginLeft:5}})]})}),Object(a.jsx)(de.a,{children:Object(a.jsxs)("h5",{children:["Edit Contact Number :"," ",Object(a.jsx)(C.a,{defaultValue:e.client.number,onChange:function(e){return S(e.target.value)},style:{width:280}})]})})]})]})})},Qe=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];console.log(n);Object(c.useEffect)((function(){fetch("/api/v1/client/allclients",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&r(e.client)}))}),[]);var i=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,e.next=4,fetch("/api/v1/client/delete/".concat(n),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),o=[{title:"Client Name",dataIndex:"name",key:"name",width:150},{title:"Contact Name",dataIndex:"contactName",key:"contactName",width:150},{title:"Contact Email",dataIndex:"email",key:"email",width:50},{title:"Contact Number",dataIndex:"number",key:"number",width:75},{title:"Action",key:"action",width:200,render:function(e){return Object(a.jsxs)(A.b,{size:"middle",children:[Object(a.jsx)(We,{client:e}),Object(a.jsx)(ee.a,{title:"Are you sure you want to delete?",onConfirm:function(){return i(e)},children:Object(a.jsx)(I.a,{children:"Delete"})})]})}}];return Object(a.jsx)("div",{style:{marginTop:5},children:Object(a.jsx)(te.a,{dataSource:n,columns:o,Pagenation:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},Xe=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),o=Object(h.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(""),b=Object(h.a)(u,2),p=b[0],O=b[1],f=Object(c.useState)(""),x=Object(h.a)(f,2),m=x[0],g=x[1],v=S.a.Option,y=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&r(e.users)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/resetPassword",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({user:p,password:m})}).then((function(e){return e.json}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){y()}),[]);var k=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!1),e.next=3,w();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=n.map((function(e){return Object(a.jsx)(v,{children:e.name},e._id)}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(I.a,{type:"default",onClick:function(){l(!0)},children:"Reset password"}),Object(a.jsxs)(N.a,{visible:s,title:"Reset users password",okText:"Update",cancelText:"Cancel",onCancel:function(){l(!1)},onOk:k,children:[Object(a.jsx)("h3",{children:"Select a user below"}),Object(a.jsxs)(A.b,{children:[Object(a.jsx)(S.a,{showSearch:!0,style:{width:200},placeholder:"Select a client",optionFilterProp:"children",onChange:O,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:T}),Object(a.jsx)(C.a,{onChange:function(e){return g(e.target.value)}})]})]})]})},Ye=function(e){var t=Object(c.useState)(e.user),n=Object(h.a)(t,2),r=n[0],i=(n[1],Object(c.useState)(e.user.name)),o=Object(h.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(e.user.email),b=Object(h.a)(u,2),p=b[0],O=b[1],f=Object(c.useState)(e.user.role),x=Object(h.a)(f,2),m=x[0],g=x[1],v=Object(c.useState)(!1),y=Object(h.a)(v,2),w=y[0],k=y[1],S=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/edit",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:r._id,name:s,email:p,role:m})}).then((function(e){return e.json}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!1),p.toString(p),e.next=4,S();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{type:"primary",onClick:function(){k(!0)},children:"Edit User info & Role"}),Object(a.jsxs)(N.a,{visible:w,title:"Edit a users info",okText:"Update",cancelText:"Cancel",onCancel:function(){k(!1)},onOk:T,children:[Object(a.jsx)(de.a,{children:Object(a.jsxs)("h5",{children:["Edit Name :"," ",Object(a.jsx)(C.a,{defaultValue:r.name,onChange:function(e){return l(e.target.value)},style:{width:300}})]})}),Object(a.jsx)(de.a,{children:Object(a.jsxs)("h5",{children:["Edit Email :"," ",Object(a.jsx)(C.a,{defaultValue:r.email,onChange:function(e){return O(e.target.value)},style:{width:300,marginLeft:5}})]})}),Object(a.jsxs)(de.a,{children:[Object(a.jsx)("h5",{children:"Edit Role : "}),Object(a.jsx)(E.a.Group,{buttonStyle:"solid",defaultValue:r.role,onChange:function(e){return g(e.target.value)},style:{marginLeft:20},children:Object(a.jsxs)(A.b,{children:[Object(a.jsx)(E.a.Button,{value:"user",children:"User"}),Object(a.jsx)(E.a.Button,{value:"admin",children:"Admin"})]})})]})]})]})},Ze=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&r(e.users)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,console.log(n),e.prev=2,e.next=5,fetch("/api/v1/auth/delete/".concat(n),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){i()}),[]);var s=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role"},{title:"Action",key:"action",render:function(e,t){return Object(a.jsxs)(A.b,{size:"middle",children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(Ye,{user:t})}),Object(a.jsx)(ee.a,{title:"Are you sure you want to delete?",onConfirm:function(){return o(t)},children:Object(a.jsx)(I.a,{children:"Delete"})}),Object(a.jsx)(Xe,{})]})}}];return Object(a.jsx)("div",{children:Object(a.jsx)(te.a,{dataSource:n,columns:s,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},$e=n(323),et=n(324),tt=n(336),nt=n(331),at=n(325),ct=n.n(at),rt=n(635),it=n(326),ot=n.n(it),st=n(327),lt=n.n(st),ut=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){var e;Object($e.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchText:"",searchedColumn:"",data:[{}]},e.getColumnSearchProps=function(t){return{filterDropdown:function(n){var c=n.setSelectedKeys,r=n.selectedKeys,i=n.confirm,o=n.clearFilters;return Object(a.jsxs)("div",{style:{padding:8},children:[Object(a.jsx)(C.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:r[0],onChange:function(e){return c(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(r,i,t)},style:{width:188,marginBottom:8,display:"block"}}),Object(a.jsxs)(A.b,{children:[Object(a.jsx)(I.a,{type:"primary",onClick:function(){return e.handleSearch(r,i,t)},icon:Object(a.jsx)(rt.a,{}),size:"small",style:{width:90},children:"Search"}),Object(a.jsx)(I.a,{onClick:function(){return e.handleReset(o)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return Object(a.jsx)(rt.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,n){return ot()(n,t).toString().toLowerCase().includes(e.toLowerCase())},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(n){return lt()(e.state.searchedColumn,t)?Object(a.jsx)(ct.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:n.toString()}):n}}},e.handleSearch=function(t,n,a){n(),e.setState({searchText:t[0],searchedColumn:a})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(et.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/tickets/all",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(t){e.setState({data:t.tickets},(function(){return console.log(e.state.data)}))}))}},{key:"componentWillUnmount",value:function(){this.setState({searchText:"",searchedColumn:""})}},{key:"render",value:function(){var e=[Object(D.a)({title:" Contact Name",dataIndex:"name",key:"name",width:"15%"},this.getColumnSearchProps("name")),Object(D.a)({title:"Client",dataIndex:["client","name"],key:"client",width:"15%"},this.getColumnSearchProps(["client","name"])),Object(D.a)({title:"Email",dataIndex:"email",key:"email",width:"15%"},this.getColumnSearchProps("email")),Object(D.a)({title:"Engineer",dataIndex:["assignedto","name"],key:"assignedto",width:"15%"},this.getColumnSearchProps(["assignedto","name"])),Object(D.a)({title:"Status",dataIndex:"status",key:"status",width:"15%"},this.getColumnSearchProps("status")),Object(D.a)({title:"Issue",dataIndex:"issue",key:"issue",width:"15%"},this.getColumnSearchProps("issue"))];return Object(a.jsx)("div",{children:Object(a.jsx)(te.a,{columns:e,dataSource:this.state.data,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})}}]),n}(r.a.Component),jt=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(e.n.active),s=Object(h.a)(o,2),l=s[0],u=s[1],b=Object(c.useState)(e.n.title),p=Object(h.a)(b,2),O=p[0],f=p[1],x=Object(c.useState)(e.n.text),m=Object(h.a)(x,2),g=m[0],v=m[1],y=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),i(!1),e.next=4,w();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var t=Object(d.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/newsletter/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:e.n._id,text:g,title:O,active:l})}).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsx)("div",{children:Object(a.jsxs)(I.a,{onClick:function(){return i(!0)},children:["Edit",Object(a.jsxs)(je.a,{width:640,placement:"right",onClose:y,visible:r,children:[Object(a.jsxs)("h4",{children:["Active : ",e.n.active.toString()]}),Object(a.jsxs)("h4",{children:["Created By : ",e.n.createdBy.name]}),Object(a.jsx)(H.a,{}),Object(a.jsxs)("h4",{children:["Title :"," ",Object(a.jsx)(C.a,{style:{width:300},onChange:function(e){return f(e.target.value)}})]}),Object(a.jsx)(H.a,{}),Object(a.jsx)("h5",{children:"Detail"}),Object(a.jsx)(C.a.TextArea,{defaultValue:e.n.text,rows:10,onChange:function(e){return v(e.target.value)}}),Object(a.jsx)(H.a,{}),Object(a.jsx)("h5",{children:"Select the button below to change visability "}),Object(a.jsx)(E.a.Group,{buttonStyle:"solid",value:l,onChange:function(e){return u(e.target.value)},style:{textAlign:"center"},children:Object(a.jsxs)(A.b,{children:[Object(a.jsx)(E.a.Button,{value:!0,children:"Active"}),Object(a.jsx)(E.a.Button,{value:!1,children:"Hidden"})]})})]})]})})},dt=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];console.log(n);var i=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/newsletter/get",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&r(e.newsletters)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/newsletter/delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){e&&r(e.newsletters)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){i()}),[]);var s=[{title:"Title",dataIndex:"title",key:"title",width:"50%"},{title:"CreatedBy",dataIndex:["createdBy","name"],key:"CreatedBy",width:"25%"},{key:"action",width:"25%",render:function(e,t){return Object(a.jsxs)(A.b,{children:[Object(a.jsx)(ce,{n:t}),Object(a.jsx)(jt,{n:t}),Object(a.jsx)(I.a,{onClick:function(){return o(t._id)},children:"Delete"})]})}}];return Object(a.jsx)("div",{children:Object(a.jsx)(te.a,{className:"your-table",dataSource:n,columns:s,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})},ht=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(pe,{})})},bt=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Oe,{})})},pt=n(224),Ot=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(l.f)(),o=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/resetPassword/user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({password:n})}).then((function(e){return e.json}));case 2:i.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(C.a,{placeholder:"Enter new Password ... ",style:{width:200},onChange:function(e){r(e.target.value)}}),Object(a.jsx)(I.a,{onClick:o,style:{marginLeft:10,margin:5},children:Object(a.jsx)(B.a,{})})]})},ft=function(){var e=pt.a.TabPane;return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"site-layout-content",children:Object(a.jsx)(pt.a,{defaultActiveKey:"1",centered:!0,children:Object(a.jsx)(e,{tab:"Reset",children:Object(a.jsx)(Ot,{})},"2")})})})},xt=function(){return Object(a.jsx)(s.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:ue}),Object(a.jsx)(l.a,{exact:!0,path:"/login",children:Object(a.jsx)("div",{className:"login-container",children:Object(a.jsx)(ke,{})})}),Object(a.jsx)(l.a,{exact:!0,path:"/signup",children:Object(a.jsx)("div",{className:"login-container",children:Object(a.jsx)(Se,{})})}),Object(a.jsxs)(l.a,{children:[Object(a.jsx)(P,{}),Object(a.jsx)(l.a,{exact:!0,path:"/tickets",component:fe}),Object(a.jsx)(l.a,{exact:!0,path:"/monitor",component:ze}),Object(a.jsx)(l.a,{exact:!0,path:"/history",component:ut}),Object(a.jsx)(l.a,{exact:!0,path:"/settings",component:ft}),Object(a.jsxs)(l.a,{exact:!0,path:"/ticket/:path",children:[Object(a.jsx)(l.a,{exact:!0,path:"/ticket/open",component:ht}),Object(a.jsx)(l.a,{exact:!0,path:"/ticket/unissued",component:bt})]}),Object(a.jsxs)(l.a,{exact:!0,path:"/admin/:path?",children:[Object(a.jsx)("div",{className:"side-navbar",children:Object(a.jsx)(Me,{})}),Object(a.jsxs)("div",{className:"admin-main",children:[Object(a.jsx)(l.a,{exact:!0,path:"/admin/dashboard",component:De}),Object(a.jsx)(l.a,{exact:!0,path:"/admin/Analytics",component:qe}),Object(a.jsx)(l.a,{exact:!0,path:"/admin/clientView",component:Qe}),Object(a.jsx)(l.a,{exact:!0,path:"/admin/viewUsers",component:Ze}),Object(a.jsx)(l.a,{exact:!0,path:"/admin/newsletters",component:dt})]})]})]})]})})},mt=function(){return Object(a.jsx)(xt,{})};o.a.render(Object(a.jsx)(F,{children:Object(a.jsx)(mt,{})}),document.getElementById("root"))}},[[596,1,2]]]);
//# sourceMappingURL=main.69516f93.chunk.js.map