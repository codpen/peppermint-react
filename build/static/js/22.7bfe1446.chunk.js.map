{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","../node_modules/@ant-design/icons/es/icons/LockOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EyeTwoTone.js","../node_modules/@ant-design/icons/es/icons/EyeTwoTone.js","pages/auth/logo.png","pages/auth/Login.js"],"names":["LockOutlined","props","ref","React","AntdIcon","Object","assign","icon","LockOutlinedSvg","displayName","EyeTwoTone","primaryColor","secondaryColor","EyeTwoToneSvg","Login","history","useHistory","useState","password","setPassword","email","setEmail","setLoading","toggle","setToggle","error","setError","errorNotification","a","message","description","duration","args","notification","open","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","auth","localStorage","setItem","user","setTimeout","push","class","spinning","src","logo","alt","for","onChange","e","target","value","placeholder","id","name","type","autocomplete","required","className","Password","prefix","iconRender","visible","EyeInvisibleOutlined","onClick","signin"],"mappings":"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","file":"static/js/22.7bfe1446.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LockOutlined = function LockOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\n\nLockOutlined.displayName = 'LockOutlined';\nexport default /*#__PURE__*/React.forwardRef(LockOutlined);","// This icon file is generated automatically.\nvar EyeTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\", \"fill\": primaryColor } }] }; }, \"name\": \"eye\", \"theme\": \"twotone\" };\nexport default EyeTwoTone;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeTwoToneSvg from \"@ant-design/icons-svg/es/asn/EyeTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeTwoTone = function EyeTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EyeTwoToneSvg\n  }));\n};\n\nEyeTwoTone.displayName = 'EyeTwoTone';\nexport default /*#__PURE__*/React.forwardRef(EyeTwoTone);","export default __webpack_public_path__ + \"static/media/logo.e7b12301.png\";","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Spin, Input, notification } from \"antd\";\r\nimport {\r\n  LockOutlined,\r\n  EyeInvisibleOutlined,\r\n  EyeTwoTone,\r\n} from \"@ant-design/icons\";\r\n\r\nimport logo from \"./logo.png\";\r\n\r\nconst Login = () => {\r\n  const history = useHistory();\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [toggle, setToggle] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const errorNotification = async () => {\r\n    const args = await {\r\n      message: \"Login Error\",\r\n      description: [error],\r\n      duration: 3,\r\n    };\r\n    await notification.open(args);\r\n  };\r\n\r\n  async function signin() {\r\n    try {\r\n      await fetch(`/api/v1/auth/login`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          email,\r\n          password,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then(async (data) => {\r\n          console.log(data);\r\n          if (!data.error && data.auth === true) {\r\n            localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n            setToggle(true);\r\n            setTimeout(() => {\r\n              history.push(\"/\");\r\n            }, 1000);\r\n          } else {\r\n            await setError(data.error)\r\n            // setLoading(false)\r\n            await errorNotification();\r\n\r\n          }\r\n        });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div class=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n        <Spin spinning={toggle}>\r\n          <div class=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n            <img\r\n              class=\"mx-auto h-24 w-auto\"\r\n              src={logo}\r\n              alt=\"logo hasnt loaded properly\"\r\n            />\r\n            <h2 class=\"mt-2 text-center text-3xl font-extrabold text-gray-900\">\r\n              Sign in to your account\r\n            </h2>\r\n          </div>\r\n\r\n          <div class=\"mt-4 sm:mx-auto sm:w-full sm:max-w-md\">\r\n            <div class=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n              <div class=\"space-y-6\">\r\n                <div>\r\n                  <label\r\n                    for=\"email\"\r\n                    class=\"block text-sm font-medium text-gray-700\"\r\n                  >\r\n                    Email address\r\n                  </label>\r\n                  <div class=\"mt-1\">\r\n                    <Input\r\n                      onChange={(e) => setEmail(e.target.value)}\r\n                      placeholder=\"Email\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      type=\"email\"\r\n                      autocomplete=\"email\"\r\n                      required\r\n                      className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label\r\n                    for=\"password\"\r\n                    class=\"block text-sm font-medium text-gray-700\"\r\n                  >\r\n                    Password\r\n                  </label>\r\n                  <div class=\"mt-1\">\r\n                    <Input.Password\r\n                      prefix={<LockOutlined />}\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      iconRender={(visible) =>\r\n                        visible ? <EyeTwoTone /> : <EyeInvisibleOutlined />\r\n                      }\r\n                      onChange={(e) => setPassword(e.target.value)}\r\n                      autocomplete=\"current-password\"\r\n                      required\r\n                      className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <button\r\n                    onClick={() => {\r\n                      setLoading(true);\r\n                      signin();\r\n                    }}\r\n                    className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n                  >\r\n                    Sign in\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Spin>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}