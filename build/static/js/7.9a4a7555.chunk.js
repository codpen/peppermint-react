(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{394:function(e,t,n){"use strict";n.r(t);var a=n(8),c=n.n(a),r=n(16),s=n(11),i=n(0),o=n(31),u=n(166),l=n.n(u),j=n(395),p=n(396),f=n(401),d=n(1);t.default=function(){var e=Object(i.useState)(),t=Object(s.a)(e,2),n=t[0],a=t[1],u=Object(i.useState)(),h=Object(s.a)(u,2),x=h[0],b=h[1],O=Object(i.useState)(),m=Object(s.a)(O,2),v=m[0],w=m[1],g=Object(i.useState)(0),y=Object(s.a)(g,2),N=y[0],k=y[1],S=Object(i.useState)([].reverse()),T=Object(s.a)(S,2),z=T[0],C=T[1],E=Object(o.f)();Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.connect("/");case 2:(t=e.sent).on("visitor enters",(function(e){return k({data:e})})),t.on("visitor exits",(function(e){return k({data:e})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.connect("/");case 2:e.sent.on("file",(function(e){return C({data:e})}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/token",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),!1!==e.auth)return console.log("logged in");E.push("/login")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var I=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/getallopen",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){b(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/getallcompleted",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){w(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/data/unallocatedTickets",{method:"get",headers:{Authorization:"Bearer "+localStorage.getItem("jwt"),ContentType:"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.result)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){I(),A(),B()}),[]),Object(d.jsx)("div",{children:Object(d.jsx)("main",{className:"relative z-0 overflow-y-auto focus:outline-none",tabindex:"0",children:Object(d.jsxs)("div",{className:"py-6",children:[Object(d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:Object(d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Dashboard"})}),Object(d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[Object(d.jsx)("div",{className:"py-4",children:Object(d.jsxs)("div",{className:"flex flex-row px-2 mx-auto justify-items-center ",children:[Object(d.jsx)("div",{className:"ml-1",children:Object(d.jsx)(j.a,{children:Object(d.jsx)(p.a,{title:"Closed Tickets",value:v})})}),Object(d.jsx)("div",{className:"ml-1",children:Object(d.jsx)(j.a,{children:Object(d.jsx)(p.a,{title:"Open Tickets",value:x})})}),Object(d.jsx)("div",{className:"ml-1",children:Object(d.jsx)(j.a,{children:Object(d.jsx)(p.a,{title:"Unissued Tickets",value:n})})}),Object(d.jsx)("div",{className:"ml-1",children:Object(d.jsx)(j.a,{children:Object(d.jsx)(p.a,{title:"Online Users",value:N.data})})})]})}),Object(d.jsxs)("div",{className:"flex py-1 px-3",children:[Object(d.jsx)("div",{className:"flex:1",children:Object(d.jsx)(f.b,{size:"small",bordered:!0,dataSource:z.data,pagination:{defaultPageSize:15,showSizeChanger:!0,pageSizeOptions:["15","30","40"]},renderItem:function(e){return Object(d.jsx)(f.b.Item,{children:e})}})}),Object(d.jsx)("div",{className:"flex:2 ml-5"})]})]})]})})})}}}]);
//# sourceMappingURL=7.9a4a7555.chunk.js.map