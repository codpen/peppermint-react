{"version":3,"sources":["components/newsletter/ViewNewsletter.js","components/newsletter/Edit.js","components/newsletter/Create.js","pages/admin/Newsletters.js"],"names":["ViewNewsletter","props","useState","visible","setVisible","onCancel","e","stopPropagation","console","log","destroyOnClose","keyboard","title","n","footer","onClick","text","createdBy","name","Edit","active","isActive","setIsActive","setTitle","setText","onClose","a","postData","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","id","_id","then","res","json","width","placement","toString","type","className","onChange","target","value","TextArea","defaultValue","rows","Group","buttonStyle","style","textAlign","Button","Create","setActive","createNewsletter","useContext","GlobalContext","Input","onCreate","xmlns","viewBox","fill","aria-hidden","fill-rule","d","clip-rule","okText","cancelText","onOk","for","class","placeholder","marginLeft","Newsletters","getNewsletter","newsletters","deleteNewsletter","useEffect","columns","dataIndex","key","render","record","tabindex","dataSource","pagination","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"+KA+BeA,EA5BQ,SAACC,GAAW,IAAD,EACFC,oBAAS,GADP,mBACzBC,EADyB,KAChBC,EADgB,KAG1BC,EAAW,SAACC,GAChBA,EAAEC,kBACFH,GAAW,IAKb,OAFAI,QAAQC,IAAIR,GAGV,8BACI,eAAC,IAAD,CACES,gBAAgB,EAChBC,UAAU,EACVR,QAASA,EACTS,MAAOX,EAAMY,EAAED,MACfP,SAAUA,EACVS,OAAQ,CAAC,cAAC,IAAD,CAAQC,QAASV,EAAjB,oBANX,UAQE,4BAAIJ,EAAMY,EAAEG,OACZ,cAAC,IAAD,IACA,0CAAaf,EAAMY,EAAEI,UAAUC,c,mDCqD1BC,EA3EF,SAAClB,GAAW,IAAD,EACQC,oBAAS,GADjB,mBACfC,EADe,KACNC,EADM,OAEUF,mBAASD,EAAMY,EAAEO,QAF3B,mBAEfC,EAFe,KAELC,EAFK,OAGIpB,mBAASD,EAAMY,EAAED,OAHrB,mBAGfA,EAHe,KAGRW,EAHQ,OAIErB,mBAASD,EAAMY,EAAEG,MAJnB,mBAIfA,EAJe,KAITQ,EAJS,KAMhBC,EAAO,uCAAG,WAAOnB,GAAP,SAAAoB,EAAA,6DACdpB,EAAEC,kBACFH,GAAW,GAFG,SAGRuB,IAHQ,2CAAH,sDAMPA,EAAQ,uCAAG,sBAAAD,EAAA,sEACTE,MAAM,4BAA6B,CACvCC,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAYC,aAAaC,QAAQ,QAElDC,KAAMC,KAAKC,UAAU,CACnBC,GAAIpC,EAAMY,EAAEyB,IACZtB,OACAJ,QACAQ,OAAQC,MAETkB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAbN,2CAAH,qDAgBd,OACE,8BACE,eAAC,IAAD,CAAQ1B,QAAS,kBAAMX,GAAW,IAAlC,iBAEE,eAAC,IAAD,CACEsC,MAAO,IACPC,UAAU,QACVlB,QAASA,EACTtB,QAASA,EAJX,UAME,2CAAcF,EAAMY,EAAEO,OAAOwB,cAC7B,+CAAkB3C,EAAMY,EAAEI,UAAUC,QACpC,cAAC,IAAD,IACA,yCACU,IACR,uBACE2B,KAAK,OACLC,UAAU,6GACVC,SAAU,SAACzC,GAAD,OAAOiB,EAASjB,EAAE0C,OAAOC,aAGvC,cAAC,IAAD,IACA,wCACA,cAAC,IAAMC,SAAP,CACEC,aAAclD,EAAMY,EAAEG,KACtBoC,KAAM,GACNL,SAAU,SAACzC,GAAD,OAAOkB,EAAQlB,EAAE0C,OAAOC,UAEpC,cAAC,IAAD,IACA,+EACA,cAAC,IAAMI,MAAP,CACEC,YAAY,QACZL,MAAO5B,EACP0B,SAAU,SAACzC,GAAD,OAAOgB,EAAYhB,EAAE0C,OAAOC,QACtCM,MAAO,CAAEC,UAAW,UAJtB,SAME,eAAC,IAAD,WACE,cAAC,IAAMC,OAAP,CAAcR,OAAO,EAArB,oBACA,cAAC,IAAMQ,OAAP,CAAcR,OAAO,EAArB,kC,iBCyBCS,EAzFA,WAAO,IAAD,EACWxD,oBAAS,GADpB,mBACZC,EADY,KACHC,EADG,OAEOF,qBAFP,mBAEZU,EAFY,KAELW,EAFK,OAGKrB,qBAHL,mBAGZc,EAHY,KAGNQ,EAHM,OAIStB,mBAAS,SAJlB,mBAIZkB,EAJY,KAIJuC,EAJI,KAMXC,EAAqBC,qBAAWC,KAAhCF,iBAEAV,EAAaa,IAAbb,SAEFc,EAAQ,uCAAG,sBAAAtC,EAAA,6DACftB,GAAW,GADI,SAETwD,EAAiBhD,EAAOI,EAAMI,GAFrB,2CAAH,qDASd,OACE,gCACE,wBACEL,QAAS,kBAAMX,GAAW,IAC1ByC,KAAK,SACLC,UAAU,kLAHZ,SAKE,qBACEA,UAAU,UACVmB,MAAM,6BACNC,QAAQ,YACRC,KAAK,eACLC,cAAY,OALd,SAOE,sBACEC,YAAU,UACVC,EAAE,wFACFC,YAAU,gBAIhB,eAAC,IAAD,CACEpE,QAASA,EACTS,MAAM,0BACN4D,OAAO,SACPC,WAAW,SACXpE,SA9BW,WACfD,GAAW,IA8BPsE,KAAMV,EANR,UAQE,qBAAKlB,UAAU,2CAAf,SACE,eAAC,IAAD,WACE,uBAAO6B,IAAI,QAAQC,MAAM,UAAzB,mBAGA,uBACE/B,KAAK,OACL3B,KAAK,QACLmB,GAAG,QACHS,UAAU,qGACV+B,YAAY,kCACZtB,MAAO,CAAEuB,YAAa,IACtB/B,SAAU,SAACzC,GAAD,OAAOiB,EAASjB,EAAE0C,OAAOC,eAIzC,8BACE,cAACC,EAAD,CACEE,KAAM,GACNN,UAAU,SACV+B,YAAY,mCACZ9B,SAAU,SAACzC,GAAD,OAAOkB,EAAQlB,EAAE0C,OAAOC,YAGtC,qBAAKH,UAAU,OAAf,SACE,cAAC,IAAMO,MAAP,CACEF,aAAc/B,EACd6B,MAAO7B,EACP2B,SAAU,SAACzC,GAAD,OAAOqD,EAAUrD,EAAE0C,OAAOC,QAHtC,SAKE,eAAC,IAAD,WACE,cAAC,IAAMQ,OAAP,CAAcR,MAAM,OAApB,oBACA,cAAC,IAAMQ,OAAP,CAAcR,MAAM,QAApB,kCCNC8B,UAtEK,WAAO,IAAD,EACiClB,qBACvDC,KADMkB,EADgB,EAChBA,cAAeC,EADC,EACDA,YAAaC,EADZ,EACYA,iBAIpCC,qBAAU,WACRH,MACC,IAEH,IAAMI,EAAU,CACd,CACExE,MAAO,QACPyE,UAAW,QACXC,IAAK,QACL5C,MAAO,OAET,CACE9B,MAAO,YACPyE,UAAW,CAAC,YAAa,QACzBC,IAAK,YACL5C,MAAO,OAET,CACE4C,IAAK,SACL5C,MAAO,MACP6C,OAAQ,SAACvE,EAAMwE,GAAP,OACN,eAAC,IAAD,WACE,cAAC,EAAD,CAAgB3E,EAAG2E,IACnB,cAAC,EAAD,CAAM3E,EAAG2E,IACT,cAAC,IAAD,CAAQzE,QAAS,kBAAMmE,EAAiBM,EAAOlD,MAA/C,0BAMR,OACE,8BACE,sBACEQ,UAAU,kDACV2C,SAAS,IAFX,SAIE,sBAAK3C,UAAU,OAAf,UACE,sBAAKA,UAAU,uDAAf,UACE,oBAAIA,UAAU,uCAAd,yBAGA,qBAAKA,UAAU,OAAf,SACE,cAAC,EAAD,SAGJ,qBAAKA,UAAU,yCAAf,SACE,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,CACEA,UAAU,aACV4C,WAAYT,EACZG,QAASA,EACTO,WAAY,CACVC,gBAAiB,GACjBC,iBAAiB,EACjBC,gBAAiB,CAAC,KAAM,KAAM","file":"static/js/8.c3347c0a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Divider, Modal } from \"antd\";\r\n\r\nconst ViewNewsletter = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const onCancel = (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n  };\r\n\r\n  console.log(props)\r\n\r\n  return (\r\n    <div>\r\n        <Modal\r\n          destroyOnClose={true}\r\n          keyboard={true}\r\n          visible={visible}\r\n          title={props.n.title}\r\n          onCancel={onCancel}\r\n          footer={[<Button onClick={onCancel}>Close</Button>]}\r\n        >\r\n          <p>{props.n.text}</p>\r\n          <Divider />\r\n          <p>Author : {props.n.createdBy.name}</p>\r\n        </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewNewsletter;","import React, { useState } from \"react\";\r\nimport { Drawer, Button, Divider, Input, Radio, Space } from \"antd\";\r\n\r\nconst Edit = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [isActive, setIsActive] = useState(props.n.active);\r\n  const [title, setTitle] = useState(props.n.title);\r\n  const [text, setText] = useState(props.n.text);\r\n\r\n  const onClose = async (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n    await postData();\r\n  };\r\n\r\n  const postData = async () => {\r\n    await fetch(`/api/v1/newsletter/update`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        id: props.n._id,\r\n        text,\r\n        title,\r\n        active: isActive,\r\n      }),\r\n    }).then((res) => res.json());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={() => setVisible(true)}>\r\n        Edit\r\n        <Drawer\r\n          width={640}\r\n          placement=\"right\"\r\n          onClose={onClose}\r\n          visible={visible}\r\n        >\r\n          <h4>Active : {props.n.active.toString()}</h4>\r\n          <h4>Created By : {props.n.createdBy.name}</h4>\r\n          <Divider />\r\n          <h4>\r\n            Title :{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </h4>\r\n          <Divider />\r\n          <h5>Detail</h5>\r\n          <Input.TextArea\r\n            defaultValue={props.n.text}\r\n            rows={10}\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n          <Divider />\r\n          <h5>Select the button below to change visability </h5>\r\n          <Radio.Group\r\n            buttonStyle=\"solid\"\r\n            value={isActive}\r\n            onChange={(e) => setIsActive(e.target.value)}\r\n            style={{ textAlign: \"center\" }}\r\n          >\r\n            <Space>\r\n              <Radio.Button value={true}>Active</Radio.Button>\r\n              <Radio.Button value={false}>Hidden</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n        </Drawer>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;","import React, { useState, useContext } from \"react\";\r\nimport { Modal, Input, Radio, Space, Row } from \"antd\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\n\r\nconst Create = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [title, setTitle] = useState();\r\n  const [text, setText] = useState();\r\n  const [active, setActive] = useState('false');\r\n\r\n  const { createNewsletter } = useContext(GlobalContext);\r\n\r\n  const { TextArea } = Input;\r\n\r\n  const onCreate = async () => {\r\n    setVisible(false);\r\n    await createNewsletter(title, text, active);\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setVisible(true)}\r\n        type=\"button\"\r\n        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n      >\r\n        <svg\r\n          className=\"h-5 w-5\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Create a new newsletter\"\r\n        okText=\"Create\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={onCreate}\r\n      >\r\n        <div className=\"m-4 p-2 flex justify-items-center w-full\">\r\n          <Row>\r\n            <label for=\"email\" class=\"sr-only\">\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"title\"\r\n              id=\"title\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 w-96 sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter newsletter tittle here...\"\r\n              style={{ marginLeft: -25 }}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </Row>\r\n        </div>\r\n        <div>\r\n          <TextArea\r\n            rows={15}\r\n            className=\"w-full\"\r\n            placeholder=\"Enter newsletter content here...\"\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='mt-4'>\r\n          <Radio.Group\r\n            defaultValue={active}\r\n            value={active}\r\n            onChange={(e) => setActive(e.target.value)}\r\n          >\r\n            <Space>\r\n              <Radio.Button value=\"true\">Active</Radio.Button>\r\n              <Radio.Button value=\"false\">Hidden</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { Table, Button, Space } from \"antd\";\r\n\r\nimport ViewNewsletter from \"../../components/newsletter/ViewNewsletter\";\r\nimport Edit from \"../../components/newsletter/Edit\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\nimport Create from \"../../components/newsletter/Create\";\r\n\r\nconst Newsletters = () => {\r\n  const { getNewsletter, newsletters, deleteNewsletter } = useContext(\r\n    GlobalContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    getNewsletter();\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      width: \"50%\",\r\n    },\r\n    {\r\n      title: \"CreatedBy\",\r\n      dataIndex: [\"createdBy\", \"name\"],\r\n      key: \"CreatedBy\",\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      key: \"action\",\r\n      width: \"25%\",\r\n      render: (text, record) => (\r\n        <Space>\r\n          <ViewNewsletter n={record} />\r\n          <Edit n={record} />\r\n          <Button onClick={() => deleteNewsletter(record._id)}>Delete</Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <main\r\n        className=\"relative z-0 overflow-y-auto focus:outline-none\"\r\n        tabindex=\"0\"\r\n      >\r\n        <div className=\"py-6\">\r\n          <div className=\"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <h1 className=\"text-2xl font-semibold text-gray-900\">\r\n              Newsletters\r\n            </h1>\r\n            <div className=\"ml-3\">\r\n              <Create />\r\n            </div>\r\n          </div>\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <div className=\"py-4\">\r\n              <Table\r\n                className=\"your-table\"\r\n                dataSource={newsletters}\r\n                columns={columns}\r\n                pagination={{\r\n                  defaultPageSize: 10,\r\n                  showSizeChanger: true,\r\n                  pageSizeOptions: [\"10\", \"20\", \"30\"],\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Newsletters;\r\n"],"sourceRoot":""}