{"version":3,"sources":["components/newsletter/ViewNewsletter.js","components/newsletter/Edit.js","components/newsletter/Create.js","pages/admin/Newsletters.js"],"names":["ViewNewsletter","props","useState","visible","setVisible","onCancel","e","stopPropagation","destroyOnClose","keyboard","title","n","footer","onClick","text","createdBy","name","Edit","active","isActive","setIsActive","setTitle","setText","onClose","a","postData","fetch","method","headers","body","JSON","stringify","id","then","res","json","width","placement","toString","firstName","type","defaultValue","className","onChange","target","value","TextArea","rows","Group","buttonStyle","style","textAlign","Button","Create","setActive","createNewsletter","useContext","GlobalContext","Input","onCreate","xmlns","viewBox","fill","aria-hidden","fill-rule","d","clip-rule","okText","cancelText","onOk","for","class","placeholder","marginLeft","Newsletters","getNewsletter","newsletters","deleteNewsletter","useEffect","columns","dataIndex","key","render","record","tabindex","dataSource","pagination","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"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","file":"static/js/8.c96ebce0.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Divider, Modal } from \"antd\";\n\nconst ViewNewsletter = (props) => {\n  const [visible, setVisible] = useState(false);\n\n  const onCancel = (e) => {\n    e.stopPropagation();\n    setVisible(false);\n  };\n\n  return (\n    <div>\n        <Modal\n          destroyOnClose={true}\n          keyboard={true}\n          visible={visible}\n          title={props.n.title}\n          onCancel={onCancel}\n          footer={[<Button onClick={onCancel}>Close</Button>]}\n        >\n          <p>{props.n.text}</p>\n          <Divider />\n          <p>Author : {props.n.createdBy ? props.n.createdBy.name : 'please reload'}</p>\n        </Modal>\n    </div>\n  );\n};\n\nexport default ViewNewsletter;","import React, { useState } from \"react\";\nimport { Drawer, Button, Divider, Input, Radio, Space } from \"antd\";\n\nconst Edit = (props) => {\n  const [visible, setVisible] = useState(false);\n  const [isActive, setIsActive] = useState(props.n.active);\n  const [title, setTitle] = useState(props.n.title);\n  const [text, setText] = useState(props.n.text);\n\n  const onClose = async (e) => {\n    e.stopPropagation();\n    setVisible(false);\n    await postData();\n  };\n\n  const postData = async () => {\n    await fetch(`/api/v1/newsletter/update`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        id: props.n.id,\n        text,\n        title,\n        active: isActive,\n      }),\n    }).then((res) => res.json());\n  };\n\n  return (\n    <div>\n      <Button onClick={() => setVisible(true)}>\n        Edit\n        <Drawer\n          width={640}\n          placement=\"right\"\n          onClose={onClose}\n          visible={visible}\n        >\n          <h4>Active : {props.n.active.toString()}</h4>\n          <h4>Created By : {props.n.createdBy ? props.n.createdBy.firstName : 'please reload'}</h4>\n          <Divider />\n          <h4>\n            Title :{\" \"}\n            <input\n              type=\"text\"\n              defaultValue={props.n.title}\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n              onChange={(e) => setTitle(e.target.value)}\n            />\n          </h4>\n          <Divider />\n          <h5>Detail</h5>\n          <Input.TextArea\n            defaultValue={props.n.text}\n            rows={10}\n            onChange={(e) => setText(e.target.value)}\n          />\n          <Divider />\n          <h5>Select the button below to change visability </h5>\n          <Radio.Group\n            buttonStyle=\"solid\"\n            value={isActive}\n            onChange={(e) => setIsActive(e.target.value)}\n            style={{ textAlign: \"center\" }}\n          >\n            <Space>\n              <Radio.Button value={true}>Active</Radio.Button>\n              <Radio.Button value={false}>Hidden</Radio.Button>\n            </Space>\n          </Radio.Group>\n        </Drawer>\n      </Button>\n    </div>\n  );\n};\n\nexport default Edit;","import React, { useState, useContext } from \"react\";\nimport { Modal, Input, Radio, Space, Row } from \"antd\";\n\nimport { GlobalContext } from \"../../Context/GlobalState\";\n\nconst Create = () => {\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState();\n  const [text, setText] = useState();\n  const [active, setActive] = useState('false');\n\n  const { createNewsletter } = useContext(GlobalContext);\n\n  const { TextArea } = Input;\n\n  const onCreate = async () => {\n    setVisible(false);\n    await createNewsletter(title, text, active);\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <div>\n      <button\n        onClick={() => setVisible(true)}\n        type=\"button\"\n        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n      >\n        <svg\n          className=\"h-5 w-5\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n          aria-hidden=\"true\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\n            clip-rule=\"evenodd\"\n          />\n        </svg>\n      </button>\n      <Modal\n        visible={visible}\n        title=\"Create a new newsletter\"\n        okText=\"Create\"\n        cancelText=\"Cancel\"\n        onCancel={onCancel}\n        onOk={onCreate}\n      >\n        <div className=\"m-4 p-2 flex justify-items-center w-full\">\n          <Row>\n            <label for=\"email\" class=\"sr-only\">\n              Email\n            </label>\n            <input\n              type=\"text\"\n              name=\"title\"\n              id=\"title\"\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 w-96 sm:text-sm border-gray-300 rounded-md\"\n              placeholder=\"Enter newsletter tittle here...\"\n              style={{ marginLeft: -25 }}\n              onChange={(e) => setTitle(e.target.value)}\n            />\n          </Row>\n        </div>\n        <div>\n          <TextArea\n            rows={15}\n            className=\"w-full\"\n            placeholder=\"Enter newsletter content here...\"\n            onChange={(e) => setText(e.target.value)}\n          />\n        </div>\n        <div className='mt-4'>\n          <Radio.Group\n            defaultValue={active}\n            value={active}\n            onChange={(e) => setActive(e.target.value)}\n          >\n            <Space>\n              <Radio.Button value=\"true\">Active</Radio.Button>\n              <Radio.Button value=\"false\">Hidden</Radio.Button>\n            </Space>\n          </Radio.Group>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Create;\n","import React, { useEffect, useContext } from \"react\";\nimport { Table, Button, Space } from \"antd\";\n\nimport ViewNewsletter from \"../../components/newsletter/ViewNewsletter\";\nimport Edit from \"../../components/newsletter/Edit\";\n\nimport { GlobalContext } from \"../../Context/GlobalState\";\nimport Create from \"../../components/newsletter/Create\";\n\nconst Newsletters = () => {\n  const { getNewsletter, newsletters, deleteNewsletter } = useContext(\n    GlobalContext\n  );\n\n  useEffect(() => {\n    getNewsletter();\n  }, []);\n\n  const columns = [\n    {\n      title: \"Title\",\n      dataIndex: \"title\",\n      key: \"title\",\n      width: \"50%\",\n    },\n    {\n      title: \"CreatedBy\",\n      dataIndex: [\"createdBy\", \"firstName\"],\n      key: \"CreatedBy\",\n      width: \"25%\",\n    },\n    {\n      key: \"action\",\n      width: \"25%\",\n      render: (text, record) => (\n        <Space>\n          <ViewNewsletter n={record} />\n          <Edit n={record} />\n          <Button onClick={() => deleteNewsletter(record.id)}>Delete</Button>\n        </Space>\n      ),\n    },\n  ];\n\n  return (\n    <div>\n      <main\n        className=\"relative z-0 overflow-y-auto focus:outline-none\"\n        tabindex=\"0\"\n      >\n        <div className=\"py-6\">\n          <div className=\"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n            <h1 className=\"text-2xl font-semibold text-gray-900\">\n              Newsletters\n            </h1>\n            <div className=\"ml-3\">\n              <Create />\n            </div>\n          </div>\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n            <div className=\"py-4\">\n              <Table\n                className=\"your-table\"\n                dataSource={newsletters}\n                columns={columns}\n                pagination={{\n                  defaultPageSize: 10,\n                  showSizeChanger: true,\n                  pageSizeOptions: [\"10\", \"20\", \"30\"],\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default Newsletters;\n"],"sourceRoot":""}