{"version":3,"sources":["hoc/CheckAuth.js"],"names":["CheckAuth","children","history","useHistory","useEffect","localStorage","getItem","push","a","fetch","method","headers","Accept","then","res","json","auth"],"mappings":"0JAmCeA,UAhCG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACbC,EAAUC,cA4BhB,OA1BAC,qBAAU,WAC6B,OAAjCC,aAAaC,QAAQ,SACvBJ,EAAQK,KAAK,aAIjBH,qBAAU,WAAM,4CACd,sBAAAI,EAAA,sEACQC,MAAM,qBAAsB,CAChCC,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAGTC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAAAC,IACa,IAAbA,EAAIE,MACNd,EAAQK,KAAK,aAXrB,4CADc,uBAAC,WAAD,wBAgBdS,KAEC,IAEI,8BAAMf","file":"static/js/20.03982846.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst CheckAuth = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"user\") === null) {\r\n      history.push(\"/login\");\r\n    } \r\n  });\r\n\r\n  useEffect(() => {\r\n    async function auth() {\r\n      await fetch(`/api/v1/auth/token`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then(res => {\r\n          if (res.auth === false) {\r\n            history.push(\"/login\");\r\n          } \r\n        });\r\n    }\r\n    auth();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return <div>{children}</div>;\r\n};\r\n\r\nexport default CheckAuth;\r\n"],"sourceRoot":""}