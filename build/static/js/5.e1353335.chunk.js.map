{"version":3,"sources":["../node_modules/antd/es/row/index.js","components/client/Update.js","components/client/Create.js","pages/admin/Client.js"],"names":["Row","Update","props","useState","visible","setVisible","client","name","clientName","setClientName","ContactName","setName","email","setEmail","number","setNumber","postData","a","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","id","_id","then","res","json","onCreate","e","stopPropagation","onClick","title","okText","cancelText","onCancel","onOk","className","type","defaultValue","onChange","target","value","contactName","Create","Form","useForm","form","setContactName","createClient","useContext","GlobalContext","xmlns","viewBox","fill","aria-hidden","fill-rule","d","clip-rule","centered","validateFields","values","resetFields","catch","info","console","log","layout","initialValues","modifier","Item","label","rules","required","message","placeholder","Client","history","useHistory","clients","getClients","useEffect","Accept","response","auth","push","deleteClient","columns","dataIndex","key","width","responsive","render","record","size","onConfirm","tabindex","dataSource","Pagenation","pagination","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"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","file":"static/js/5.e1353335.chunk.js","sourcesContent":["import { Row } from '../grid';\nexport default Row;","import React, { useState } from \"react\";\nimport { Modal, Button, Row } from \"antd\";\n\nconst Update = (props) => {\n  const [visible, setVisible] = useState(false);\n  const [clientName, setClientName] = useState(props.client.name);\n  const [name, setName] = useState(props.client.ContactName);\n  const [email, setEmail] = useState(props.client.email);\n  const [number, setNumber] = useState(props.client.number);\n\n  const postData = async () => {\n    await fetch(`/api/v1/client/update`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n      },\n      body: JSON.stringify({\n        id: props.client._id,\n        clientName,\n        name,\n        email,\n        number,\n      }),\n    }).then((res) => res.json);\n  };\n\n  const onCreate = async (e) => {\n    e.stopPropagation();\n    setVisible(false);\n    await postData();\n  };\n\n  const onCancel = (e) => {\n    e.stopPropagation();\n    setVisible(false);\n  };\n\n  return (\n    <div>\n      <Button\n        onClick={() => {\n          setVisible(true);\n        }}\n      >\n        Update\n        <Modal\n          visible={visible}\n          title=\"Edit a users info\"\n          okText=\"Update\"\n          cancelText=\"Cancel\"\n          onCancel={onCancel}\n          onOk={onCreate}\n        >\n          <Row className=\"m-2\">\n            <h5>\n              Edit Client Name :{\" \"}\n              <input\n                type=\"text\"\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                defaultValue={props.client.name}\n                onChange={(e) => setClientName(e.target.value)}\n              />\n            </h5>\n          </Row>\n          <Row className=\"m-2\">\n            <h5>\n              Edit Contact Name :{\" \"}\n              <input\n                type=\"text\"\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                defaultValue={props.client.contactName}\n                onChange={(e) => setName(e.target.value)}\n              />\n            </h5>\n          </Row>\n          <Row className=\"m-2\">\n            <h5>\n              Edit Contact Email :{\" \"}\n              <input\n                type=\"text\"\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                defaultValue={props.client.email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </h5>\n          </Row>\n          <Row className=\"m-2\">\n            <h5>\n              Edit Contact Number :{\" \"}\n              <input\n                type=\"text\"\n                className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n                defaultValue={props.client.number}\n                onChange={(e) => setNumber(e.target.value)}\n              />\n            </h5>\n          </Row>\n        </Modal>\n      </Button>\n    </div>\n  );\n};\n\nexport default Update;\n","import React, { useState, useContext } from \"react\";\nimport { Modal, Form } from \"antd\";\n\nimport { GlobalContext } from \"../../Context/GlobalState\";\n\nconst Create = () => {\n  const [visible, setVisible] = useState(false);\n  const [form] = Form.useForm();\n\n  const [number, setNumber] = useState(\"\");\n  const [contactName, setContactName] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const { createClient } = useContext(GlobalContext);\n\n  const onCreate = async () => {\n    setVisible(false);\n    await createClient(name, contactName, number, email);\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <div>\n      <button\n        onClick={() => setVisible(true)}\n        type=\"button\"\n        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n      >\n        <svg\n          className=\"h-5 w-5\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n          aria-hidden=\"true\"\n        >\n          <path\n            fill-rule=\"evenodd\"\n            d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\n            clip-rule=\"evenodd\"\n          />\n        </svg>\n      </button>\n      <Modal\n        centered\n        visible={visible}\n        title=\"Add a new client\"\n        okText=\"Create\"\n        cancelText=\"Cancel\"\n        onCancel={onCancel}\n        onOk={() => {\n          form\n            .validateFields()\n            .then((values) => {\n              form.resetFields();\n              onCreate(values);\n            })\n            .catch((info) => {\n              console.log(\"Validate Failed:\", info);\n            });\n        }}\n      >\n        <Form\n          form={form}\n          layout=\"vertical\"\n          name=\"form_in_modal\"\n          initialValues={{\n            modifier: \"public\",\n          }}\n        >\n          <Form.Item\n            name=\"name\"\n            label=\"Name\"\n            rules={[\n              {\n                required: true,\n                message: \"Please input the name of your new client!\",\n              },\n            ]}\n          >\n            <input\n              type=\"text\"\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n              placeholder=\"Enter name here...\"\n              name=\"name\"\n              onChange={(e) => setName(e.target.value)}\n            />\n          </Form.Item>\n          <Form.Item name=\"contact name\" label=\"Contact Name\">\n            <input\n              type=\"text\"\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n              placeholder=\"Enter  here....\"\n              onChange={(e) => setContactName(e.target.value)}\n            />\n          </Form.Item>\n          <Form.Item name=\"number\" label=\"Contact Number\">\n            <input\n              type=\"text\"\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n              placeholder=\"Enter number here...\"\n              onChange={(e) => setNumber(e.target.value)}\n            />\n          </Form.Item>\n          <Form.Item name=\"email\" label=\"Contact Email\">\n            <input\n              type=\"text\"\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\n              placeholder=\"Enter email address here...\"\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Create;\n","import React, { useEffect, useContext } from \"react\";\nimport { Table, Space, Button, Popconfirm } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { GlobalContext } from \"../../Context/GlobalState\";\n\nimport Update from '../../components/client/Update'\nimport Create from '../../components/client/Create'\n\n\nconst Client = () => {\n  const history = useHistory();\n  const { clients, getClients } = useContext(GlobalContext);\n\n  useEffect(() => {\n    async function auth() {\n      await fetch(`/api/v1/auth/token`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          const res = response;\n          if (res.auth === false) {\n            history.push(\"/login\");\n          } else {\n            return console.log(\"logged in\");\n          }\n        });\n    }\n    auth();\n    // eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    getClients();\n    // eslint-disable-next-line\n  }, []);\n\n  const deleteClient = async (client) => {\n    const id = client._id;\n    try {\n      await fetch(`/api/v1/client/delete/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n      }).then((response) => response.json());\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const columns = [\n    {\n      title: \"Client Name\",\n      dataIndex: \"name\",\n      key: \"name\",\n      width: 150,\n    },\n    {\n      title: \"Contact Name\",\n      dataIndex: \"contactName\",\n      key: \"contactName\",\n      width: 150,\n      responsive: [\"md\"],\n    },\n    {\n      title: \"Contact Email\",\n      dataIndex: \"email\",\n      key: \"email\",\n      width: 50,\n      responsive: [\"md\"],\n    },\n    {\n      title: \"Contact Number\",\n      dataIndex: \"number\",\n      key: \"number\",\n      width: 75,\n    },\n    {\n      key: \"action\",\n      responsive: [\"md\"],\n      width: 200,\n      render: (record) => (\n        <Space size=\"middle\">\n            <Update client={record} />\n          <Popconfirm\n            title=\"Are you sure you want to delete?\"\n            onConfirm={() => deleteClient(record)}\n          >\n            <Button>Delete</Button>\n          </Popconfirm>\n        </Space>\n      ),\n    },\n  ];\n\n  return (\n    <div>\n      <main\n        className=\"relative z-0 overflow-y-auto focus:outline-none\"\n        tabindex=\"0\"\n      >\n        <div className=\"py-6\">\n          <div className=\"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n            <h1 className=\"text-2xl font-semibold text-gray-900\">Clients</h1>\n            <div className=\"ml-3\">\n                <Create />\n              </div>\n          </div>\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\n            <div className=\"py-4\">\n              <Table\n                dataSource={clients}\n                columns={columns}\n                Pagenation={false}\n                pagination={{\n                  defaultPageSize: 10,\n                  showSizeChanger: true,\n                  pageSizeOptions: [\"10\", \"20\", \"30\"],\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default Client;\n"],"sourceRoot":""}