(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[18],{359:function(e,t,s){"use strict";t.a=s.p+"static/media/server_down.532ea75d.svg"},412:function(e,t,s){"use strict";s.r(t);var c=s(3),a=s.n(c),i=s(6),n=s(57),r=s(0),l=s(61),x=s(423),d=s(371),m=s(359),p=s(5),o=function(e){return Object(p.jsx)("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10",children:Object(p.jsx)("div",{className:"flex flex-col",children:Object(p.jsx)("div",{className:" overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(p.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(p.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(p.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(p.jsx)("thead",{className:"bg-gray-50",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Id"}),Object(p.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(p.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),Object(p.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),Object(p.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue"}),Object(p.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Engineer"}),Object(p.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(p.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(p.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(p.jsx)("tbody",{children:e.tickets.map((function(e){var t,s=e.priority;return"Low"===s&&(t="bg-blue-100 text-blue-800"),"Normal"===s&&(t="bg-green-100 text-green-800"),"High"===s&&(t="bg-red-100 text-red-800"),Object(p.jsxs)("tr",{className:"bg-white",children:[Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.client.name}),Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(p.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t),children:e.priority})}),Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.issue}),Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.assignedTo?e.assignedTo.firstName+" "+e.assignedTo.lastName:"not assigned"}),Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.isComplete?"Completed":"Issued"}),Object(p.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(p.jsx)(l.b,{to:{pathname:"tickets/".concat(e.id),state:e},className:"text-indigo-600 hover:text-indigo-900",children:"view"})})]},e.id)}))})]})})})})})})},j=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),s=t[0],c=t[1];function x(){return(x=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/all",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.tickets)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]);return Object(p.jsx)("div",{className:"overflow-x-auto md:-mx-6 lg:-mx-8 mt-10",children:Object(p.jsx)("div",{className:"py-2 align-middle inline-block min-w-full md:px-6 lg:px-8",children:Object(p.jsx)("div",{className:"overflow-hidden md:rounded-lg",children:s.map((function(e){var t,s=e.priority;return"Low"===s&&(t="bg-blue-100 text-blue-800"),"normal"===s&&(t="bg-green-100 text-green-800"),"High"===s&&(t="bg-red-100 text-red-800"),Object(p.jsx)("div",{className:"flex justify-start",children:Object(p.jsx)("div",{className:"w-full mb-2 border",children:Object(p.jsxs)("div",{className:"px-4 py-4",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"font-semibold leading-tight text-2xl text-gray-800 hover:text-gray-800 ml-1",children:e.name}),Object(p.jsxs)("p",{className:" px-2",children:["Client: ",e.client.name]})]}),Object(p.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 m-1 rounded-full text-xs font-medium ".concat(t),children:e.priority}),Object(p.jsx)("p",{className:"text-gray-900 m-2",children:e.issue}),Object(p.jsx)("div",{className:"text-gray-700 text-sm font-bold p-2 m-2",children:Object(p.jsx)(l.b,{to:{pathname:"tickets/".concat(e._id),state:e},className:"float-right",children:"View Full Ticket"})})]})})},e.id)}))})})})},h=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/all");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.default=function(){var e=Object(x.a)("fetchAllTickets",h),t=e.data,s=e.status;return Object(p.jsxs)("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10 flex flex-col",children:[Object(p.jsx)("div",{className:"sm:px-6 md:px-8 ml-2",children:Object(p.jsx)("div",{className:"flex flex-row",children:Object(p.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"History"})})}),Object(p.jsxs)("div",{className:"flex flex-col",children:["loading"===s&&Object(p.jsxs)("div",{className:"min-h-screen flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[Object(p.jsx)("h2",{children:" Loading data ... "}),Object(p.jsx)(d.a,{})]}),"error"===s&&Object(p.jsxs)("div",{className:"min-h-screen flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[Object(p.jsx)("h2",{className:"text-2xl font-bold",children:" Error fetching data ... "}),Object(p.jsx)("img",{src:m.a,className:"h-96 w-96",alt:"error"})]}),"success"===s&&Object(p.jsx)("div",{children:0===t.tickets.length?Object(p.jsx)("div",{className:"min-h-screen flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:Object(p.jsx)("p",{children:"No tickets have been created"})}):Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"hidden sm:block",children:Object(p.jsx)(o,{tickets:t.tickets})}),Object(p.jsx)("div",{className:"sm:hidden",children:Object(p.jsx)(j,{tickets:t.tickets})})]},t.tickets.id)})]})]})}}}]);
//# sourceMappingURL=18.c49961d8.chunk.js.map