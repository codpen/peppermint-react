{"version":3,"sources":["components/newsletter/ViewNewsletter.js","components/newsletter/Edit.js","components/newsletter/Create.js","pages/admin/Newsletters.js"],"names":["ViewNewsletter","props","useState","visible","setVisible","onCancel","e","stopPropagation","destroyOnClose","keyboard","title","n","footer","onClick","text","createdBy","name","Edit","active","isActive","setIsActive","setTitle","setText","onClose","a","postData","fetch","method","headers","body","JSON","stringify","id","then","res","json","width","placement","toString","firstName","type","defaultValue","className","onChange","target","value","TextArea","rows","Group","buttonStyle","style","textAlign","Button","Create","setActive","createNewsletter","useContext","GlobalContext","Input","onCreate","xmlns","viewBox","fill","aria-hidden","fill-rule","d","clip-rule","okText","cancelText","onOk","for","class","placeholder","marginLeft","Newsletters","getNewsletter","newsletters","deleteNewsletter","useEffect","columns","dataIndex","key","render","record","tabindex","dataSource","pagination","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"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","file":"static/js/8.5c753af6.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Divider, Modal } from \"antd\";\r\n\r\nconst ViewNewsletter = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const onCancel = (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n        <Modal\r\n          destroyOnClose={true}\r\n          keyboard={true}\r\n          visible={visible}\r\n          title={props.n.title}\r\n          onCancel={onCancel}\r\n          footer={[<Button onClick={onCancel}>Close</Button>]}\r\n        >\r\n          <p>{props.n.text}</p>\r\n          <Divider />\r\n          <p>Author : {props.n.createdBy ? props.n.createdBy.name : 'please reload'}</p>\r\n        </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewNewsletter;","import React, { useState } from \"react\";\r\nimport { Drawer, Button, Divider, Input, Radio, Space } from \"antd\";\r\n\r\nconst Edit = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [isActive, setIsActive] = useState(props.n.active);\r\n  const [title, setTitle] = useState(props.n.title);\r\n  const [text, setText] = useState(props.n.text);\r\n\r\n  const onClose = async (e) => {\r\n    e.stopPropagation();\r\n    setVisible(false);\r\n    await postData();\r\n  };\r\n\r\n  const postData = async () => {\r\n    await fetch(`/api/v1/newsletter/update`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        id: props.n.id,\r\n        text,\r\n        title,\r\n        active: isActive,\r\n      }),\r\n    }).then((res) => res.json());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button onClick={() => setVisible(true)}>\r\n        Edit\r\n        <Drawer\r\n          width={640}\r\n          placement=\"right\"\r\n          onClose={onClose}\r\n          visible={visible}\r\n        >\r\n          <h4>Active : {props.n.active.toString()}</h4>\r\n          <h4>Created By : {props.n.createdBy ? props.n.createdBy.firstName : 'please reload'}</h4>\r\n          <Divider />\r\n          <h4>\r\n            Title :{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              defaultValue={props.n.title}\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </h4>\r\n          <Divider />\r\n          <h5>Detail</h5>\r\n          <Input.TextArea\r\n            defaultValue={props.n.text}\r\n            rows={10}\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n          <Divider />\r\n          <h5>Select the button below to change visability </h5>\r\n          <Radio.Group\r\n            buttonStyle=\"solid\"\r\n            value={isActive}\r\n            onChange={(e) => setIsActive(e.target.value)}\r\n            style={{ textAlign: \"center\" }}\r\n          >\r\n            <Space>\r\n              <Radio.Button value={true}>Active</Radio.Button>\r\n              <Radio.Button value={false}>Hidden</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n        </Drawer>\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;","import React, { useState, useContext } from \"react\";\r\nimport { Modal, Input, Radio, Space, Row } from \"antd\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\n\r\nconst Create = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [title, setTitle] = useState();\r\n  const [text, setText] = useState();\r\n  const [active, setActive] = useState('false');\r\n\r\n  const { createNewsletter } = useContext(GlobalContext);\r\n\r\n  const { TextArea } = Input;\r\n\r\n  const onCreate = async () => {\r\n    setVisible(false);\r\n    await createNewsletter(title, text, active);\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setVisible(true)}\r\n        type=\"button\"\r\n        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n      >\r\n        <svg\r\n          className=\"h-5 w-5\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Create a new newsletter\"\r\n        okText=\"Create\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={onCreate}\r\n      >\r\n        <div className=\"m-4 p-2 flex justify-items-center w-full\">\r\n          <Row>\r\n            <label for=\"email\" class=\"sr-only\">\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"title\"\r\n              id=\"title\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 w-96 sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter newsletter tittle here...\"\r\n              style={{ marginLeft: -25 }}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n          </Row>\r\n        </div>\r\n        <div>\r\n          <TextArea\r\n            rows={15}\r\n            className=\"w-full\"\r\n            placeholder=\"Enter newsletter content here...\"\r\n            onChange={(e) => setText(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='mt-4'>\r\n          <Radio.Group\r\n            defaultValue={active}\r\n            value={active}\r\n            onChange={(e) => setActive(e.target.value)}\r\n          >\r\n            <Space>\r\n              <Radio.Button value=\"true\">Active</Radio.Button>\r\n              <Radio.Button value=\"false\">Hidden</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { Table, Button, Space } from \"antd\";\r\n\r\nimport ViewNewsletter from \"../../components/newsletter/ViewNewsletter\";\r\nimport Edit from \"../../components/newsletter/Edit\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\nimport Create from \"../../components/newsletter/Create\";\r\n\r\nconst Newsletters = () => {\r\n  const { getNewsletter, newsletters, deleteNewsletter } = useContext(\r\n    GlobalContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    getNewsletter();\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      width: \"50%\",\r\n    },\r\n    {\r\n      title: \"CreatedBy\",\r\n      dataIndex: [\"createdBy\", \"firstName\"],\r\n      key: \"CreatedBy\",\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      key: \"action\",\r\n      width: \"25%\",\r\n      render: (text, record) => (\r\n        <Space>\r\n          <ViewNewsletter n={record} />\r\n          <Edit n={record} />\r\n          <Button onClick={() => deleteNewsletter(record.id)}>Delete</Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <main\r\n        className=\"relative z-0 overflow-y-auto focus:outline-none\"\r\n        tabindex=\"0\"\r\n      >\r\n        <div className=\"py-6\">\r\n          <div className=\"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <h1 className=\"text-2xl font-semibold text-gray-900\">\r\n              Newsletters\r\n            </h1>\r\n            <div className=\"ml-3\">\r\n              <Create />\r\n            </div>\r\n          </div>\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n            <div className=\"py-4\">\r\n              <Table\r\n                className=\"your-table\"\r\n                dataSource={newsletters}\r\n                columns={columns}\r\n                pagination={{\r\n                  defaultPageSize: 10,\r\n                  showSizeChanger: true,\r\n                  pageSizeOptions: [\"10\", \"20\", \"30\"],\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Newsletters;\r\n"],"sourceRoot":""}