{"version":3,"sources":["assets/server_down.svg","components/ticket/Open.js","pages/Tickets.js"],"names":["fetchTickets","a","fetch","res","json","Table","props","className","scope","tickets","map","ticket","badge","p","priority","id","name","client","issue","to","pathname","state","Card","Open","useQuery","data","status","console","log","src","server","alt","length","Tickets"],"mappings":"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","file":"static/js/19.1205d257.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/server_down.532ea75d.svg\";","import { Link } from \"react-router-dom\";\r\nimport { useQuery } from \"react-query\";\r\nimport { Ellipsis } from \"react-awesome-spinners\";\r\n\r\nimport server from '../../assets/server_down.svg'\r\n\r\n\r\nconst fetchTickets = async () => {\r\n  const res = await fetch(\"/api/v1/tickets/openedTickets\");\r\n  return res.json();\r\n};\r\n\r\nconst Table = (props) => {\r\n  const high = \"bg-red-100 text-red-800\";\r\n  const low = \"bg-blue-100 text-blue-800\";\r\n  const normal = \"bg-green-100 text-green-800\";\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto md:-mx-6 lg:-mx-8\">\r\n      <div className=\"py-2 align-middle inline-block min-w-full md:px-6 lg:px-8\">\r\n        <div className=\"shadow overflow-hidden border-b border-gray-200 md:rounded-lg\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th\r\n                  scope=\"col\"\r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  ID\r\n                </th>\r\n                <th\r\n                  scope=\"col\"\r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Name\r\n                </th>\r\n                <th\r\n                  scope=\"col\"\r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Client\r\n                </th>\r\n                <th\r\n                  scope=\"col\"\r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Priority\r\n                </th>\r\n                <th\r\n                  scope=\"col\"\r\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\r\n                >\r\n                  Issue\r\n                </th>\r\n                <th scope=\"col\" className=\"relative px-6 py-3\">\r\n                  <span className=\"sr-only\">Edit</span>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {props.tickets.map((ticket) => {\r\n                let p = ticket.priority;\r\n                let badge;\r\n\r\n                if (p === \"Low\") {\r\n                  badge = low;\r\n                }\r\n                if (p === \"Normal\") {\r\n                  badge = normal;\r\n                }\r\n                if (p === \"High\") {\r\n                  badge = high;\r\n                }\r\n\r\n                return (\r\n                  <tr className=\"bg-white\" key={ticket.id}>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {ticket.id}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                      {ticket.name}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {ticket.client.name}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      <span\r\n                        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${badge}`}\r\n                      >\r\n                        {ticket.priority}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                      {ticket.issue}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                      <Link\r\n                        to={{\r\n                          pathname: `tickets/${ticket.id}`,\r\n                          state: ticket,\r\n                        }}\r\n                        className=\"text-indigo-600 hover:text-indigo-900\"\r\n                      >\r\n                        view\r\n                      </Link>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Card = (props) => {\r\n  const high = \"bg-red-100 text-red-800\";\r\n  const low = \"bg-blue-100 text-blue-800\";\r\n  const normal = \"bg-green-100 text-green-800\";\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto md:-mx-6 lg:-mx-8 mt-10\">\r\n      <div className=\"py-2 align-middle inline-block min-w-full md:px-6 lg:px-8\">\r\n        <div className=\"overflow-hidden md:rounded-lg\">\r\n          {props.tickets.map((ticket) => {\r\n            let p = ticket.priority;\r\n            let badge;\r\n\r\n            if (p === \"Low\") {\r\n              badge = low;\r\n            }\r\n            if (p === \"Normal\") {\r\n              badge = normal;\r\n            }\r\n            if (p === \"High\") {\r\n              badge = high;\r\n            }\r\n\r\n            return (\r\n              <div className=\"flex justify-start\" key={ticket.id}>\r\n                <div className=\"w-full mb-2 border\">\r\n                  <div className=\"px-4 py-4\">\r\n                    <div>\r\n                      <h1 className=\"font-semibold leading-tight text-2xl text-gray-800 hover:text-gray-800 ml-1\">\r\n                        {ticket.name}\r\n                      </h1>\r\n                      <p className=\" px-2\">Client: {ticket.client.name}</p>\r\n                    </div>\r\n                    <span\r\n                      className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${badge}`}\r\n                    >\r\n                      {ticket.priority}\r\n                    </span>\r\n                    <p className=\"text-gray-900 m-2\">{ticket.issue}</p>\r\n                    <div className=\"text-gray-700 text-sm font-bold p-2 m-2\">\r\n                      <Link\r\n                        to={{\r\n                          pathname: `tickets/${ticket.id}`,\r\n                          state: ticket,\r\n                        }}\r\n                        className=\"float-right\"\r\n                      >\r\n                        View Full Ticket\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Open = () => {\r\n  const { data, status } = useQuery(\"fetchTickets\", fetchTickets);\r\n\r\n  console.log(data);\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      {status === \"loading\" && (\r\n        <div className=\"min-h-screen flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8\">\r\n          <h2> Loading data ... </h2>\r\n          <Ellipsis />\r\n        </div>\r\n      )}\r\n\r\n      {status === \"error\" && (\r\n        <div className=\"min-h-screen flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8\">\r\n          <h2 className=\"text-2xl font-bold\"> Error fetching data ... </h2>\r\n          <img src={server} className=\"h-96 w-96\" alt=\"error\" />\r\n        </div>\r\n      )}\r\n\r\n      {status === \"success\" && (\r\n        <div>\r\n          {data.tickets.length === 0 ? (\r\n            <div className=\"min-h-screen flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8\">\r\n              <p>No tickets have been created</p>\r\n            </div>\r\n          ) : (\r\n            <div key={data.tickets.id}>\r\n              <div className=\"hidden sm:block\">\r\n                <Table tickets={data.tickets} />\r\n              </div>\r\n              <div className=\"sm:hidden\">\r\n                <Card tickets={data.tickets} />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Open;\r\n","import React from \"react\";\r\nimport Open from \"../components/ticket/Open\";\r\n\r\nconst Tickets = () => {\r\n  return (\r\n    <div className=\"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10 flex flex-col\">\r\n      <div className=\"sm:px-6 md:px-8 ml-2\">\r\n        <div className=\"flex flex-row\">\r\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Open Ticket</h1>\r\n        </div>\r\n      </div>\r\n     <div>\r\n       <Open />\r\n     </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tickets;\r\n"],"sourceRoot":""}