{"version":3,"sources":["../node_modules/antd/es/row/index.js","components/users/Edit.js","components/users/Reset.js","components/users/Create.js","pages/admin/Auth.js"],"names":["Row","Edit","props","useState","user","firstName","setFirstName","lastName","setLastName","email","setEmail","isAdmin","role","setRole","visible","setVisible","postData","a","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","id","then","res","json","onCreate","toString","toLowerCase","onClick","title","okText","cancelText","onCancel","onOk","className","type","defaultValue","onChange","e","target","value","Group","buttonStyle","Button","Reset","_id","password","setPassword","f","failed","message","success","error","placeholder","Create","Form","useForm","form","createUser","useContext","GlobalContext","values","xmlns","viewBox","fill","aria-hidden","fill-rule","d","clip-rule","centered","validateFields","resetFields","catch","info","console","log","layout","name","initialValues","modifier","Item","label","rules","required","Auth","history","useHistory","users","getUsers","useEffect","Accept","response","auth","push","deleteClient","client","columns","dataIndex","key","responsive","render","text","record","size","onConfirm","tabindex","dataSource","pagination","defaultPageSize","showSizeChanger","pageSizeOptions"],"mappings":"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","file":"static/js/4.bbd18b5f.chunk.js","sourcesContent":["import { Row } from '../grid';\nexport default Row;","import React, { useState } from \"react\";\r\nimport { Modal, Space, Radio, Row, Button } from \"antd\";\r\n\r\nconst Edit = (props) => {\r\n  // eslint-disable-next-line\r\n  const [user, setUsers] = useState(props.user);\r\n  const [firstName, setFirstName] = useState(props.user.firstName);\r\n  const [lastName, setLastName] = useState(props.user.lastName);\r\n  const [email, setEmail] = useState(props.user.email);\r\n  const [role, setRole] = useState(props.user.isAdmin);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const postData = async () => {\r\n    await fetch(`/api/v1/auth/edit`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        id: user.id,\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        role,\r\n      }),\r\n    }).then((res) => res.json);\r\n  };\r\n\r\n  const onCreate = async () => {\r\n    setVisible(false);\r\n    email.toString(email);\r\n    email.toLowerCase();\r\n    await postData();\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          setVisible(true);\r\n        }}\r\n      >\r\n        Edit User info & Role\r\n      </Button>\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Edit a users info\"\r\n        okText=\"Update\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={onCreate}\r\n      >\r\n        <Row>\r\n          <h5>\r\n            Edit Name :{\" \"}\r\n            <div className=\"flex flex-row\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              defaultValue={user.firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"ml-2 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              defaultValue={user.lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n            />\r\n            </div>\r\n          </h5>\r\n        </Row>\r\n        <Row>\r\n          <h5>\r\n            Edit Email :{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              defaultValue={user.email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </h5>\r\n        </Row>\r\n          <h5>Edit Role : </h5>\r\n          <Radio.Group\r\n            buttonStyle=\"solid\"\r\n            defaultValue={user.isAdmin}\r\n            onChange={(e) => setRole(e.target.value)}\r\n          >\r\n            <Space>\r\n              <Radio.Button value={false}>User</Radio.Button>\r\n              <Radio.Button value={true}>Admin</Radio.Button>\r\n            </Space>\r\n          </Radio.Group>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, Button, message } from \"antd\";\r\n\r\nconst Reset = (props) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [user, setUser] = useState(props.user._id);\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const success = () => {\r\n    message.success(\"Password updated\");\r\n  };\r\n\r\n  const fail = (f) => {\r\n    message.error(`${f}`);\r\n  };\r\n\r\n  const postData = async () => {\r\n    const id = user;\r\n    await fetch(`/api/v1/auth/resetPassword/${id}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n      },\r\n      body: JSON.stringify({\r\n        password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (res.failed === false) {\r\n          success();\r\n        } else {\r\n          fail(res.message);\r\n        }\r\n      });\r\n  };\r\n\r\n  const onCreate = async () => {\r\n    setVisible(false);\r\n    await postData();\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={() => {\r\n          setVisible(true);\r\n        }}\r\n      >\r\n        Reset password\r\n      </Button>\r\n      <Modal\r\n        visible={visible}\r\n        title=\"Reset users password\"\r\n        okText=\"Update\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={onCreate}\r\n      >\r\n        <input\r\n          type=\"password\"\r\n          className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Enter users new password\"\r\n        />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reset;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Modal, Form, Radio } from \"antd\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\n\r\nconst Create = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [form] = Form.useForm();\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n\r\n  const { createUser } = useContext(GlobalContext);\r\n\r\n  const onCreate = async (values) => {\r\n    setVisible(false);\r\n    await createUser(firstName, lastName, email, password);\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setVisible(true)}\r\n        type=\"button\"\r\n        className=\"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n      >\r\n        <svg\r\n          className=\"h-5 w-5\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 20 20\"\r\n          fill=\"currentColor\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <path\r\n            fill-rule=\"evenodd\"\r\n            d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\"\r\n            clip-rule=\"evenodd\"\r\n          />\r\n        </svg>\r\n      </button>\r\n      <Modal\r\n        centered\r\n        visible={visible}\r\n        title=\"Create a new user\"\r\n        okText=\"Create\"\r\n        cancelText=\"Cancel\"\r\n        onCancel={onCancel}\r\n        onOk={() => {\r\n          form\r\n            .validateFields()\r\n            .then((values) => {\r\n              form.resetFields();\r\n              onCreate(values);\r\n            })\r\n            .catch((info) => {\r\n              console.log(\"Validate Failed:\", info);\r\n            });\r\n        }}\r\n      >\r\n        <Form\r\n          form={form}\r\n          layout=\"vertical\"\r\n          name=\"form_in_modal\"\r\n          initialValues={{\r\n            modifier: \"public\",\r\n          }}\r\n        >\r\n          <Form.Item\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"Please input the name of your new user!\",\r\n              },\r\n            ]}\r\n          >\r\n            <div className=\"flex flex-row\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-1/2 sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter first name here...\"\r\n              name=\"name\"\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className=\"ml-2 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-1/2 sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter last name here...\"\r\n              name=\"name\"\r\n              onChange={(e) => setLastName(e.target.value)}\r\n            />\r\n            </div>\r\n          </Form.Item>\r\n          <Form.Item name=\"email\" label=\"Email\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter email here....\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item name=\"password\" label=\"Password\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md\"\r\n              placeholder=\"Enter password here...\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"modifier\"\r\n            className=\"collection-create-form_last-form-item\"\r\n          >\r\n            <Radio.Group>\r\n              <Radio value=\"user\">User</Radio>\r\n              <Radio value=\"admin\">Admin</Radio>\r\n            </Radio.Group>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useContext } from \"react\";\r\nimport { Space, Table, Button, Popconfirm } from \"antd\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { GlobalContext } from \"../../Context/GlobalState\";\r\n\r\nimport Edit from \"../../components/users/Edit\";\r\nimport Reset from \"../../components/users/Reset\";\r\nimport Create from \"../../components/users/Create\";\r\n\r\nconst Auth = () => {\r\n  const history = useHistory();\r\n  const { users, getUsers } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function auth() {\r\n      await fetch(`/api/v1/auth/token`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((response) => {\r\n          console.log(response);\r\n          const res = response;\r\n          if (res.auth === false) {\r\n            history.push(\"/login\");\r\n          } else {\r\n            return console.log(\"logged in\");\r\n          }\r\n        });\r\n    }\r\n    auth();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const deleteClient = async (client) => {\r\n    const id = client.id;\r\n    try {\r\n      await fetch(`/api/v1/auth/delete/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      }).then((response) => response.json());\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"firstName\",\r\n      key: \"name\",\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"email\",\r\n      key: \"email\",\r\n    },\r\n    {\r\n      key: \"action\",\r\n      responsive: [\"md\"],\r\n      render: (text, record) => (\r\n        <Space size=\"middle\">\r\n            <Edit user={record} />\r\n          <Popconfirm\r\n            title=\"Are you sure you want to delete?\"\r\n            onConfirm={() => deleteClient(record)}\r\n          >\r\n            <Button>Delete</Button>\r\n          </Popconfirm>\r\n          <Reset user={record} />\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <main\r\n          className=\"relative z-0 overflow-y-auto focus:outline-none\"\r\n          tabindex=\"0\"\r\n        >\r\n          <div className=\"py-6\">\r\n            <div className=\"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n              <h1 className=\"text-2xl font-semibold text-gray-900\">\r\n              Internal Users\r\n              </h1>\r\n              <div className=\"ml-3\">\r\n                <Create />\r\n              </div>\r\n            </div>\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n              <div className=\"py-4\">\r\n                <Table\r\n                  dataSource={users}\r\n                  columns={columns}\r\n                  pagination={{\r\n                    defaultPageSize: 10,\r\n                    showSizeChanger: true,\r\n                    pageSizeOptions: [\"10\", \"20\", \"30\"],\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n"],"sourceRoot":""}