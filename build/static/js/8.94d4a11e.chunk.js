(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{397:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(364),r=n(37),i=n(358),s=n(10),l=n(361),o=n(357),j=n(1),u=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),a=n[0],i=n[1],u=function(e){e.stopPropagation(),i(!1)};return console.log(e),Object(j.jsx)("div",{children:Object(j.jsxs)(l.a,{destroyOnClose:!0,keyboard:!0,visible:a,title:e.n.title,onCancel:u,footer:[Object(j.jsx)(r.a,{onClick:u,children:"Close"})],children:[Object(j.jsx)("p",{children:e.n.text}),Object(j.jsx)(o.a,{}),Object(j.jsxs)("p",{children:["Author : ",e.n.createdBy.name]})]})})},d=n(8),b=n.n(d),x=n(16),h=n(396),O=n(362),f=n(140),v=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),i=n[0],l=n[1],u=Object(c.useState)(e.n.active),d=Object(s.a)(u,2),v=d[0],p=d[1],w=Object(c.useState)(e.n.title),g=Object(s.a)(w,2),m=g[0],y=g[1],C=Object(c.useState)(e.n.text),S=Object(s.a)(C,2),k=S[0],N=S[1],B=function(){var e=Object(x.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),l(!1),e.next=4,A();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var t=Object(x.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/v1/newsletter/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({id:e.n._id,text:k,title:m,active:v})}).then((function(e){return e.json()}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)("div",{children:Object(j.jsxs)(r.a,{onClick:function(){return l(!0)},children:["Edit",Object(j.jsxs)(h.a,{width:640,placement:"right",onClose:B,visible:i,children:[Object(j.jsxs)("h4",{children:["Active : ",e.n.active.toString()]}),Object(j.jsxs)("h4",{children:["Created By : ",e.n.createdBy.name]}),Object(j.jsx)(o.a,{}),Object(j.jsxs)("h4",{children:["Title :"," ",Object(j.jsx)(O.a,{style:{width:300},onChange:function(e){return y(e.target.value)}})]}),Object(j.jsx)(o.a,{}),Object(j.jsx)("h5",{children:"Detail"}),Object(j.jsx)(O.a.TextArea,{defaultValue:e.n.text,rows:10,onChange:function(e){return N(e.target.value)}}),Object(j.jsx)(o.a,{}),Object(j.jsx)("h5",{children:"Select the button below to change visability "}),Object(j.jsx)(f.a.Group,{buttonStyle:"solid",value:v,onChange:function(e){return p(e.target.value)},style:{textAlign:"center"},children:Object(j.jsxs)(a.b,{children:[Object(j.jsx)(f.a.Button,{value:!0,children:"Active"}),Object(j.jsx)(f.a.Button,{value:!1,children:"Hidden"})]})})]})]})})},p=n(32),w=n(373),g=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(),o=Object(s.a)(i,2),u=o[0],d=o[1],h=Object(c.useState)(),v=Object(s.a)(h,2),g=v[0],m=v[1],y=Object(c.useState)(),C=Object(s.a)(y,2),S=C[0],k=C[1],N=Object(c.useContext)(p.a).createNewsletter,B=O.a.TextArea,A=function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!1),e.next=3,N(u,g,S);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){return r(!0)},type:"button",className:"inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:Object(j.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(j.jsx)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})})}),Object(j.jsxs)(l.a,{visible:n,title:"Create a new newsletter",okText:"Create",cancelText:"Cancel",onCancel:function(){r(!1)},onOk:A,children:[Object(j.jsx)("div",{style:{margin:25},children:Object(j.jsx)(w.a,{children:Object(j.jsx)(O.a,{placeholder:"Enter newsletter tittle here...",style:{width:400,marginLeft:-25},onChange:function(e){return d(e.target.value)}})})}),Object(j.jsx)("div",{children:Object(j.jsx)(B,{rows:8,placeholder:"Enter newsletter content here...",onChange:function(e){return m(e.target.value)}})}),Object(j.jsx)("div",{style:{margin:25},children:Object(j.jsx)(f.a.Group,{defaultValue:S,value:S,onChange:function(e){return k(e.target.value)},children:Object(j.jsxs)(a.b,{children:[Object(j.jsx)(f.a.Button,{value:"true",children:"Active"}),Object(j.jsx)(f.a.Button,{value:"false",children:"Hidden"})]})})})]})]})};t.default=function(){var e=Object(c.useContext)(p.a),t=e.getNewsletter,n=e.newsletters,s=e.deleteNewsletter;Object(c.useEffect)((function(){t()}),[]);var l=[{title:"Title",dataIndex:"title",key:"title",width:"50%"},{title:"CreatedBy",dataIndex:["createdBy","name"],key:"CreatedBy",width:"25%"},{key:"action",width:"25%",render:function(e,t){return Object(j.jsxs)(a.b,{children:[Object(j.jsx)(u,{n:t}),Object(j.jsx)(v,{n:t}),Object(j.jsx)(r.a,{onClick:function(){return s(t._id)},children:"Delete"})]})}}];return Object(j.jsx)("div",{children:Object(j.jsx)("main",{className:"relative z-0 overflow-y-auto focus:outline-none",tabindex:"0",children:Object(j.jsxs)("div",{className:"py-6",children:[Object(j.jsxs)("div",{className:"flex flex-row max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:[Object(j.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Newsletters"}),Object(j.jsx)("div",{className:"ml-3",children:Object(j.jsx)(g,{})})]}),Object(j.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:Object(j.jsx)("div",{className:"py-4",children:Object(j.jsx)(i.a,{className:"your-table",dataSource:n,columns:l,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","30"]}})})})]})})})}}}]);
//# sourceMappingURL=8.94d4a11e.chunk.js.map