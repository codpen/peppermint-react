{"version":3,"sources":["hoc/CheckAuth.js"],"names":["CheckAuth","children","history","useHistory","useEffect","localStorage","getItem","push","a","fetch","method","headers","Accept","then","res","json","auth"],"mappings":"0JAmCeA,UAhCG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACbC,EAAUC,cA4BhB,OA1BAC,qBAAU,WAC6B,OAAjCC,aAAaC,QAAQ,SACvBJ,EAAQK,KAAK,aAIjBH,qBAAU,WAAM,4CACd,sBAAAI,EAAA,sEACQC,MAAM,qBAAsB,CAChCC,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChBC,OAAQ,sBAGTC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAAAC,IACa,IAAbA,EAAIE,MACNd,EAAQK,KAAK,aAXrB,4CADc,uBAAC,WAAD,wBAgBdS,KAEC,IAEI,8BAAMf","file":"static/js/20.3dd0b1e1.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst CheckAuth = ({ children }) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    if (localStorage.getItem(\"user\") === null) {\n      history.push(\"/login\");\n    } \n  });\n\n  useEffect(() => {\n    async function auth() {\n      await fetch(`/api/v1/auth/token`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n      })\n        .then((res) => res.json())\n        .then(res => {\n          if (res.auth === false) {\n            history.push(\"/login\");\n          } \n        });\n    }\n    auth();\n    // eslint-disable-next-line\n  }, []);\n\n  return <div>{children}</div>;\n};\n\nexport default CheckAuth;\n"],"sourceRoot":""}