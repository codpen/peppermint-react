(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{386:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),i=s(5),n=s(49),l=s(0),r=s(55),x=s(52),d=s(4),o=function(){var e=Object(l.useContext)(x.a),t=e.history,s=e.getHistory,c=e.filter,a=Object(l.useState)(),i=Object(n.a)(a,2),o=i[0],m=i[1];Object(l.useEffect)((function(){s()}),[]);return Object(d.jsxs)("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10",children:[Object(d.jsxs)("div",{className:"flex flex-row",children:[Object(d.jsx)("div",{className:"w-44 mr-4",children:Object(d.jsx)("input",{onChange:function(e){return m(e.target.value)},type:"number",name:"ticketid",id:"ticketid",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Search by Ticket ID"})}),Object(d.jsx)("button",{type:"button",onClick:function(){c(o)},children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),Object(d.jsx)("div",{className:"flex flex-col",children:Object(d.jsx)("div",{className:" overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(d.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(d.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(d.jsx)("thead",{className:"bg-gray-50",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Id"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Issue"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Engineer"}),Object(d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(d.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(d.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(d.jsx)("tbody",{children:t?t.map((function(e){var t,s=e.priority;return"Low"===s&&(t="bg-blue-100 text-blue-800"),"Normal"===s&&(t="bg-green-100 text-green-800"),"High"===s&&(t="bg-red-100 text-red-800"),Object(d.jsxs)("tr",{className:"bg-white",children:[Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.client.name}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Object(d.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t),children:e.priority})}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.issue}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.assignedTo?e.assignedTo.firstName+" "+e.assignedTo.lastName:"not assigned"}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.isComplete?"Completed":"Issued"}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(d.jsx)(r.b,{to:{pathname:"tickets/".concat(e.id),state:e},className:"text-indigo-600 hover:text-indigo-900",children:"view"})})]},e.id)})):""})]})})})})})]})},m=function(){var e=Object(l.useState)([]),t=Object(n.a)(e,2),s=t[0],c=t[1];function x(){return(x=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/tickets/all",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){c(e.tickets)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]);return Object(d.jsx)("div",{className:"overflow-x-auto md:-mx-6 lg:-mx-8 mt-10",children:Object(d.jsx)("div",{className:"py-2 align-middle inline-block min-w-full md:px-6 lg:px-8",children:Object(d.jsx)("div",{className:"overflow-hidden md:rounded-lg",children:s.map((function(e){var t,s=e.priority;return"Low"===s&&(t="bg-blue-100 text-blue-800"),"normal"===s&&(t="bg-green-100 text-green-800"),"High"===s&&(t="bg-red-100 text-red-800"),Object(d.jsx)("div",{className:"flex justify-start",children:Object(d.jsx)("div",{className:"w-full mb-2 border",children:Object(d.jsxs)("div",{className:"px-4 py-4",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"font-semibold leading-tight text-2xl text-gray-800 hover:text-gray-800 ml-1",children:e.name}),Object(d.jsxs)("p",{className:" px-2",children:["Client: ",e.client.name]})]}),Object(d.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 m-1 rounded-full text-xs font-medium ".concat(t),children:e.priority}),Object(d.jsx)("p",{className:"text-gray-900 m-2",children:e.issue}),Object(d.jsx)("div",{className:"text-gray-700 text-sm font-bold p-2 m-2",children:Object(d.jsx)(r.b,{to:{pathname:"tickets/".concat(e._id),state:e},className:"float-right",children:"View Full Ticket"})})]})})},e.id)}))})})})};t.default=function(){return Object(d.jsxs)("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-10 flex flex-col",children:[Object(d.jsx)("div",{className:"sm:px-6 md:px-8 ml-2",children:Object(d.jsx)("div",{className:"flex flex-row",children:Object(d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mr-4",children:"History"})})}),Object(d.jsx)("div",{className:"hidden sm:block",children:Object(d.jsx)(o,{})}),Object(d.jsx)("div",{className:"sm:hidden",children:Object(d.jsx)(m,{})})]})}}}]);
//# sourceMappingURL=17.14c39cb7.chunk.js.map